(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";e.registerHelper("fold","markdown",function(n,i){var d=100;function s(f){var r=n.getTokenTypeAt(e.Pos(f,0));return r&&/\bheader\b/.test(r)}function g(f,r,a){var o=r&&r.match(/^#+/);return o&&s(f)?o[0].length:(o=a&&a.match(/^[=\-]+\s*$/),o&&s(f+1)?a[0]=="="?1:2:d)}var h=n.getLine(i.line),l=n.getLine(i.line+1),v=g(i.line,h,l);if(v!==d){for(var L=n.lastLine(),t=i.line,u=n.getLine(t+2);t<L&&!(g(t+1,l,u)<=v);)++t,l=u,u=n.getLine(t+2);return{from:e.Pos(i.line,h.length),to:e.Pos(t,n.getLine(t).length)}}})});
