(function(i){typeof exports=="object"&&typeof module=="object"?i(require("../../lib/codemirror"),require("../dialog/dialog")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],i):i(CodeMirror)})(function(i){"use strict";i.defineOption("search",{bottom:!1});function u(e,o,r,t,n){e.openDialog?e.openDialog(o,n,{value:t,selectValueOnOpen:!0,bottom:e.options.search.bottom}):n(prompt(r,t))}function l(e){return e.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use line:column or scroll% syntax)")+"</span>"}function s(e,o){var r=Number(o);return/^[-+]/.test(o)?e.getCursor().line+r:r-1}i.commands.jumpToLine=function(e){var o=e.getCursor();u(e,l(e),e.phrase("Jump to line:"),o.line+1+":"+o.ch,function(r){if(r){var t;if(t=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(r))e.setCursor(s(e,t[1]),Number(t[2]));else if(t=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(r)){var n=Math.round(e.lineCount()*Number(t[1])/100);/^[-+]/.test(t[1])&&(n=o.line+n+1),e.setCursor(n-1,o.ch)}else(t=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(r))&&e.setCursor(s(e,t[1]),o.ch)}})},i.keyMap.default["Alt-G"]="jumpToLine"});
