(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";function t(e){var i=e.match(/^\s*\S/);return e.skipToEnd(),i?"error":null}n.defineMode("asciiarmor",function(){return{token:function(e,i){var r;if(i.state=="top")return e.sol()&&(r=e.match(/^-----BEGIN (.*)?-----\s*$/))?(i.state="headers",i.type=r[1],"tag"):t(e);if(i.state=="headers"){if(e.sol()&&e.match(/^\w+:/))return i.state="header","atom";var o=t(e);return o&&(i.state="body"),o}else{if(i.state=="header")return e.skipToEnd(),i.state="headers","string";if(i.state=="body")return e.sol()&&(r=e.match(/^-----END (.*)?-----\s*$/))?r[1]!=i.type?"error":(i.state="end","tag"):e.eatWhile(/[A-Za-z0-9+\/=]/)?null:(e.next(),"error");if(i.state=="end")return t(e)}},blankLine:function(e){e.state=="headers"&&(e.state="body")},startState:function(){return{state:"top",type:null}}}}),n.defineMIME("application/pgp","asciiarmor"),n.defineMIME("application/pgp-encrypted","asciiarmor"),n.defineMIME("application/pgp-keys","asciiarmor"),n.defineMIME("application/pgp-signature","asciiarmor")});
