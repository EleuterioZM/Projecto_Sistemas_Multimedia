(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],e):e(CodeMirror)})(function(e){"use strict";e.defineMode("tornado:inner",function(){var o=["and","as","assert","autoescape","block","break","class","comment","context","continue","datetime","def","del","elif","else","end","escape","except","exec","extends","false","finally","for","from","global","if","import","in","include","is","json_encode","lambda","length","linkify","load","module","none","not","or","pass","print","put","raise","raw","return","self","set","squeeze","super","true","try","url_escape","while","with","without","xhtml_escape","yield"];o=new RegExp("^(("+o.join(")|(")+"))\\b");function r(t,n){t.eatWhile(/[^\{]/);var i=t.next();if(i=="{"&&(i=t.eat(/\{|%|#/)))return n.tokenize=a(i),"tag"}function a(t){return t=="{"&&(t="}"),function(n,i){var d=n.next();return d==t&&n.eat("}")?(i.tokenize=r,"tag"):n.match(o)?"keyword":t=="#"?"comment":"string"}}return{startState:function(){return{tokenize:r}},token:function(t,n){return n.tokenize(t,n)}}}),e.defineMode("tornado",function(o){var r=e.getMode(o,"text/html"),a=e.getMode(o,"tornado:inner");return e.overlayMode(r,a)}),e.defineMIME("text/x-tornado","tornado")});
