import{e as _,d as m,B as d,E as s,r as E}from"./dom.min.js?5.3.0";const f="toast",p="bs.toast",o=`.${p}`,T=`mouseover${o}`,y=`mouseout${o}`,w=`focusin${o}`,S=`focusout${o}`,b=`hide${o}`,g=`hidden${o}`,N=`show${o}`,I=`shown${o}`,A="fade",l="hide",r="show",h="showing",L={animation:"boolean",autohide:"boolean",delay:"number"},O={animation:!0,autohide:!0,delay:5e3};class i extends d{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return O}static get DefaultType(){return L}static get NAME(){return f}show(){if(s.trigger(this._element,N).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(A);const e=()=>{this._element.classList.remove(h),s.trigger(this._element,I),this._maybeScheduleHide()};this._element.classList.remove(l),E(this._element),this._element.classList.add(r,h),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||s.trigger(this._element,b).defaultPrevented)return;const e=()=>{this._element.classList.add(l),this._element.classList.remove(h,r),s.trigger(this._element,g)};this._element.classList.add(h),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(r),super.dispose()}isShown(){return this._element.classList.contains(r)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const a=t.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){s.on(this._element,T,t=>this._onInteraction(t,!0)),s.on(this._element,y,t=>this._onInteraction(t,!1)),s.on(this._element,w,t=>this._onInteraction(t,!0)),s.on(this._element,S,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=i.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}if(_(i),m(i),window.bootstrap=window.bootstrap||{},window.bootstrap.Toast=i,Joomla&&Joomla.getOptions){const n=Joomla.getOptions("bootstrap.toast");typeof n=="object"&&n!==null&&Object.keys(n).forEach(t=>{const e=n[t],a={animation:e.animation?e.animation:!0,autohide:e.autohide?e.autohide:!0,delay:e.delay?e.delay:5e3},c=Array.from(document.querySelectorAll(t));c.length&&c.map(u=>new window.bootstrap.Toast(u,a))})}export{i as T};
