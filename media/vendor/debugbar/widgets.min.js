if(typeof PhpDebugBar>"u"){var PhpDebugBar={};PhpDebugBar.$=jQuery}(function(a){PhpDebugBar.Widgets={};var s=PhpDebugBar.utils.makecsscls("phpdebugbar-widgets-"),x=PhpDebugBar.Widgets.htmlize=function(e){return e.replace(/\n/g,"<br>").replace(/\s/g,"&nbsp;")},T=PhpDebugBar.Widgets.renderValue=function(e,t){return typeof e!="string"?t?x(JSON.stringify(e,void 0,2)):JSON.stringify(e):e},k=PhpDebugBar.Widgets.highlight=function(e,t){return typeof e=="string"?typeof hljs>"u"?x(e):t?hljs.highlight(e,{language:t}).value:hljs.highlightAuto(e).value:(typeof hljs=="object"&&e.each(function(i,n){hljs.highlightElement(n)}),e)},b=PhpDebugBar.Widgets.createCodeBlock=function(e,t,i,n){var l=a("<pre />").addClass(s("code-block")),r=a("<code />").text(e+`
`).appendTo(l);if(a.isNumeric(n)&&(a.isNumeric(i)&&(n=n-i+1),r.html(function(m,g){var v=1;return g.replace(/^.*$/gm,function(h){return v++==n?'<span class="'+s("highlighted-line")+'">'+h+"</span>":h})})),t&&l.addClass("language-"+t),k(l),a.isNumeric(i)){var d=e.split(`
`).length,f=a("<ul />").prependTo(l);l.children().addClass(s("numbered-code"));for(var p=i;p<i+d;p++)a("<li />").text(p).appendTo(f)}return l},C=PhpDebugBar.Widgets.ListWidget=PhpDebugBar.Widget.extend({tagName:"ul",className:s("list"),initialize:function(e){e.itemRenderer||(e.itemRenderer=this.itemRenderer),this.set(e)},render:function(){this.bindAttr(["itemRenderer","data"],function(){if(this.$el.empty(),!!this.has("data"))for(var e=this.get("data"),t=0;t<e.length;t++){var i=a("<li />").addClass(s("list-item")).appendTo(this.$el);this.get("itemRenderer")(i,e[t])}})},itemRenderer:function(e,t){e.html(T(t))}}),y=PhpDebugBar.Widgets.KVListWidget=C.extend({tagName:"dl",className:s("kvlist"),render:function(){this.bindAttr(["itemRenderer","data"],function(){if(this.$el.empty(),!!this.has("data")){var e=this;a.each(this.get("data"),function(t,i){var n=a("<dt />").addClass(s("key")).appendTo(e.$el),l=a("<dd />").addClass(s("value")).appendTo(e.$el);e.get("itemRenderer")(n,l,t,i)})}})},itemRenderer:function(e,t,i,n){e.text(i),t.html(x(n))}}),R=PhpDebugBar.Widgets.VariableListWidget=y.extend({className:s("kvlist varlist"),itemRenderer:function(e,t,i,n){a("<span />").attr("title",i).text(i).appendTo(e);var l=n;l&&l.length>100&&(l=l.substr(0,100)+"...");var r=null;t.text(l).click(function(){t.hasClass(s("pretty"))?t.text(l).removeClass(s("pretty")):(r=r||b(n),t.addClass(s("pretty")).empty().append(r))})}}),M=PhpDebugBar.Widgets.HtmlVariableListWidget=y.extend({className:s("kvlist htmlvarlist"),itemRenderer:function(e,t,i,n){a("<span />").attr("title",a("<i />").html(i||"").text()).html(i||"").appendTo(e),t.html(n)}}),j=PhpDebugBar.Widgets.IFrameWidget=PhpDebugBar.Widget.extend({tagName:"iframe",className:s("iframe"),render:function(){this.$el.attr({seamless:"seamless",border:"0",width:"100%",height:"100%"}),this.bindAttr("data",function(e){this.$el.attr("src",e)})}}),A=PhpDebugBar.Widgets.MessagesWidget=PhpDebugBar.Widget.extend({className:s("messages"),render:function(){var e=this;this.$list=new C({itemRenderer:function(t,i){if(i.message_html)var n=a("<span />").addClass(s("value")).html(i.message_html).appendTo(t);else{var l=i.message;l.length>100&&(l=l.substr(0,100)+"...");var n=a("<span />").addClass(s("value")).text(l).appendTo(t);if(!i.is_string||i.message.length>100){var r=i.message;i.is_string||(r=null),t.css("cursor","pointer").click(function(){n.hasClass(s("pretty"))?n.text(l).removeClass(s("pretty")):(r=r||b(i.message,"php"),n.addClass(s("pretty")).empty().append(r))})}}i.collector&&a("<span />").addClass(s("collector")).text(i.collector).prependTo(t),i.label&&(n.addClass(s(i.label)),a("<span />").addClass(s("label")).text(i.label).prependTo(t))}}),this.$list.$el.appendTo(this.$el),this.$toolbar=a('<div><i class="phpdebugbar-fa phpdebugbar-fa-search"></i></div>').addClass(s("toolbar")).appendTo(this.$el),a('<input type="text" aria-label="Search" placeholder="Search" />').on("change",function(){e.set("search",this.value)}).appendTo(this.$toolbar),this.bindAttr("data",function(t){this.set({exclude:[],search:""}),this.$toolbar.find(s(".filter")).remove();for(var i=[],n=this,l=0;l<t.length;l++)!t[l].label||a.inArray(t[l].label,i)>-1||(i.push(t[l].label),a("<a />").addClass(s("filter")).text(t[l].label).attr("rel",t[l].label).on("click",function(){n.onFilterClick(this)}).appendTo(this.$toolbar))}),this.bindAttr(["exclude","search"],function(){var t=this.get("data"),i=this.get("exclude"),n=this.get("search"),l=!1,r=[];n&&n===n.toLowerCase()&&(l=!0);for(var d=0;d<t.length;d++){var f=l?t[d].message.toLowerCase():t[d].message;(!t[d].label||a.inArray(t[d].label,i)===-1)&&(!n||f.indexOf(n)>-1)&&r.push(t[d])}this.$list.set("data",r)})},onFilterClick:function(e){a(e).toggleClass(s("excluded"));var t=[];this.$toolbar.find(s(".filter")+s(".excluded")).each(function(){t.push(this.rel)}),this.set("exclude",t)}}),F=PhpDebugBar.Widgets.TimelineWidget=PhpDebugBar.Widget.extend({tagName:"ul",className:s("timeline"),render:function(){this.bindAttr("data",function(e){var t=function(o){return o<.001?(o*1e6).toFixed()+"\u03BCs":o<1?(o*1e3).toFixed(2)+"ms":o.toFixed(2)+"s"},i=function(u){if(u===0||u===null)return"0B";var _=u<0?"-":"",u=Math.abs(u),W=Math.log(u)/Math.log(1024),N=["B","KB","MB","GB","TB"];return _+Math.round(Math.pow(1024,W-Math.floor(W))*100)/100+N[Math.floor(W)]};if(this.$el.empty(),e.measures){for(var n={},l=0;l<e.measures.length;l++){var r=e.measures[l];n[r.label]||(n[r.label]={count:0,duration:0,memory:0}),n[r.label].count+=1,n[r.label].duration+=r.duration,n[r.label].memory+=r.memory||0;var d=a("<div />").addClass(s("measure")),f=a("<li />"),p=(r.relative_start*100/e.duration).toFixed(2),m=Math.min((r.duration*100/e.duration).toFixed(2),100-p);if(d.append(a("<span />").addClass(s("value")).css({left:p+"%",width:m+"%"})),d.append(a("<span />").addClass(s("label")).text(r.label+" ("+r.duration_str+(r.memory?"/"+r.memory_str:"")+")")),r.collector&&a("<span />").addClass(s("collector")).text(r.collector).appendTo(d),d.appendTo(f),this.$el.append(f),r.params&&!a.isEmptyObject(r.params)){var g=a('<table><tr><th colspan="2">Params</th></tr></table>').addClass(s("params")).appendTo(f);for(var v in r.params)typeof r.params[v]!="function"&&g.append('<tr><td class="'+s("name")+'">'+v+'</td><td class="'+s("value")+'"><pre><code>'+r.params[v]+"</code></pre></td></tr>");f.css("cursor","pointer").click(function(){var o=a(this).find("table");o.is(":visible")?o.hide():o.show()})}}n=a.map(n,function(o,c){return{label:c,data:o}}).sort(function(o,c){return c.data.duration-o.data.duration});var h=a("<table></table>").addClass(s("params"));a.each(n,function(o,c){m=Math.min((c.data.duration*100/e.duration).toFixed(2),100),h.append('<tr><td class="'+s("name")+'">'+c.data.count+" x "+c.label+" ("+m+'%)</td><td class="'+s("value")+'"><div class="'+s("measure")+'"><span class="'+s("value")+'"></span><span class="'+s("label")+'">'+t(c.data.duration)+(c.data.memory?"/"+i(c.data.memory):"")+"</span></div></td></tr>"),h.find("span."+s("value")+":last").css({width:m+"%"})}),this.$el.append("<li/>").find("li:last").append(h)}})}}),w=PhpDebugBar.Widgets.ExceptionsWidget=PhpDebugBar.Widget.extend({className:s("exceptions"),render:function(){this.$list=new C({itemRenderer:function(e,t){if(a("<span />").addClass(s("message")).text(t.message).appendTo(e),t.file){var i=a("<span />").addClass(s("filename")).text(t.file+"#"+t.line);t.xdebug_link&&(t.xdebug_link.ajax?a('<a title="'+t.xdebug_link.url+'"></a>').on("click",function(){a.ajax(t.xdebug_link.url)}).addClass(s("editor-link")).appendTo(i):a('<a href="'+t.xdebug_link.url+'"></a>').addClass(s("editor-link")).appendTo(i)),i.appendTo(e)}if(t.type&&a("<span />").addClass(s("type")).text(t.type).appendTo(e),t.surrounding_lines){var n=b(t.surrounding_lines.join(""),"php").addClass(s("file")).appendTo(e);t.stack_trace_html||e.click(function(){n.is(":visible")?n.hide():n.show()})}if(t.stack_trace_html){var l=a("<span />").addClass(s("filename")).html(t.stack_trace_html);l.appendTo(e)}else t.stack_trace&&t.stack_trace.split(`
`).forEach(function(r){var d=a("<div />");a("<span />").addClass(s("filename")).text(r).appendTo(d),d.appendTo(e)})}}),this.$list.$el.appendTo(this.$el),this.bindAttr("data",function(e){this.$list.set("data",e),e.length==1&&this.$list.$el.children().first().find(s(".file")).show()})}})})(PhpDebugBar.$);
