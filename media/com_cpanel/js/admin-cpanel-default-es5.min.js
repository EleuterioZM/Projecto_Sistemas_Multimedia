(function(){"use strict";/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */var c=function(s,t,u){return t===void 0&&(t=250),function(){for(var a=arguments.length,r=new Array(a),e=0;e<a;e++)r[e]=arguments[e];return clearTimeout(u,u=setTimeout.apply(void 0,[s,t].concat(r)))}};(function(d,s,t){t.unpublishModule=function(r){var e="index.php?option=com_modules&task=modules.unpublish&format=json",i=r.getAttribute("data-module-id");t.request({url:e+"&cid="+i,method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function(){var o=r.closest(".module-wrapper");o.parentNode.removeChild(o),t.renderMessages({message:[t.Text._("COM_CPANEL_UNPUBLISH_MODULE_SUCCESS")]})},onError:function(){t.renderMessages({error:[t.Text._("COM_CPANEL_UNPUBLISH_MODULE_ERROR")]})}})};var u=function r(){var e=s.getElementById("content");if(e){var i=[].slice.call(e.querySelectorAll(".unpublish-module"));i.forEach(function(n){n.addEventListener("click",function(o){var l=o.target;return t.unpublishModule(l)})})}s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",u);var a={$gridBox:null,gridAutoRows:0,gridRowGap:10,resizeGridItem:function(e,i,n){var o=e.querySelector(".card");if(o){var l=o.getBoundingClientRect().height+n,g=Math.ceil(l/(i+n));e.style.gridRowEnd="span "+g}},resizeAllGridItems:function(){var e=this,i=[].slice.call(this.$gridBox.children);i.forEach(function(n){e.resizeGridItem(n,e.gridAutoRows,e.gridRowGap)})},initialise:function(){var e=this;this.$gridBox=s.querySelector("#cpanel-modules .card-columns");var i=d.getComputedStyle(this.$gridBox);this.gridAutoRows=parseInt(i.getPropertyValue("grid-auto-rows"),10)||this.gridAutoRows,this.gridRowGap=parseInt(i.getPropertyValue("grid-row-gap"),10)||this.gridRowGap,this.resizeAllGridItems(),d.addEventListener("load",function(){return e.resizeAllGridItems()}),d.addEventListener("joomla:menu-toggle",function(){setTimeout(function(){return e.resizeAllGridItems()},330)}),d.addEventListener("resize",c(function(){return e.resizeAllGridItems()},50))}};a.initialise()})(window,document,window.Joomla)})();
