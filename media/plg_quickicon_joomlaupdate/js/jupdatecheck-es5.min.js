(function(){"use strict";/**
 * @copyright  (C) 2018 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */if(Joomla&&Joomla.getOptions("js-extensions-update")){var o=function(s,a){var n=document.getElementById("plg_quickicon_joomlaupdate"),e=[].slice.call(n.querySelectorAll("span.j-links-link"));n&&n.classList.add(s),e.length&&e.forEach(function(t){t.innerHTML=Joomla.sanitizeHtml(a)})},i=function(){var s=Joomla.getOptions("js-joomla-update");Joomla.enqueueRequest({url:s.ajaxUrl,method:"GET",promise:!0}).then(function(a){var n=a.responseText,e=JSON.parse(n);if(Array.isArray(e))if(e.length===0)o("success",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{var t=e.shift();t.version!==s.version?o("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",'<span class="badge text-dark bg-light"> \u200E '+t.version+"</span>")):o("success",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"))}else o("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}).catch(function(){o("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))})};window.addEventListener("load",function(){setTimeout(i,300)})}})();
