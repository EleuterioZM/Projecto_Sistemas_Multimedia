/**
 * @copyright  (C) 2018 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */if(Joomla&&Joomla.getOptions("js-extensions-update")){const o=(t,a)=>{const s=document.getElementById("plg_quickicon_joomlaupdate"),e=[].slice.call(s.querySelectorAll("span.j-links-link"));s&&s.classList.add(t),e.length&&e.forEach(n=>{n.innerHTML=Joomla.sanitizeHtml(a)})},l=()=>{const t=Joomla.getOptions("js-joomla-update");Joomla.enqueueRequest({url:t.ajaxUrl,method:"GET",promise:!0}).then(a=>{const s=a.responseText,e=JSON.parse(s);if(Array.isArray(e))if(e.length===0)o("success",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{const n=e.shift();n.version!==t.version?o("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge text-dark bg-light"> \u200E ${n.version}</span>`)):o("success",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"))}else o("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}).catch(()=>{o("danger",Joomla.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))})};window.addEventListener("load",()=>{setTimeout(l,300)})}
