(function(){"use strict";function h(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,a(r,e)}function m(r){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},m(r)}function a(r,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},a(r,e)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(r,e,u){return v()?s=Reflect.construct.bind():s=function(n,f,i){var o=[null];o.push.apply(o,f);var c=Function.bind.apply(n,o),l=new c;return i&&a(l,i.prototype),l},s.apply(null,arguments)}function b(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function d(r){var e=typeof Map=="function"?new Map:void 0;return d=function(t){if(t===null||!b(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return s(t,arguments,m(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)},d(r)}(function(r,e){var u=function(t){h(n,t);function n(){var i;if(i=t.call(this)||this,!e)throw new Error("Joomla API is not properly initiated");if(!i.getAttribute("uri"))throw new Error("No valid url for validation");return i}var f=n.prototype;return f.connectedCallback=function(){var o=this,c=document.getElementById("sendtestmail");c&&c.addEventListener("click",function(){o.sendTestMail(o)})},f.sendTestMail=function(){var o={smtpauth:document.getElementById("jform_smtpauth1").checked?1:0,smtpuser:this.querySelector('[name="jform[smtpuser]"]').value,smtphost:this.querySelector('[name="jform[smtphost]"]').value,smtpsecure:this.querySelector('[name="jform[smtpsecure]"]').value,smtpport:this.querySelector('[name="jform[smtpport]"]').value,mailfrom:this.querySelector('[name="jform[mailfrom]"]').value,fromname:this.querySelector('[name="jform[fromname]"]').value,mailer:this.querySelector('[name="jform[mailer]"]').value,mailonline:document.getElementById("jform_mailonline1").checked?1:0},c=this.querySelector('[name="jform[smtppass]"]');c.disabled===!1&&(o.smtppass=c.value),e.removeMessages(),e.request({url:this.getAttribute("uri"),method:"POST",data:JSON.stringify(o),perform:!0,headers:{"Content-Type":"application/json"},onSuccess:function(y){var p;try{p=JSON.parse(y)}catch(g){console.error(g)}typeof p.messages=="object"&&p.messages!==null&&e.renderMessages(p.messages),document.body.scrollIntoView({behavior:"smooth"})},onError:function(y){e.renderMessages(e.ajaxErrorsMessages(y)),document.body.scrollIntoView({behavior:"smooth"})}})},n}(d(HTMLElement));r.define("joomla-field-send-test-mail",u)})(customElements,Joomla)})();
