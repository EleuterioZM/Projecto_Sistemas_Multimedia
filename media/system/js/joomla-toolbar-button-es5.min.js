(function(){"use strict";function l(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,k(e.key),e)}}function d(t,n,r){return n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a(t)}function o(t,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},o(t,n)}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(t,n,r){return y()?u=Reflect.construct.bind():u=function(i,c,m){var s=[null];s.push.apply(s,c);var _=Function.bind.apply(i,s),b=new _;return m&&o(b,m.prototype),b},u.apply(null,arguments)}function g(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function f(t){var n=typeof Map=="function"?new Map:void 0;return f=function(e){if(e===null||!g(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(e))return n.get(e);n.set(e,i)}function i(){return u(e,arguments,a(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)},f(t)}function h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,n){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,n||"default");if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function k(t){var n=v(t,"string");return typeof n=="symbol"?n:String(n)}/**
 * @copyright  (C) 2018 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */window.customElements.define("joomla-toolbar-button",function(t){p(n,t);function n(){var e;if(e=t.call(this)||this,!Joomla)throw new Error("Joomla API is not properly initiated");return e.onChange=e.onChange.bind(h(e)),e.executeTask=e.executeTask.bind(h(e)),e}var r=n.prototype;return r.connectedCallback=function(){this.buttonElement=this.querySelector("button, a"),this.buttonElement.addEventListener("click",this.executeTask);var i=this.form||"adminForm";if(this.formElement=document.getElementById(i),this.disabled=!1,this.listSelection&&this.setDisabled(!0),this.listSelection){if(!this.formElement)throw new Error('The form "'+i+'" is required to perform the task, but the form was not found on the page.');this.formElement.boxchecked.addEventListener("change",this.onChange)}},r.disconnectedCallback=function(){this.formElement.boxchecked&&this.formElement.boxchecked.removeEventListener("change",this.onChange),this.buttonElement.removeEventListener("click",this.executeTask)},r.onChange=function(i){var c=i.target;this.setDisabled(c.value<1)},r.setDisabled=function(i){this.disabled=!!i,this.buttonElement&&(this.disabled?this.buttonElement.nodeName==="BUTTON"?this.buttonElement.disabled=!0:this.buttonElement.classList.add("disabled"):this.buttonElement.nodeName==="BUTTON"?this.buttonElement.disabled=!1:this.buttonElement.classList.remove("disabled"))},r.executeTask=function(){return this.disabled||this.confirmMessage&&!confirm(this.confirmMessage)?!1:(this.task&&Joomla.submitbutton(this.task,this.form,this.formValidation),!0)},d(n,[{key:"task",get:function(){return this.getAttribute("task")}},{key:"listSelection",get:function(){return this.hasAttribute("list-selection")}},{key:"form",get:function(){return this.getAttribute("form")}},{key:"formValidation",get:function(){return this.hasAttribute("form-validation")}},{key:"confirmMessage",get:function(){return this.getAttribute("confirm-message")}}]),n}(f(HTMLElement)))})();
