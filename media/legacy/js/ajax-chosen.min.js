/**
 * @copyright   (C) 2013 Open Source Matters, Inc. <https://www.joomla.org>
 * @license     GNU General Public License version 2 or later; see LICENSE.txt
 */(function(e){return e.fn.ajaxChosen=function(a,s,i){var l,o,t,r;return a==null&&(a={}),s==null&&(s={}),i==null&&(i=function(){}),o={minTermLength:3,afterTypeDelay:500,jsonTermKey:"term",keepTypingMsg:Joomla.Text._("JGLOBAL_KEEP_TYPING"),lookingForMsg:Joomla.Text._("JGLOBAL_LOOKING_FOR")},r=this,l=null,t=e.extend({},o,e(r).data(),a),this.jchosen(i||{}),this.each(function(){return e(this).next(".chosen-container").find(".search-field > input, .chosen-search > input").bind("keyup",function(){var v,j,g,_,u;return _=e(this).val(),u=e.trim(e(this).val()),j=u.length<t.minTermLength?t.keepTypingMsg:t.lookingForMsg+(" '"+u+"'"),r.next(".chosen-container").find(".no-results").text(j),u===e(this).data("prevVal")||(e(this).data("prevVal",u),this.timer&&clearTimeout(this.timer),u.length<t.minTermLength)?!1:(v=e(this),t.data==null&&(t.data={}),t.data[t.jsonTermKey]=u,t.dataCallback!=null&&(t.data=t.dataCallback(t.data)),g=t.success,t.success=function(T){var L,x,h;if(T!=null)return h=[],r.find("option").each(function(){return e(this).is(":selected")?h.push(e(this).val()+"-"+e(this).text()):e(this).remove()}),r.find("optgroup:empty").each(function(){return e(this).remove()}),L=s.apply(null,T),x=0,e.each(L,function(J,n){var f,c,p;if(x++,n.group)return f=r.find("optgroup[label='"+n.text+"']"),f.size()||(f=e("<optgroup />")),f.attr("label",n.text).appendTo(r),e.each(n.items,function(K,d){var y,m;if(typeof d=="string"?(m=K,y=d):(m=d.value,y=d.text),e.inArray(m+"-"+y,h)===-1)return e("<option />").attr("value",m).html(y).appendTo(f)});if(typeof n=="string"?(p=J,c=n):(p=n.value,c=n.text),e.inArray(p+"-"+c,h)===-1)return e("<option />").attr("value",p).html(c).appendTo(r)}),x?r.trigger("chosen:updated"):(r.data().jchosen.no_results_clear(),r.data().jchosen.no_results(v.val())),g?.(T),v.val(_)},this.timer=setTimeout(function(){return l&&l.abort(),l=e.ajax(t)},t.afterTypeDelay))})})}})(jQuery),jQuery(document).ready(function(e){if(Joomla.getOptions("ajax-chosen")){var a=Joomla.getOptions("ajax-chosen");e(a.selector).ajaxChosen({type:a.type,url:a.url,dataType:a.dataType,jsonTermKey:a.jsonTermKey,afterTypeDelay:a.afterTypeDelay,minTermLength:a.minTermLength},function(s){var i=[];return e.each(s,function(l,o){i.push({value:o.value,text:o.text})}),i})}});
