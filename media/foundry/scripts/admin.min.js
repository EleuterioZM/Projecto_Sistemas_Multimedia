jQuery(document).ready(function(s){var o,a,e,t,n,i,r,c;(o=s("[data-fd-panel-version]")).length<=0||(s.ajax({url:o.data("url"),jsonp:"callback",dataType:"jsonp",data:{apikey:o.data("key"),current:o.data("installed")},success:function(e){e.error&&s("[data-fd-structure]").prepend('<div style="margin-bottom: 0;" class="app-alert is-on alert alert-danger"><div class="row-table"><div class="col-cell cell-tight"><i class="fdi fa fa-exclamation-triangle"></i></div><div class="col-cell pl-10 pr-10">'+e.error+"</div></div></div>");var t={latest:e.version,installed:o.data("installed")},a=-1===function(e,t){for(var a=0,n=e.split("."),d=t.split("."),o=Math.max(n.length,d.length),i=0;i<o;i++){var r=i<n.length?parseInt(n[i],10):0,s=i<d.length?parseInt(d[i],10):0;if((r=isNaN(r)?0:r)!=(s=isNaN(s)?0:s)){a=s<r?1:-1;break}}return a}(t.installed,t.latest);o.find("[data-online]").html(t.latest),o.find("[data-local]").html(t.installed);var n="latest-updates",t=o.find("[data-info-icon]");t.removeClass("fa-ellipsis-h text-gray-500"),a&&(n="require-updates",t.addClass("fa-times text-danger-500")),a||(o.find("[data-info-icon]"),t.addClass("fa-check text-success-500")),o.find("[data-info-body]").toggleClass(n);n=s("[data-fd-outdated-notice]");0<n.length&&a&&n.removeClass("hidden");var d=s("[data-fd-panel-news]"),e=e.news||[];e&&0<d.length&&s.each(e,function(e,t){var a=d.find("[data-template]").clone(),n=s(a.html()),a=d.find("[data-result]");a.find("[data-fd-loader-wrapper]").addClass("t-hidden"),n.removeClass("t-hidden"),n.find("[data-date]").html(t.date),n.find("[data-image]").attr("src",t.image),n.find("[data-permalink]").attr("href",t.permalink),n.find("[data-title]").html(t.title),n.find("[data-content]").html(t.content),a.append(n)})}}),s(document).on("click.update.button","[data-fd-update-button]",function(e){s(document).trigger("fd.upgrade.pro")})),s("[data-form-tabs]").on("click",function(){var e=s(this).attr("href"),t=s("[data-fd-active-tab-input]"),e=e.replace("#","");0<t.length&&t.val(e)}),0<(e=s("#help-button-template")).length&&e.children().appendTo("#toolbar"),a=s("#toolbar"),(n=s("[data-fd-toolbar-actions]")).length<=0||n.each(function(){var e=s(this),t=e.data("position")||"append";e.removeClass("t-hidden"),"append"==t?e.appendTo(a):e.prependTo(a),e.find("[data-action]").each(function(){var e=s(this),t=e.data("action");1===e.data("custom")||e.on("click",function(){Joomla.submitbutton(t)})})}),function(){s("#toolbar");var t=s("[data-fd-toolbar-search]"),a=s("[data-fd-toolbar-search-result]"),n=s("[data-fd-toolbar-search-input]");setTimeout(function(){t.appendTo("#toolbar").removeClass("t-hidden"),s("body").on("click",function(e){e=s(e.target);e.is(n)||e.is(a)||e.is(t)||e.parents().is(a)||a.addClass("t-hidden")})},100);var d,o,i,a=s("[data-fd-toolbar-search-result]"),n=s("[data-fd-toolbar-search-input]");s(document).on("keyup.toolbar.search","[data-fd-toolbar-search] [data-fd-toolbar-search-input]",(d=function(){var e=s(this).parents("[data-fd-toolbar-search]").data("fd-toolbar-search"),t=s(this).val();""!==t?fd.trigger(e,"search.settings",[t,a]):a.addClass("t-hidden")},o=350,i=0,function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){d.apply(e,t)},o||0)}))}(),c=s("body #toolbar-apply"),e=s("body #toolbar-save"),n=s("body #toolbar-save-new"),0<c.length&&(0<e.length||0<n.length)&&((r=s("[data-fd-toolbar-save-group]")).length<1||(c.hide(),e.hide(),n.hide(),(r=s(r.html())).prepend(c),c.css("display","block"),c=r.find("[data-dropdown-items]"),0<e.length&&e.appendTo(c).css("display","block"),0<n.length&&n.appendTo(c).css("display","block"),r.prependTo("#toolbar"))),n=s("[data-fd-sidebar]").html(),c=s("#sidebarmenu").find("> nav").first(),i=c.find("ul.main-nav"),r=s("[data-fd-j4-sidebar]"),0<i.length&&0<r.length&&(i.hide(),i.prepend(r.html()),c.append(n),t=c.find("ul.app-sidebar-nav"),s(document).on("click.back.joomla","[data-fd-back-joomla]",function(){i.show(),t.hide()}),s(document).on("click.back.extension","[data-fd-back-extension]",function(){i.hide(),t.show()})),s(document).on("click.sidebar.item","[data-fd-sidebar-parent]",function(e){var t=s(this);0<t.data("childs")&&(e.preventDefault(),e=t.parent("[data-fd-sidebar-item]"),(t=s("[data-fd-sidebar-item]").not(e)).removeClass("active"),t.find("[data-fd-parent-badge]").removeClass("t-hidden"),e.find("[data-fd-parent-badge]").addClass("t-hidden"),e.toggleClass("active"))}),s("[data-fd-container-nav]").appendTo(s(".header")),s(window).scroll(function(){var e=s(this).scrollTop();50<e&&s(".header").addClass("header-stick"),e<50&&s(".header").removeClass("header-stick")}),s(".nav-sidebar-toggle").click(function(){s("html").toggleClass("show-foundry-sidebar"),s(".subhead-collapse").removeClass("in").css("height",0)}),s(".nav-subhead-toggle").click(function(){s("html").removeClass("show-foundry-sidebar"),s(".subhead-collapse").toggleClass("in").css("height","auto")}),FD.require().script("vendor/select2").done(function(){var r=!1;s("[data-fd-select2]").each(function(){!function(e,t){!1===r&&((d=s('<div id="fd" class="is-select2">')).html('<div class="light" data-fd-select2-container>'),s("body").append(d),r=!0);var a=1==+e.data("fd-select2-multiple"),n="rtl"===e.data("dir"),d=e.children().length;const o=s.extend({},{width:"100%",minimumResultsForSearch:5<d?3:1/0,theme:e.data("theme"),dropdownParent:s("[data-fd-select2-container]")},t);a&&(o.tags=!0),n&&(o.dir="rtl"),s(e).fdSelect2(o);const i=e.data("appearance")||"light";s(e).on("select2:opening",function(){s("[data-fd-select2-container]").removeClass("dark light").addClass(i)})}(s(this))}),s("[data-fd-select2]").on("select2:open",function(){s("body").addClass("has-select2-dropdown")}),s("[data-fd-select2]").on("select2:close",function(){s("body").removeClass("has-select2-dropdown")})}),(c=s("[data-fd-grid]")).length<=0||{element:null,elements:{task:"[data-fd-table-task]",boxChecked:"[data-fd-table-checked]",checkAll:"[data-fd-table-checkall]",checkbox:"[data-fd-table-id]",checkboxWrapper:"[data-table-grid-checkbox]",publishItems:"[data-fd-table-publishing]",resetSearch:"[data-fd-table-search] [data-table-reset]",searchInput:"[data-fd-table-search] [data-table-search-input]",searchButton:"[data-fd-table-search] [data-table-search]",filters:"[data-fd-table-filter]",action:"[data-eb-action]",ordering:"[data-fd-table-ordering]",direction:"[data-fd-table-direction]",sort:"[data-fd-table-sort]",saveOrder:"[data-fd-table-save-order]",row:"tbody > tr"},overrideCheckbox:!0,get:function(e){return this.element.find(this.elements[e])},getSelector:function(e){return"[data-fd-grid] "+this.elements[e]},init:function(e){var n=this;this.element=e;e=this.element.data("override-checkbox");void 0!==e&&(this.overrideCheckbox=1===parseInt(e)),s(document).on("click.grid.action",this.getSelector("action"),function(e){e.preventDefault(),e.stopPropagation()}),s(document).on("click.grid.row",this.getSelector("row"),function(e){var t,a;n.overrideCheckbox&&(a=(t=s(this)).find(n.elements.checkbox),n.updateCheckbox(t,a))}),s(document).on("click.grid.publishItems",this.getSelector("publishItems"),function(e){var t=s(this);"1"==t.data("disabled")?e.stopPropagation():(e=t.parents(n.elements.row),t=t.data("task"),n.selectRow(e),n.setTask(t),n.submitForm())}),s(document).on("click.grid.checkbox",this.getSelector("checkboxWrapper"),function(e){var t=s(this),a=t.find(n.elements.checkbox),t=t.parents(n.elements.row);n.updateCheckbox(t,a)}),s(document).on("change.grid.checkbox",this.getSelector("checkbox"),function(e){var t=s(this);t.is(":checkbox")&&t.parents(n.elements.row).toggleClass("is-checked",t.is(":checked")),n.updateTotalChecked()}),s(document).on("click.grid.checkAll",this.getSelector("checkAll"),function(e){var t=s(this).is(":checked");n.get("checkbox").prop("checked",t).trigger("change"),n.updateTotalChecked()}),s(document).on("change.grid.boxChecked",this.getSelector("boxChecked"),function(e){var t,a,n;s("body").hasClass("is-joomla-4")&&(t=s(this).val(),a=document.querySelectorAll("joomla-toolbar-button"),n=!(0<t),s(a).each(function(e,t){t.listSelection&&t.setDisabled(n)}))}),s(document).on("change.grid.filters",this.getSelector("filters"),function(e){n.setTask(""),n.submitForm()}),s(document).on("click.grid.resetSearch",this.getSelector("resetSearch"),function(e){n.get("searchInput").val(""),n.get("resetSearch").removeClass("t-invisible"),n.submitForm()}),s(document).on("click.grid.searchButton",this.getSelector("searchButton"),function(e){e.preventDefault(),e.stopPropagation(),n.submitForm()}),s(document).on("keydown.grid.searchInput",this.getSelector("searchInput"),function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),n.submitForm())}),s(document).on("keyup.grid.searchInput",this.getSelector("searchInput"),function(e){var t=s(this).val(),a=n.get("resetSearch");0<t.length?a.removeClass("t-invisible"):a.addClass("t-invisible")}),s(document).on("click.grid.sort",this.getSelector("sort"),function(e){e.preventDefault(),e.stopPropagation();var t=s(this),e=t.data("sort"),t=t.data("direction");n.setOrdering(e),n.setDirection(t),n.submitForm()}),s(document).on("click.grid.save.order",this.getSelector("saveOrder"),function(e){e.preventDefault(),e.stopPropagation();e=s(this).data("task");n.setTask(e),n.submitForm()}),s(document).on("foundy.grid.task.set",function(e,t){n.setTask(t)}),s(document).on("foundy.grid.form.submit",function(e){n.submitForm()})},selectRow:function(e){e.find("input[name=cid\\[\\]]").prop("checked",!0)},setTask:function(e){this.get("task").val(e)},setOrdering:function(e){this.get("ordering").val(e)},setDirection:function(e){this.get("direction").val(e)},submitForm:function(){this.element.submit()},updateCheckbox:function(e,t,a){a=void 0===a?!t.is(":checked"):a;t.prop("checked",a).trigger("change")},updateTotalChecked:function(){var e=this.get("checkbox").filter(":checked").length;this.get("boxChecked").val(e).trigger("change")}}.init(c),s(document).on("fd.search.rebuild",function(e,t,a){var r={name:"settings",description:"Settings database for search",items:[]},n=[];s(t).each(function(e,i){n.push(s.ajax({type:"GET",url:a+"&layout="+i,success:function(e){d=e.replace(/(<\/?)html( .+?)?>/gi,"$1NOTHTML$2>",e),d=d.replace(/(<\/?)body( .+?)?>/gi,"$1NOTBODY$2>",d);e=s(d).find("notbody").html();(e=s(e)).find("[data-fd-tab-contents]").each(function(e,d){var o=(d=s(d)).attr("id");d.find(".panel > .panel-body > [data-fd-form-group]").each(function(e,t){var a=s(t).find("label"),n=s.trim(a.text()),a=a.data("uid");if(!a)return console.log("Label Error","Page: "+i,"Tab: "+d.attr("id"),"Label: "+s(t).find("label").html()),void alert("Error");if(!n)return console.log("Error processing label","Tab: "+d.attr("id"),t),void alert("Error");t=s(t).find("i").data("content");r.items.push({id:a,page:i,tab:o,label:n,description:t})})})}}))}),s.when.apply(null,n).done(function(){var e=JSON.stringify(r);s(document).trigger("fd.search.rebuildCompleted",[e])})})});