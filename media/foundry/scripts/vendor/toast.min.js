FD.module("vendor/toast",function(a){var s=this;(typeof define==="function"&&define.amd?define:function(e,t){if(typeof s!=="undefined"&&s.exports)s.exports=t(require("jquery"));else{window.foundryToast=t(window.jQuery);const n=()=>{foundryToast.options={closeButton:true,newestOnTop:false,onclick:null,toastClass:"",containerId:"fd",closeHtml:'<div class="o-toast__header"><button type="button" class="toast-close-button" role="button">&times;</button></div>',closeClass:"",contentWrapper:'<div class="o-toast fd-animate__animated" data-fd-toast-content-wrapper></div>',itemsWrapper:'<div class="flex items-center justify-center"></div>',messageClass:"leading-sm text-sm",columns:1,created:null,target:"body"};const e='<div id="fd" class="fd-toast-container" data-fd-toast-wrapper><div class="light"><div class="fd-toast-listing" data-fd-toast-listing></div></div></div>';a(e).appendTo("body")};const o=(e,t)=>{t=Object.entries(t);t.forEach(([e,t])=>{foundryToast.options[e]=t});foundryToast.custom(e)};window.fd.toast=(e,t={})=>{o(e,t)};n()}})(["jquery"],function(E){return function(){function x(t,e){if(t=t||I(),D=E("#"+t.containerId),"fd"==t.containerId){let e=E("#"+t.containerId+"[data-fd-toast-wrapper]");e.addClass("toast-"+t.position),D=e.find("[data-fd-toast-listing]")}return t.containerId&&D.length||e&&(t=t,(D=E("<div/>").attr("id",t.containerId).addClass(t.positionClass).addClass(t.containerClass)).appendTo(E(t.target))),D}function o(e,t,n){n=!(!n||!n.force)&&n.force;return e&&(n||0===E(":focus",e).length)&&(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){O(e,t)}}),1)}function y(e){t&&t(e)}function a(n){function t(e){return(e=null==e?"":e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){let t=d.position;return t=t.split("-")[1],t=t.charAt(0).toUpperCase()+t.slice(1),"fd-animate__fade"+(e=e.charAt(0).toUpperCase()+e.slice(1))+t+" fd-animate__slow"}function e(){var e;d.scrollTo&&"fd"==d.containerId&&((e=d.scrollTo).length<1||(d.onBeforeScrollTo&&d.onBeforeScrollTo instanceof Function&&d.onBeforeScrollTo(e),void 0===d.onBeforeScrollTo&&e.css({background:"#D1ECFF",transition:"background 1.0s ease-in-out"}),e[0].scrollIntoView({behavior:d.scrollBehavior,block:"center"}),d.onAfterScrollTo&&d.onAfterScrollTo instanceof Function&&d.onAfterScrollTo(e),void 0===d.onAfterScrollTo&&setTimeout(function(){e.css({background:d.background})},3e3)))}function o(e){var t=e&&!1!==d.closeMethod?d.closeMethod:d.hideMethod,n=e&&!1!==d.closeDuration?d.closeDuration:d.hideDuration,o=e&&!1!==d.closeEasing?d.closeEasing:d.hideEasing;if(!E(":focus",m).length||e)return clearTimeout(T.intervalId),"fd"===d.containerId?(m.find("[data-fd-toast-content-wrapper]").removeClass(a("in")).addClass(a("out")),void E(document).off("animationend.fd.hide.toast").on("animationend.fd.hide.toast","[data-fd-toast-content-wrapper]",function(){E(this).hasClass(a("out"))&&(O(m,d),clearTimeout(f),d.onHidden&&"hidden"!==b.state&&d.onHidden(),b.state="hidden",b.endTime=new Date,y(b))})):m[t]({duration:n,easing:o,complete:function(){O(m,d),clearTimeout(f),d.onHidden&&"hidden"!==b.state&&d.onHidden(),b.state="hidden",b.endTime=new Date,y(b)}})}function s(){(0<d.timeOut||0<d.extendedTimeOut)&&(f=setTimeout(o,d.extendedTimeOut),T.maxHideTime=parseFloat(d.extendedTimeOut),T.hideEta=(new Date).getTime()+T.maxHideTime)}function i(){clearTimeout(f),T.hideEta=0,m.stop(!0,!0)[d.showMethod]({duration:d.showDuration,easing:d.showEasing})}function r(){var e=(T.hideEta-(new Date).getTime())/T.maxHideTime*100;C.width(e+"%")}var d=I(),l=n.iconClass||d.iconClass;if(void 0!==n.optionsOverride&&(d=E.extend(d,n.optionsOverride),l=n.optionsOverride.iconClass||l),!function(e,t){if(e.preventDuplicates){if(t.message===H)return 1;H=t.message}}(d,n)){k++,D=x(d,!0);var c,p,u,f=null,m=E("<div/>");"fd"==d.containerId&&d.contentWrapper&&(c=E(d.contentWrapper),p=E("<div/>").addClass("o-toast__body space-y-xs"),u=E(d.itemsWrapper),2===d.columns&&u.removeClass().addClass("flex gap-md w-full"),m.append(c),d.itemsWrapper&&p.append(u),c.append(p));var v=E("<div/>"),g=E("<div/>"),h=E("<div/>"),C=E("<div/>"),w=E(d.closeHtml),T={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:k,state:"visible",startTime:new Date,options:d,map:n};return function(){if(d.avatar){if("fd"==d.containerId&&d.contentWrapper){let e=E("<div/>");return d.avatar.trim(),1===d.columns&&e.append(d.avatar),2===d.columns&&(e.addClass("flex-shrink-0"),$imgAvatarWrapper=E("<div/>"),$imgAvatarWrapper.addClass("o-aspect-ratio rounded-md overflow-hidden"),$imgAvatarWrapper.attr("style","--aspect-ratio: 1/1; width: 80px;"),"<"!==d.avatar.charAt(0)&&(d.avatar=E("<img/>").attr("src",d.avatar)),e.append($imgAvatarWrapper.append(d.avatar))),u.append(e)}m.append(d.avatar)}}(),function(){if("fd"==d.containerId&&d.contentWrapper&&d.icon){const t=E("<div/>").addClass("rounded-full inline-flex items-center p-xs bg-gray-900 text-white w-[32px] h-[32px]");var e=E("<i/>").addClass("fdi "+d.icon+" fa-fw");t.append(e),u.append(E("<div/>").addClass("-ml-xs relative z-10").append(t))}else n.iconClass&&m.addClass(d.toastClass).addClass(l)}(),function(){{var e;n.title&&(e=n.title,d.escapeHtml&&(e=t(n.title)),v.append(e).addClass(d.titleClass),m.append(v))}}(),function(){if(n.message)if(d.escapeHtml&&(n.message=t(n.message)),g.append(n.message).addClass(d.messageClass+" mb-2xs"),d.created&&h.append(d.created).addClass(d.messageClass+" text-gray-500"),"fd"==d.containerId&&d.contentWrapper){if(1===d.columns&&p.append(g),2===d.columns){let e=E("<div/>").addClass("flex-grow");e.append(g),d.created&&e.append(h),u.append(e)}}else m.append(g)}(),d.closeButton&&(w.addClass(d.closeClass).attr("role","button"),("fd"==d.containerId&&d.contentWrapper?c:m).prepend(w)),d.progressBar&&(C.addClass(d.progressClass),m.prepend(C)),d.rtl&&m.addClass("rtl"),d.newestOnTop?D.prepend(m):D.append(m),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-fd":case"toast-info":e="polite";break;default:e="assertive"}m.attr("aria-live",e)}(),"fd"===d.containerId&&m.find("[data-fd-toast-content-wrapper]").addClass(a("in")),"fd"!==d.containerId&&(m.hide(),m[d.showMethod]({duration:d.showDuration,easing:d.showEasing,complete:d.onShown})),0<d.timeOut&&(f=setTimeout(o,d.timeOut),T.maxHideTime=parseFloat(d.timeOut),T.hideEta=(new Date).getTime()+T.maxHideTime,d.progressBar&&(T.intervalId=setInterval(r,10))),d.closeOnHover&&m.hover(i,s),!d.onclick&&d.tapToDismiss&&m.click(o),"fd"==d.containerId&&m.click(e),d.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),d.onCloseClick&&d.onCloseClick(e),o(!0)}),d.onclick&&m.click(function(e){d.onclick(e),o()}),y(b),d.debug&&console&&console.log(b),m}}function I(){return E.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,avatar:"",contentWrapper:"",scrollTo:"",scrollBehavior:"smooth",itemsWrapper:null,showMethod:"fadeIn",showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning",custom:"toast-fd"},icon:null,containerClass:"",position:"bottom-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},e.options)}function O(e,t){D=D||x(),"fd"!==t.containerId&&e.is(":visible")||(e.remove(),e=null,D.hasClass("fd-toast-listing")||0!==D.children().length||(D.remove(),H=void 0),E(document).trigger("fd.toast.after.removed"))}var D,t,H,k=0,s="error",i="info",r="success",d="warning",l="custom",e={clear:function(e,t){var n=I();D||x(n),o(e,n,t)||function(e){for(var t=D.children(),n=t.length-1;0<=n;n--)o(E(t[n]),e)}(n)},remove:function(e){var t=I();D||x(t),e&&0===E(":focus",e).length?O(e,t):D.children().length&&D.remove()},error:function(e,t,n){return a({type:s,iconClass:I().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:x,info:function(e,t,n){return a({type:i,iconClass:I().iconClasses.info,message:e,optionsOverride:n,title:t})},custom:function(e,t,n){return a({type:l,iconClass:I().iconClasses.custom,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){t=e},success:function(e,t,n){return a({type:r,iconClass:I().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return a({type:d,iconClass:I().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return e}()}),s.resolve()});