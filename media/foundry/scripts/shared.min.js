FD.module("shared",function(){var e=this;FD.require().script("vendor/tippy","vendor/raty","vendor/tribute").done(function(f){var t;function d(t){this.element=f(t)}!function(){window.fd.tribute=(t,e)=>{a(t,e)};const a=(t,e)=>{new Tribute({values:e.values,containerClass:"tribute-container "+e.fdTheme+" si-theme-"+e.fdAccent,selectTemplate:e.selectTemplate,menuItemTemplate:e.menuItemTemplate,menuShowMinLength:void 0===e.min?3:e.min}).attach(t)}}(),function(){fd.dropdown=(t,e)=>{a(t,e)};const d=(t,e,a)=>{a=t.reference.getAttribute(a);if(void 0!==window[a])return window[a].apply(e,[t])},a=(t,e)=>{tippy.delegate("body",{target:t,content:t=>{var e=d({reference:t},this,"data-fd-dropdown-content");return void 0!==e?e:t.nextElementSibling?t.nextElementSibling.innerHTML:void 0},onCreate:function(t){var e,a;"BODY"!==t.reference.tagName&&(e=t.reference.getAttribute("data-fd-dropdown-trigger")||"click",a=!!+t.reference.getAttribute("data-fd-dropdown-arrow"),t.setProps({arrow:a,trigger:e}),d(t,this,"data-fd-dropdown-create"))},onDestroy:t=>{d(t,this,"data-fd-dropdown-destroy")},onHidden:t=>{d(t,this,"data-fd-dropdown-hidden")},onShow:t=>{d(t,this,"data-fd-dropdown-show")},onMount:t=>{t.popperInstance.setOptions({placement:t.reference.getAttribute("data-fd-dropdown-placement")}),d(t,this,"data-fd-dropdown-mount")},popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["top","top-start","top-end","bottom-start","bottom-end"]}}]},trigger:"click",maxWidth:"none",role:"fd-dropdown",allowHTML:!0,theme:"fd-light",interactive:!0,appendTo:t=>{var e=t.getAttribute("data-fd-dropdown-target");return"self"===e?t:document.querySelector(e)},...e})};a("[data-fd-dropdown-wrapper] [data-fd-dropdown]")}(),f(document).on("change.form.toggler","[data-fd-toggler-checkbox]",function(){var t=f(this),e=t.is(":checked"),t=t.parents("[data-fd-toggler]");0<t.length&&((a=t.find("input[type=hidden]")).val(e?1:0),a[0].dispatchEvent(new CustomEvent("change")));var a=t.data("dependency");a&&0<a.length&&(a=f(a),(e=!0==!!+t.data("dependency-value")?e:!e)&&a.removeClass("t-hidden"),e||a.addClass("t-hidden"))}),f(document).on("click","[data-fd-toggler]",function(t){var e=f(this),a=e.data("fd-toggler"),d=e.data("disabled"),n=e.data("disabledDesc");d&&0<n.length&&(e=e.data("disabledTitle"),fd.trigger(a,"toggler.disabled",[e,n]))}),f(document).on("click.fd.copy","[data-fd-copy]",function(){var t=f(this),e=t.data("fd-copy"),a=t.siblings()[0];a.select(),document.execCommand("Copy"),fd.trigger(e,"textcopy.copied",[t,a])}),f(document).on("mouseout.fd.copy","[data-fd-copy]",function(){var t=f(this),e=t.data("fd-copy");fd.trigger(e,"textcopy.mouseout",[t])}),f(document).on("click.colorpicker.revert","[data-fd-colorpicker] [data-fd-colorpicker-revert]",function(){var t=f(this),e=t.parents("[data-fd-colorpicker]").data("fd-colorpicker"),a=t.data("color"),t=t.parent().find("input");t.val(a),f(t).trigger("paste.minicolors"),fd.trigger(e,"colorpicker.revert",[t,a])}),f(document).on("click.dismiss.alert","[data-fd-alert] [data-fd-dismiss]",function(){var t=f(this).parents("[data-fd-alert]"),e=t.data("fd-alert");t.remove(),fd.trigger(e,"alerts.dismiss",[t])}),f(document).on("click.string.truncate","[data-fd-truncater] > [data-more]",function(){var t=f(this).parent(),e=t.data("fd-truncater"),a=t.find("[data-original]"),t=t.find("[data-text]");f(this).addClass("t-hidden"),t.addClass("t-hidden"),a.removeClass("t-hidden"),fd.trigger(e,"string.truncate",[t,a])}),t="[data-fd-label] > input[type=text], [data-fd-label] > input[type=password]",f(document).on("focus.fd.label change.fd.label",t,function(){f(this).parent().addClass("is-focused")}),f(document).on("blur.fd.label",t,function(){var t=f(this),e=t.parent(),t=t.val();""===f.trim(t)&&e.removeClass("is-focused")}),f(document).on("click.fd.form.article.browse","[data-fd-article] [data-fd-article-browse]",function(){var t=f(this).parents("[data-fd-article]"),e=t.data("fd-article"),a=t.data("id"),d=t.find("#"+a+"-placeholder"),t=t.find("#"+a);fd.trigger(e,"article.browse",[a,d,t])}),f(document).on("click.fd.form.article.remove","[data-fd-article] [data-fd-article-remove]",function(){var t=f(this),t=(t.attr("[data-fd-article-browse]"),t.parents("[data-form-author-wrapper]"));t.find("input[type=hidden]").val(""),t.find("input[type=text]").val("")}),f(document).on("click.fd.form.user.browse","[data-fd-form-user] [data-fd-browse]",function(t){t.preventDefault(),t.stopPropagation();var e=f(this).parents("[data-fd-form-user]"),a=e.data("fd-form-user"),d=e.data("id"),t=e.find("#"+d+"-placeholder"),e=e.find("#"+d);fd.trigger(a,"user.browse",[d,t,e])}),f(document).on("click.fd.form.user.remove","[data-fd-form-user] [data-fd-remove]",function(t){t.preventDefault(),t.stopPropagation();var e=f(this),t=e.parents("[data-fd-form-user]");e.data("fd-form-user");t.find("input[type=hidden]").val(""),t.find("input[type=text]").val("")}),tippy.delegate("body",{target:"[data-fd-popover]",onMount(e,t){e.setContent(document.querySelector("[data-fd-popover-wrapper]").innerHTML);let a=e.reference;a.getAttribute("data-fd-popover-theme");var d=a.getAttribute("data-fd-popover-placement"),n=a.getAttribute("data-fd-popover-content"),r=a.getAttribute("data-fd-popover-title");const o=f(e.popper),i=o.find("> div"),c=i.find("[data-fd-popover-block]");if(i.attr("data-fd-appearance",c.data("appearance")),e.popperInstance.setOptions({placement:d}),r){let t=e.popper.querySelector("[data-fd-popover-block-title]");t.innerHTML=r,t.classList.remove("t-hidden")}e.popper.querySelector("[data-fd-popover-block-content]").innerHTML=n},theme:"fd-light",role:"fd-popover",trigger:"mouseenter",allowHTML:!0,interactive:!0,arrow:tippy.roundArrow,appendTo:document.body}),f(document).on("click.fd.pagination.link","[data-fd-pagination] [data-fd-pagination-link]",function(t){var e=f(this),a=e.parents("[data-fd-pagination]"),d=a.data("fd-extension"),n=a.find("[data-fd-pagination-limitstart]"),a=e.data("fd-pagination-link-limitstart");void 0===e.data("fd-pagination-link-disabled")&&0<n.length&&(fd.trigger(d,"pagination.click",[n,a]),0<(e=e.parents("[data-fd-grid]")).length&&(n.val(a),e.submit()))}),function(){const e=f("[data-fd-rating]");var t=f("[data-fd-rating-reset]");const a=(t=null)=>{(t=t||e).each(function(t,e){var a=(e=f(e)).data("score");const r=parseInt(e.data("read-only"));parseInt(e.data("action"));var d=parseInt(e.data("rtl"));const o=f("[data-fd-rating-reset]");e.foundryRaty(f.extend({},{readOnly:r,score:a,cancel:!1,half:!0,rtl:d,click:(t,e)=>{if(!r){const d=f(this);var a=d.data("extension");const n=d.closest("[data-fd-rating-wrapper]");t*=2,n.find("[data-fd-rating-input]").val(t),o.length<1&&d.foundryRaty("set",{readOnly:!0,score:t/2}),fd.trigger(a,"ratings.click",[d,t])}}}))})},d=(t=null)=>{(t=t||f("[data-fd-rating-reset]")).on("click",function(){const t=f(this),e=t.closest("[data-fd-rating-wrapper]"),a=e.find("[data-fd-rating]");a.foundryRaty("cancel"),e.find("[data-fd-rating-input]").val("")})};f(document).on("fd.init.ratings",function(t,e){a(e),d()}),0<e.length&&a(),0<t.length&&d()}(),d.prototype.show=function(){var t,e,a=this.element,d=a.closest("[data-fd-tabs-header]"),n=(n=a.data("target"))||(n=a.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"");a.parent("div[data-fd-tab-header-item]").hasClass("is-active")||(t=d.find(".is-active:last a")[0],e=f.Event("show.fd.tab",{relatedTarget:t}),a.triggerHandler(e),e.isDefaultPrevented()||(n=a.closest("div[data-fd-tab-wrapper]").find(n),this.activate(a.parent("[data-fd-tab-header-item]"),d),this.activateContent(n,n.parent(),function(){a.trigger({type:"shown.fd.tab",relatedTarget:t})})))},d.prototype.activate=function(t,e,a){var d=e.find("> .is-active");d.removeClass("is-active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("is-active"),t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a(),d.removeClass("in")},d.prototype.activateContent=function(t,e,a){e.find("> .t-block").removeClass("t-block").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("t-block"),t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()},f.fn.foundryTab=function(a){return this.each(function(){var t=f(this),e=t.data("fd.tab");e||t.data("fd.tab",e=new d(this)),"string"==typeof a&&e[a]()})},f.fn.foundryTab.Constructor=d,f(document).on("click.fd.tab.data-api","[data-fd-tab]",function(t){t.preventDefault(),f(this).foundryTab("show")}),void 0!==window.tippy&&tippy.delegate("body",{target:"[data-fd-tooltip]",onMount:t=>{const e=t.reference;var a=e.getAttribute("data-fd-tooltip-title");const d=f(t.popper),n=d.find("> div"),r=n.find("[data-fd-tooltip-block]");n.attr("data-fd-appearance",r.data("appearance")),t.setContent(document.querySelector("[data-fd-tooltip-wrapper]").innerHTML),t.popperInstance.setOptions({placement:e.getAttribute("data-fd-tooltip-placement")||"bottom"}),t.popper.querySelector("[data-fd-tooltip-message]").innerHTML=a},onCreate:t=>{const e=t.reference;var a=e.hasAttribute("data-fd-tooltip-theme")?e.getAttribute("data-fd-tooltip-theme"):"fd-dark";t.setProps({theme:a})},popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["top","top-start","top-end","bottom-start","bottom-end"]}}]},role:"fd-tooltip",allowHTML:!0,arrow:tippy.roundArrow,interactive:!0,appendTo:document.body,touch:!1}),f(document).on("click.fd.file.browse","[data-fd-file] [data-fd-file-browse]",function(){const t=f(this).parents("[data-fd-file]"),e=t.find("input[type=file]");e.click()}),f(document).on("change.fd.file","[data-fd-file] input[type=file]",function(){const t=f(this).parents("[data-fd-file]");if(+t.data("preview")){var e=f(this);const a=new FileReader;e=e[0].files;const d=f("[data-fd-file-preview]");a.onload=t=>{t=f("<img>").attr("src",t.target.result);d.html(t)},a.readAsDataURL(e[0])}}),e.resolve()})});