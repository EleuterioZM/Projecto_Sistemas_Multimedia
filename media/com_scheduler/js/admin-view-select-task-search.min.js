/**
 * @copyright  (C) 2021 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */const elSearch=document.getElementById("comSchedulerSelectSearch"),elSearchContainer=document.getElementById("comSchedulerSelectSearchContainer"),elSearchHeader=document.getElementById("comSchedulerSelectTypeHeader"),elSearchResults=document.getElementById("comSchedulerSelectResultsContainer"),alertElement=document.querySelector(".tasks-alert"),elCards=[].slice.call(document.querySelectorAll(".comSchedulerSelectCard"));if(elSearch&&elSearchContainer){elSearch.addEventListener("keyup",({target:s})=>{const e=s.value;let o=!1;typeof sessionStorage<"u"&&sessionStorage.setItem("Joomla.com_scheduler.new.search",e),elCards.forEach(t=>{if(t.classList.remove("d-none"),!e)return;const n=t.querySelector(".new-task-title"),c=t.querySelector(".card-body"),l=n?n.textContent:"",a=c?c.textContent:"";l&&!l.toLowerCase().includes(e.toLowerCase())&&a&&!a.toLowerCase().includes(e.toLowerCase())?t.classList.add("d-none"):o=!0}),o||!e?(alertElement.classList.add("d-none"),elSearchHeader.classList.remove("d-none"),elSearchResults.classList.remove("d-none")):(alertElement.classList.remove("d-none"),elSearchHeader.classList.add("d-none"),elSearchResults.classList.add("d-none"))}),elSearchContainer.classList.remove("d-none"),elSearch.focus();try{typeof sessionStorage<"u"&&(elSearch.value=sessionStorage.getItem("Joomla.com_scheduler.new.search")||"",elSearch.dispatchEvent(new KeyboardEvent("keyup")))}catch{}}
