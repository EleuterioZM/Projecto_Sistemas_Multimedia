/**
 * @copyright  (C) 2018 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */(()=>{const a=()=>{if(Joomla.getOptions("js-extensions-update")){const l=Joomla.getOptions("js-extensions-update"),t=(s,n)=>{const e=document.getElementById("plg_quickicon_extensionupdate"),o=[].slice.call(e.querySelectorAll("span.j-links-link"));e&&e.classList.add(s),o.length&&o.forEach(i=>{i.innerHTML=Joomla.sanitizeHtml(n)})};Joomla.enqueueRequest({url:l.ajaxUrl,method:"GET",promise:!0}).then(s=>{const n=s.responseText,e=JSON.parse(n);Array.isArray(e)?e.length===0?t("success",Joomla.Text._("PLG_QUICKICON_EXTENSIONUPDATE_UPTODATE")):t("danger",Joomla.Text._("PLG_QUICKICON_EXTENSIONUPDATE_UPDATEFOUND").replace("%s",`<span class="badge text-dark bg-light">${e.length}</span>`)):t("danger",Joomla.Text._("PLG_QUICKICON_EXTENSIONUPDATE_ERROR"))}).catch(()=>{t("danger",Joomla.Text._("PLG_QUICKICON_EXTENSIONUPDATE_ERROR"))})}};window.addEventListener("load",()=>{setTimeout(a,330)})})();
