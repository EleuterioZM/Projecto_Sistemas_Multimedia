/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */(r=>{const a=r.getOptions("category-change"),t=document.querySelector(`#${a}`);if(!t)throw new Error("Category Id element not found");t.getAttribute("data-refresh-catid")&&t.value!==t.getAttribute("data-cat-id")?t.value=t.getAttribute("data-refresh-catid"):t.setAttribute("data-refresh-catid",t.value),window.Joomla.categoryHasChanged=e=>{e.value!==e.getAttribute("data-refresh-catid")&&(document.body.appendChild(document.createElement("joomla-core-loader")),e.getAttribute("data-refresh-section")&&(document.querySelector("input[name=task]").value=`${e.getAttribute("data-refresh-section")}.reload`),r.submitform(`${e.getAttribute("data-refresh-section")}.reload`,t.form))}})(Joomla);
