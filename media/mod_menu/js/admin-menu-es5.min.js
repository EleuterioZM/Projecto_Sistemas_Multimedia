(function(){"use strict";/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */var d=document.querySelectorAll("ul.main-nav");d.forEach(function(e){new MetisMenu(e)});var o=document.getElementById("wrapper"),n=document.getElementById("sidebar-wrapper"),s=document.getElementById("menu-collapse-icon");if(n||o.classList.remove("closed"),n&&!n.getAttribute("data-hidden")){var u=document.getElementById("menu-collapse"),p=[].slice.call(n.querySelectorAll(".collapse-level-1"));p.forEach(function(e){var t=[].slice.call(e.querySelectorAll(".collapse-level-1"));t.forEach(function(l){l&&(l.classList.remove("collapse-level-1"),l.classList.add("collapse-level-2"))})}),u.addEventListener("click",function(e){e.preventDefault(),o.classList.toggle("closed"),s.classList.toggle("icon-toggle-on"),s.classList.toggle("icon-toggle-off");var t=[].slice.call(document.querySelectorAll(".main-nav > li"));t.forEach(function(a){a.classList.remove("open")});var l=document.querySelector(".child-open");l&&l.classList.remove("child-open"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:o.classList.contains("closed")?"closed":"open",bubbles:!0,cancelable:!0}))});var m=o.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),i=window.location.href,c=document.querySelector("ul.main-nav"),f=[].slice.call(c.querySelectorAll("li.parent > a")),v=[].slice.call(c.querySelectorAll("li.parent .close"));m.forEach(function(e){if((!e.href.match(/index\.php$/)&&i.indexOf(e.href)===0||e.href.match(/index\.php$/)&&i.match(/index\.php$/))&&(e.setAttribute("aria-current","page"),e.classList.add("mm-active"),!e.parentNode.classList.contains("parent"))){var t=e.closest(".collapse-level-1"),l=e.closest(".collapse-level-2");t&&t.parentNode.classList.add("mm-active"),t&&t.classList.add("mm-show"),l&&l.parentNode.classList.add("mm-active"),l&&l.classList.add("mm-show")}});var r=function(t){var l=t.currentTarget,a=l.parentNode;if(a.tagName.toLowerCase()==="span"&&(a=l.parentNode.parentNode),a.classList.contains("open"))c.classList.remove("child-open"),a.classList.remove("open");else{var g=[].slice.call(a.parentNode.children);g.forEach(function(h){h.classList.remove("open")}),o.classList.remove("closed"),s.classList.contains("icon-toggle-off")&&(s.classList.toggle("icon-toggle-off"),s.classList.toggle("icon-toggle-on")),c.classList.add("child-open"),a.parentNode.classList.contains("main-nav")&&a.classList.add("open")}window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"open",bubbles:!0,cancelable:!0}))};f.forEach(function(e){e.addEventListener("click",r),e.addEventListener("keyup",r)}),v.forEach(function(e){e.addEventListener("click",function(){var t=[].slice.call(c.querySelectorAll(".open"));t.forEach(function(l){l.classList.remove("open")}),c.classList.remove("child-open")})})}})();
