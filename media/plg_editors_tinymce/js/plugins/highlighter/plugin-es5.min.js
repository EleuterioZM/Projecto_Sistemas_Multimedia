(function(){"use strict";window.tinymce.PluginManager.add("highlightPlus",function(e,c){var o=function(){e.focus(),e.selection.collapse(!0),e.settings.codemirror||(e.settings.codemirror={}),e.settings.codemirror&&e.settings.codemirror.saveCursorPosition&&e.selection.setContent('<span style="display: none;" class="CmCaReT">&#x0;</span>');var r=800;e.settings.codemirror.width&&(r=e.settings.codemirror.width);var t=550;e.settings.codemirror.height&&(t=e.settings.codemirror.height);var s=[{type:"custom",text:"Ok",name:"codemirrorOk",primary:!0},{type:"cancel",text:"Cancel",name:"codemirrorCancel"}],i={title:"Source code",url:c+"/source.html",width:r,height:t,resizable:!0,maximizable:!0,fullScreen:e.settings.codemirror.fullscreen,saveCursorPosition:!1,buttons:s};i.onAction=function(m,a){if(a.name==="codemirrorOk"){var u=document.querySelectorAll(".tox-dialog__body-iframe iframe")[0];u.contentWindow.tinymceHighlighterSubmit(),e.undoManager.add(),n.close()}};var n=e.windowManager.openUrl(i);e.settings.codemirror.fullscreen&&n.fullscreen(!0)};e.ui.registry.addButton("code",{icon:"sourcecode",title:"Source code+",tooltip:"Source code+",onAction:o}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code+",onAction:o,context:"tools"})})})();
