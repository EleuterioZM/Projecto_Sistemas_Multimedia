function makeMap$2(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const NOOP$1=()=>{},extend$2=Object.assign,hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$1.call(e,t),isArray$2=Array.isArray,isMap$1=e=>toTypeString$1(e)==="[object Map]",isFunction$2=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$3=e=>e!==null&&typeof e=="object",objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hasChanged$1=(e,t)=>!Object.is(e,t),def$1=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},toNumber$2=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let activeEffectScope;class EffectScope{constructor(t){t===void 0&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t){t===void 0&&(t=activeEffectScope),t&&t.active&&t.effects.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=e=>{let{deps:t}=e;if(t.length)for(let n=0;n<t.length;n++)t[n].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];wasTracked(s)&&!newTracked(s)?s.delete(e):t[n++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n,r){n===void 0&&(n=null),this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(shouldTrack&&activeEffect){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=createDep()),trackEffects(s)}}function trackEffects(e,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,n,r,s,i){const o=targetMap.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&isArray$2(e)){const l=toNumber$2(r);o.forEach((c,d)=>{(d==="length"||d>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":isArray$2(e)?isIntegerKey(n)&&a.push(o.get("length")):(a.push(o.get(ITERATE_KEY)),isMap$1(e)&&a.push(o.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(e)||(a.push(o.get(ITERATE_KEY)),isMap$1(e)&&a.push(o.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(e)&&a.push(o.get(ITERATE_KEY));break}if(a.length===1)a[0]&&triggerEffects(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);triggerEffects(createDep(l))}}function triggerEffects(e,t){const n=isArray$2(e)?e:[...e];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap$2("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(){const n=toRaw(this);for(let a=0,l=this.length;a<l;a++)track(n,"get",a+"");for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const o=n[t](...s);return o===-1||o===!1?n[t](...s.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(){pauseTracking();for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];const i=toRaw(this)[t].apply(this,r);return resetTracking(),i}}),e}function createGetter(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const o=isArray$2(r);if(!e&&o&&hasOwn$1(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,i);const a=Reflect.get(r,s,i);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(e||track(r,"get",s),t)?a:isRef(a)?o&&isIntegerKey(s)?a:a.value:isObject$3(a)?e?readonly(a):reactive(a):a}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e){return e===void 0&&(e=!1),function(n,r,s,i){let o=n[r];if(isReadonly(o)&&isRef(o)&&!isRef(s))return!1;if(!e&&(!isShallow(s)&&!isReadonly(s)&&(o=toRaw(o),s=toRaw(s)),!isArray$2(n)&&isRef(o)&&!isRef(s)))return o.value=s,!0;const a=isArray$2(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn$1(n,r),l=Reflect.set(n,r,s,i);return n===toRaw(i)&&(a?hasChanged$1(s,o)&&trigger(n,"set",r,s):trigger(n,"add",r,s)),l}}function deleteProperty(e,t){const n=hasOwn$1(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend$2({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1),e=e.__v_raw;const s=toRaw(e),i=toRaw(t);n||(t!==i&&track(s,"get",t),track(s,"get",i));const{has:o}=getProto(s),a=r?toShallow:n?toReadonly:toReactive;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function has$1(e,t){t===void 0&&(t=!1);const n=this.__v_raw,r=toRaw(n),s=toRaw(e);return t||(e!==s&&track(r,"has",e),track(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function size(e,t){return t===void 0&&(t=!1),e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:s}=getProto(n);let i=r.call(n,e);i||(e=toRaw(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?hasChanged$1(t,o)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let s=n.call(t,e);s||(e=toRaw(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&trigger(t,"delete",e,void 0),i}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(r,s){const i=this,o=i.__v_raw,a=toRaw(o),l=t?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",ITERATE_KEY),o.forEach((c,d)=>r.call(s,l(c),l(d),i))}}function createIterableMethod(e,t,n){return function(){const r=this.__v_raw,s=toRaw(r),i=isMap$1(s),o=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,l=r[e](...arguments),c=n?toShallow:t?toReadonly:toReactive;return!t&&track(s,"iterate",a?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:m}=l.next();return m?{value:d,done:m}:{value:o?[c(d[0]),c(d[1])]:c(d),done:m}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(i){return get$1(this,i)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(i){return get$1(this,i,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(i){return get$1(this,i,!0)},get size(){return size(this,!0)},has(i){return has$1.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(i){return get$1(this,i,!0,!0)},get size(){return size(this,!0)},has(i){return has$1.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=createIterableMethod(i,!1,!1),n[i]=createIterableMethod(i,!0,!1),t[i]=createIterableMethod(i,!1,!0),r[i]=createIterableMethod(i,!0,!0)}),[e,n,t,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(hasOwn$1(n,s)&&s in r?n:r,s,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,r,s){if(!isObject$3(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=getTargetType(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def$1(e,"__v_skip",!0),e}const toReactive=e=>isObject$3(e)?reactive(e):e,toReadonly=e=>isObject$3(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged$1(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const n in e)t[n]=toRef(e,n);return t}class ObjectRefImpl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function toRef(e,t,n){const r=e[t];return isRef(r)?r:new ObjectRefImpl(e,t,n)}var _a;class ComputedRefImpl{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a="__v_isReadonly";function computed$1(e,t,n){n===void 0&&(n=!1);let r,s;const i=isFunction$2(e);return i?(r=e,s=NOOP$1):(r=e.get,s=e.set),new ComputedRefImpl(r,s,i||!s,n)}function makeMap$1(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function normalizeStyle(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(isString$1(e))return e;if(isObject$2(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$2(e)&&(e.toString===objectToString||!isFunction$1(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,r)=>{let[s,i]=r;return n[`${s} =>`]=i,n},{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$2(t)&&!isArray$1(t)&&!isPlainObject(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=e=>onRE$1.test(e),isModelListener$1=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>isObject$2(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),isPlainObject=e=>toTypeString(e)==="[object Object]",isReservedProp=makeMap$1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction$1(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(e=>e.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize$1=cacheStringFunction$1(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction$1(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns$1=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},toNumber$1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function warn(e){}function callWithErrorHandling(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){handleError$1(i,t,n)}return s}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction$1(e)){const i=callWithErrorHandling(e,t,n,r);return i&&isPromise$1(i)&&i.catch(o=>{handleError$1(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(callWithAsyncErrorHandling(e[i],t,n,r));return s}function handleError$1(e,t,n,r){if(t&&t.vnode,t){let s=t.parent;const i=t.proxy,o=n;for(;s;){const l=s.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,i,o)===!1)return}s=s.parent}const a=t.appContext.config.errorHandler;if(a){callWithErrorHandling(a,null,10,[e,i,o]);return}}logError(e)}function logError(e,t,n,r){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1;getId(queue[r])<e?t=r+1:n=r}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t){for(t===void 0&&(t=isFlushing?flushIndex+1:0);t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(e,t){if(e.isUnmounted)return;const n=e.vnode.props||EMPTY_OBJ;for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];let o=s;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in n){const _=`${l==="modelValue"?"model":l}Modifiers`,{number:y,trim:T}=n[_]||EMPTY_OBJ;T&&(o=s.map($=>isString$1($)?$.trim():$)),y&&(o=s.map(toNumber$1))}let c,d=n[c=toHandlerKey(t)]||n[c=toHandlerKey(camelize(t))];!d&&a&&(d=n[c=toHandlerKey(hyphenate$1(t))]),d&&callWithAsyncErrorHandling(d,e,6,o);const m=n[c+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,callWithAsyncErrorHandling(m,e,6,o)}}function normalizeEmitsOptions(e,t,n){n===void 0&&(n=!1);const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!isFunction$1(e)){const l=c=>{const d=normalizeEmitsOptions(c,t,!0);d&&(a=!0,extend$1(o,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(isObject$2(e)&&r.set(e,null),null):(isArray$1(i)?i.forEach(l=>o[l]=null):extend$1(o,i),isObject$2(e)&&r.set(e,o),o)}function isEmitListener(e,t){return!e||!isOn$1(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate$1(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t,n){if(t===void 0&&(t=currentRenderingInstance),!t||e._n)return e;const r=function(){r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(t);let i;try{i=e(...arguments)}finally{setCurrentRenderingInstance(s),r._d&&setBlockTracking(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:d,renderCache:m,data:_,setupState:y,ctx:T,inheritAttrs:$}=e;let F,P;const k=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const L=s||r;F=normalizeVNode(d.call(L,L,m,i,y,_,T)),P=l}else{const L=t;F=normalizeVNode(L.length>1?L(i,{attrs:l,slots:a,emit:c}):L(i,null)),P=t.props?l:getFunctionalFallthrough(l)}}catch(L){blockStack.length=0,handleError$1(L,e,1),F=createVNode(Comment)}let K=F;if(P&&$!==!1){const L=Object.keys(P),{shapeFlag:q}=K;L.length&&q&7&&(o&&L.some(isModelListener$1)&&(P=filterModelListeners(P,o)),K=cloneVNode(K,P))}return n.dirs&&(K=cloneVNode(K),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&(K.transition=n.transition),F=K,setCurrentRenderingInstance(k),F}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn$1(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener$1(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hasPropsChanged(r,o,c):!!o;if(l&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const _=d[m];if(o[_]!==r[_]&&!isEmitListener(c,_))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?hasPropsChanged(r,o,c):!0:!!o;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!isEmitListener(n,i))return!0}return!1}function updateHOCHostEl(e,t){let{vnode:n,parent:r}=e;for(;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n){n===void 0&&(n=!1);const r=currentInstance||currentRenderingInstance;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&isFunction$1(t)?t.call(r.proxy):t}}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n){let{immediate:r,deep:s,flush:i,onTrack:o,onTrigger:a}=n===void 0?EMPTY_OBJ:n;const l=currentInstance;let c,d=!1,m=!1;if(isRef(e)?(c=()=>e.value,d=isShallow(e)):isReactive(e)?(c=()=>e,s=!0):isArray$1(e)?(m=!0,d=e.some(L=>isReactive(L)||isShallow(L)),c=()=>e.map(L=>{if(isRef(L))return L.value;if(isReactive(L))return traverse(L);if(isFunction$1(L))return callWithErrorHandling(L,l,2)})):isFunction$1(e)?t?c=()=>callWithErrorHandling(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return _&&_(),callWithAsyncErrorHandling(e,l,3,[y])}:c=NOOP,t&&s){const L=c;c=()=>traverse(L())}let _,y=L=>{_=k.onStop=()=>{callWithErrorHandling(L,l,4)}},T;if(isInSSRComponentSetup)if(y=NOOP,t?r&&callWithAsyncErrorHandling(t,l,3,[c(),m?[]:void 0,y]):c(),i==="sync"){const L=useSSRContext();T=L.__watcherHandles||(L.__watcherHandles=[])}else return NOOP;let $=m?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const F=()=>{if(k.active)if(t){const L=k.run();(s||d||(m?L.some((q,ee)=>hasChanged(q,$[ee])):hasChanged(L,$)))&&(_&&_(),callWithAsyncErrorHandling(t,l,3,[L,$===INITIAL_WATCHER_VALUE?void 0:m&&$[0]===INITIAL_WATCHER_VALUE?[]:$,y]),$=L)}else k.run()};F.allowRecurse=!!t;let P;i==="sync"?P=F:i==="post"?P=()=>queuePostRenderEffect(F,l&&l.suspense):(F.pre=!0,l&&(F.id=l.uid),P=()=>queueJob(F));const k=new ReactiveEffect(c,P);t?r?F():$=k.run():i==="post"?queuePostRenderEffect(k.run.bind(k),l&&l.suspense):k.run();const K=()=>{k.stop(),l&&l.scope&&remove(l.scope.effects,k)};return T&&T.push(K),K}function instanceWatch(e,t,n){const r=this.proxy,s=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let i;isFunction$1(t)?i=t:(i=t.handler,n=t);const o=currentInstance;setCurrentInstance(this);const a=doWatch(s,i.bind(r),n);return o?setCurrentInstance(o):unsetCurrentInstance(),a}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function traverse(e,t){if(!isObject$2(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t)});else if(isPlainObject(e))for(const n in e)traverse(e[n],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,t){let{slots:n}=t;const r=getCurrentInstance(),s=useTransitionState();let i;return()=>{const o=n.default&&getTransitionRawChildren(n.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const F of o)if(F.type!==Comment){a=F;break}}const l=toRaw(e),{mode:c}=l;if(s.isLeaving)return emptyPlaceholder(a);const d=getKeepAliveChild(a);if(!d)return emptyPlaceholder(a);const m=resolveTransitionHooks(d,l,s,r);setTransitionHooks(d,m);const _=r.subTree,y=_&&getKeepAliveChild(_);let T=!1;const{getTransitionKey:$}=d.type;if($){const F=$();i===void 0?i=F:F!==i&&(i=F,T=!0)}if(y&&y.type!==Comment&&(!isSameVNodeType(d,y)||T)){const F=resolveTransitionHooks(y,l,s,r);if(setTransitionHooks(y,F),c==="out-in")return s.isLeaving=!0,F.afterLeave=()=>{s.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(a);c==="in-out"&&d.type!==Comment&&(F.delayLeave=(P,k,K)=>{const L=getLeavingNodesForType(s,y);L[String(y.key)]=y,P._leaveCb=()=>{k(),P._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=K})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:m,onLeave:_,onAfterLeave:y,onLeaveCancelled:T,onBeforeAppear:$,onAppear:F,onAfterAppear:P,onAppearCancelled:k}=t,K=String(e.key),L=getLeavingNodesForType(n,e),q=(R,V)=>{R&&callWithAsyncErrorHandling(R,r,9,V)},ee=(R,V)=>{const H=V[1];q(R,V),isArray$1(R)?R.every(Y=>Y.length<=1)&&H():R.length<=1&&H()},te={mode:i,persisted:o,beforeEnter(R){let V=a;if(!n.isMounted)if(s)V=$||a;else return;R._leaveCb&&R._leaveCb(!0);const H=L[K];H&&isSameVNodeType(e,H)&&H.el._leaveCb&&H.el._leaveCb(),q(V,[R])},enter(R){let V=l,H=c,Y=d;if(!n.isMounted)if(s)V=F||l,H=P||c,Y=k||d;else return;let O=!1;const W=R._enterCb=Q=>{O||(O=!0,Q?q(Y,[R]):q(H,[R]),te.delayedLeave&&te.delayedLeave(),R._enterCb=void 0)};V?ee(V,[R,W]):W()},leave(R,V){const H=String(e.key);if(R._enterCb&&R._enterCb(!0),n.isUnmounting)return V();q(m,[R]);let Y=!1;const O=R._leaveCb=W=>{Y||(Y=!0,V(),W?q(T,[R]):q(y,[R]),R._leaveCb=void 0,L[H]===e&&delete L[H])};L[H]=e,_?ee(_,[R,O]):O()},clone(R){return resolveTransitionHooks(R,t,n,r)}};return te}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t,n){t===void 0&&(t=!1);let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Fragment?(o.patchFlag&128&&s++,r=r.concat(getTransitionRawChildren(o.children,t,a))):(t||o.type!==Comment)&&r.push(a!=null?cloneVNode(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n){n===void 0&&(n=currentInstance);const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(injectHook(t,r,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(r,t,n,s),s=s.parent}}function injectToKeepAliveRoot(e,t,n,r){const s=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],s)},n)}function injectHook(e,t,n,r){if(n===void 0&&(n=currentInstance),r===void 0&&(r=!1),n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=function(){if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];const c=callWithAsyncErrorHandling(t,n,e,a);return unsetCurrentInstance(),resetTracking(),c});return r?s.unshift(i):s.push(i),i}}const createHook=e=>function(t,n){return n===void 0&&(n=currentInstance),(!isInSSRComponentSetup||e==="sp")&&injectHook(e,function(){return t(...arguments)},n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t){t===void 0&&(t=currentInstance),injectHook("ec",e,t)}function withDirectives(e,t){const n=currentRenderingInstance;if(n===null)return e;const r=getExposeProxy(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,c=EMPTY_OBJ]=t[i];o&&(isFunction$1(o)&&(o={mounted:o,updated:o}),o.deep&&traverse(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function invokeDirectiveHook(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[e.el,a,e,t]),resetTracking())}}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(e,t,n,r){r===void 0&&(r=!1);const s=currentRenderingInstance||currentInstance;if(s){const i=s.type;if(e===COMPONENTS){const a=getComponentName(i,!1);if(a&&(a===t||a===camelize(t)||a===capitalize$1(camelize(t))))return i}const o=resolve(s[e]||i[e],t)||resolve(s.appContext[e],t);return!o&&r?i:o}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize$1(camelize(t))])}function renderList(e,t,n,r){let s;const i=n&&n[r];if(isArray$1(e)||isString$1(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(isObject$2(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function renderSlot(e,t,n,r,s){if(n===void 0&&(n={}),currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(n.name=t),createVNode("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),openBlock();const o=i&&ensureValidVNode(i(n)),a=createBlock(Fragment,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get(e,t){let{_:n}=e;const{ctx:r,setupState:s,data:i,props:o,accessCache:a,type:l,appContext:c}=n;let d;if(t[0]!=="$"){const T=a[t];if(T!==void 0)switch(T){case 1:return s[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(hasSetupBinding(s,t))return a[t]=1,s[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return a[t]=2,i[t];if((d=n.propsOptions[0])&&hasOwn(d,t))return a[t]=3,o[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return a[t]=4,r[t];shouldCacheAccess&&(a[t]=0)}}const m=publicPropertiesMap[t];let _,y;if(m)return t==="$attrs"&&track(n,"get",t),m(n);if((_=l.__cssModules)&&(_=_[t]))return _;if(r!==EMPTY_OBJ&&hasOwn(r,t))return a[t]=4,r[t];if(y=c.config.globalProperties,hasOwn(y,t))return y[t]},set(e,t,n){let{_:r}=e;const{data:s,setupState:i,ctx:o}=r;return hasSetupBinding(i,t)?(i[t]=n,!0):s!==EMPTY_OBJ&&hasOwn(s,t)?(s[t]=n,!0):hasOwn(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(o[t]=n,!0)},has(e,t){let{_:{data:n,setupState:r,accessCache:s,ctx:i,appContext:o,propsOptions:a}}=e,l;return!!s[t]||n!==EMPTY_OBJ&&hasOwn(n,t)||hasSetupBinding(r,t)||(l=a[0])&&hasOwn(l,t)||hasOwn(i,t)||hasOwn(publicPropertiesMap,t)||hasOwn(o.config.globalProperties,t)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:d,beforeMount:m,mounted:_,beforeUpdate:y,updated:T,activated:$,deactivated:F,beforeDestroy:P,beforeUnmount:k,destroyed:K,unmounted:L,render:q,renderTracked:ee,renderTriggered:te,errorCaptured:R,serverPrefetch:V,expose:H,inheritAttrs:Y,components:O,directives:W,filters:Q}=t;if(c&&resolveInjections(c,r,null,e.appContext.config.unwrapInjectedRef),o)for(const z in o){const U=o[z];isFunction$1(U)&&(r[z]=U.bind(n))}if(s){const z=s.call(n,n);isObject$2(z)&&(e.data=reactive(z))}if(shouldCacheAccess=!0,i)for(const z in i){const U=i[z],se=isFunction$1(U)?U.bind(n,n):isFunction$1(U.get)?U.get.bind(n,n):NOOP,de=!isFunction$1(U)&&isFunction$1(U.set)?U.set.bind(n):NOOP,oe=computed({get:se,set:de});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>oe.value,set:ne=>oe.value=ne})}if(a)for(const z in a)createWatcher(a[z],r,n,z);if(l){const z=isFunction$1(l)?l.call(n):l;Reflect.ownKeys(z).forEach(U=>{provide(U,z[U])})}d&&callHook$1(d,e,"c");function J(z,U){isArray$1(U)?U.forEach(se=>z(se.bind(n))):U&&z(U.bind(n))}if(J(onBeforeMount,m),J(onMounted,_),J(onBeforeUpdate,y),J(onUpdated,T),J(onActivated,$),J(onDeactivated,F),J(onErrorCaptured,R),J(onRenderTracked,ee),J(onRenderTriggered,te),J(onBeforeUnmount,k),J(onUnmounted,L),J(onServerPrefetch,V),isArray$1(H))if(H.length){const z=e.exposed||(e.exposed={});H.forEach(U=>{Object.defineProperty(z,U,{get:()=>n[U],set:se=>n[U]=se})})}else e.exposed||(e.exposed={});q&&e.render===NOOP&&(e.render=q),Y!=null&&(e.inheritAttrs=Y),O&&(e.components=O),W&&(e.directives=W)}function resolveInjections(e,t,n,r){r===void 0&&(r=!1),isArray$1(e)&&(e=normalizeInject(e));for(const s in e){const i=e[s];let o;isObject$2(i)?"default"in i?o=inject(i.from||s,i.default,!0):o=inject(i.from||s):o=inject(i),isRef(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){const s=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(e)){const i=t[e];isFunction$1(i)&&watch(s,i)}else if(isFunction$1(e))watch(s,e.bind(n));else if(isObject$2(e))if(isArray$1(e))e.forEach(i=>createWatcher(i,t,n,r));else{const i=isFunction$1(e.handler)?e.handler.bind(n):t[e.handler];isFunction$1(i)&&watch(s,i,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>mergeOptions(l,c,o,!0)),mergeOptions(l,t,o)),isObject$2(t)&&i.set(t,l),l}function mergeOptions(e,t,n,r){r===void 0&&(r=!1);const{mixins:s,extends:i}=t;i&&mergeOptions(e,i,n,!0),s&&s.forEach(o=>mergeOptions(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=internalOptionMergeStrats[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$1(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$1(extend$1(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend$1(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function initProps(e,t,n,r){r===void 0&&(r=!1);const s={},i={};def(i,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:shallowReactive(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function updateProps(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=toRaw(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let _=d[m];if(isEmitListener(e.emitsOptions,_))continue;const y=t[_];if(l)if(hasOwn(i,_))y!==i[_]&&(i[_]=y,c=!0);else{const T=camelize(_);s[T]=resolvePropValue(l,a,T,y,e,!1)}else y!==i[_]&&(i[_]=y,c=!0)}}}else{setFullProps(e,t,s,i)&&(c=!0);let d;for(const m in a)(!t||!hasOwn(t,m)&&((d=hyphenate$1(m))===m||!hasOwn(t,d)))&&(l?n&&(n[m]!==void 0||n[d]!==void 0)&&(s[m]=resolvePropValue(l,a,m,void 0,e,!0)):delete s[m]);if(i!==a)for(const m in i)(!t||!hasOwn(t,m))&&(delete i[m],c=!0)}c&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(isReservedProp(l))continue;const c=t[l];let d;s&&hasOwn(s,d=camelize(l))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:isEmitListener(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=toRaw(n),c=a||EMPTY_OBJ;for(let d=0;d<i.length;d++){const m=i[d];n[m]=resolvePropValue(s,l,m,c[m],e,!hasOwn(c,m))}}return o}function resolvePropValue(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=hasOwn(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&isFunction$1(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(setCurrentInstance(s),r=c[n]=l.call(null,t),unsetCurrentInstance())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===hyphenate$1(n))&&(r=!0))}return r}function normalizePropsOptions(e,t,n){n===void 0&&(n=!1);const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!isFunction$1(e)){const d=m=>{l=!0;const[_,y]=normalizePropsOptions(m,t,!0);extend$1(o,_),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!l)return isObject$2(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(i))for(let d=0;d<i.length;d++){const m=camelize(i[d]);validatePropName(m)&&(o[m]=EMPTY_OBJ)}else if(i)for(const d in i){const m=camelize(d);if(validatePropName(m)){const _=i[d],y=o[m]=isArray$1(_)||isFunction$1(_)?{type:_}:Object.assign({},_);if(y){const T=getTypeIndex(Boolean,y.type),$=getTypeIndex(String,y.type);y[0]=T>-1,y[1]=$<0||T<$,(T>-1||hasOwn(y,"default"))&&a.push(m)}}}const c=[o,a];return isObject$2(e)&&r.set(e,c),c}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(n=>isSameType(n,e)):isFunction$1(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const r=withCtx(function(){return normalizeSlotValue(t(...arguments))},n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const s in e){if(isInternalKey(s))continue;const i=e[s];if(isFunction$1(i))t[s]=normalizeSlot(s,i,r);else if(i!=null){const o=normalizeSlotValue(i);t[s]=()=>o}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=EMPTY_OBJ;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(extend$1(s,t),!n&&a===1&&delete s._):(i=!t.$stable,normalizeObjectSlots(t,s)),o=t}else t&&(normalizeVNodeSlots(e,t),o={default:1});if(i)for(const a in s)!isInternalKey(a)&&!(a in o)&&delete s[a]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(r,s){s===void 0&&(s=null),isFunction$1(r)||(r=Object.assign({},r)),s!=null&&!isObject$2(s)&&(s=null);const i=createAppContext(),o=new Set;let a=!1;const l=i.app={_uid:uid++,_component:r,_props:s,_container:null,_context:i,_instance:null,version,get config(){return i.config},set config(c){},use(c){for(var d=arguments.length,m=new Array(d>1?d-1:0),_=1;_<d;_++)m[_-1]=arguments[_];return o.has(c)||(c&&isFunction$1(c.install)?(o.add(c),c.install(l,...m)):isFunction$1(c)&&(o.add(c),c(l,...m))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,d){return d?(i.components[c]=d,l):i.components[c]},directive(c,d){return d?(i.directives[c]=d,l):i.directives[c]},mount(c,d,m){if(!a){const _=createVNode(r,s);return _.appContext=i,d&&t?t(_,c):e(_,c,m),a=!0,l._container=c,c.__vue_app__=l,getExposeProxy(_.component)||_.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return i.provides[c]=d,l}};return l}}function setRef(e,t,n,r,s){if(s===void 0&&(s=!1),isArray$1(e)){e.forEach((_,y)=>setRef(_,t&&(isArray$1(t)?t[y]:t),n,r,s));return}if(isAsyncWrapper(r)&&!s)return;const i=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,d=a.refs===EMPTY_OBJ?a.refs={}:a.refs,m=a.setupState;if(c!=null&&c!==l&&(isString$1(c)?(d[c]=null,hasOwn(m,c)&&(m[c]=null)):isRef(c)&&(c.value=null)),isFunction$1(l))callWithErrorHandling(l,a,12,[o,d]);else{const _=isString$1(l),y=isRef(l);if(_||y){const T=()=>{if(e.f){const $=_?hasOwn(m,l)?m[l]:d[l]:l.value;s?isArray$1($)&&remove($,i):isArray$1($)?$.includes(i)||$.push(i):_?(d[l]=[i],hasOwn(m,l)&&(m[l]=d[l])):(l.value=[i],e.k&&(d[e.k]=l.value))}else _?(d[l]=o,hasOwn(m,l)&&(m[l]=o)):y&&(l.value=o,e.k&&(d[e.k]=o))};o?(T.id=-1,queuePostRenderEffect(T,n)):T()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:d,parentNode:m,nextSibling:_,setScopeId:y=NOOP,insertStaticContent:T}=e,$=function(u,f,g,v,b,w,A,M,I){if(v===void 0&&(v=null),b===void 0&&(b=null),w===void 0&&(w=null),A===void 0&&(A=!1),M===void 0&&(M=null),I===void 0&&(I=!!f.dynamicChildren),u===f)return;u&&!isSameVNodeType(u,f)&&(v=fe(u),ne(u,b,w,!0),u=null),f.patchFlag===-2&&(I=!1,f.dynamicChildren=null);const{type:E,ref:S,shapeFlag:C}=f;switch(E){case Text:F(u,f,g,v);break;case Comment:P(u,f,g,v);break;case Static:u==null&&k(f,g,v,A);break;case Fragment:O(u,f,g,v,b,w,A,M,I);break;default:C&1?q(u,f,g,v,b,w,A,M,I):C&6?W(u,f,g,v,b,w,A,M,I):(C&64||C&128)&&E.process(u,f,g,v,b,w,A,M,I,ae)}S!=null&&b&&setRef(S,u&&u.ref,w,f||u,!f)},F=(u,f,g,v)=>{if(u==null)r(f.el=a(f.children),g,v);else{const b=f.el=u.el;f.children!==u.children&&c(b,f.children)}},P=(u,f,g,v)=>{u==null?r(f.el=l(f.children||""),g,v):f.el=u.el},k=(u,f,g,v)=>{[u.el,u.anchor]=T(u.children,f,g,v,u.el,u.anchor)},K=(u,f,g)=>{let{el:v,anchor:b}=u,w;for(;v&&v!==b;)w=_(v),r(v,f,g),v=w;r(b,f,g)},L=u=>{let{el:f,anchor:g}=u,v;for(;f&&f!==g;)v=_(f),s(f),f=v;s(g)},q=(u,f,g,v,b,w,A,M,I)=>{A=A||f.type==="svg",u==null?ee(f,g,v,b,w,A,M,I):V(u,f,b,w,A,M,I)},ee=(u,f,g,v,b,w,A,M)=>{let I,E;const{type:S,props:C,shapeFlag:D,transition:x,dirs:N}=u;if(I=u.el=o(u.type,w,C&&C.is,C),D&8?d(I,u.children):D&16&&R(u.children,I,null,v,b,w&&S!=="foreignObject",A,M),N&&invokeDirectiveHook(u,null,v,"created"),C){for(const B in C)B!=="value"&&!isReservedProp(B)&&i(I,B,null,C[B],w,u.children,v,b,ie);"value"in C&&i(I,"value",null,C.value),(E=C.onVnodeBeforeMount)&&invokeVNodeHook(E,v,u)}te(I,u,u.scopeId,A,v),N&&invokeDirectiveHook(u,null,v,"beforeMount");const j=(!b||b&&!b.pendingBranch)&&x&&!x.persisted;j&&x.beforeEnter(I),r(I,f,g),((E=C&&C.onVnodeMounted)||j||N)&&queuePostRenderEffect(()=>{E&&invokeVNodeHook(E,v,u),j&&x.enter(I),N&&invokeDirectiveHook(u,null,v,"mounted")},b)},te=(u,f,g,v,b)=>{if(g&&y(u,g),v)for(let w=0;w<v.length;w++)y(u,v[w]);if(b){let w=b.subTree;if(f===w){const A=b.vnode;te(u,A,A.scopeId,A.slotScopeIds,b.parent)}}},R=function(u,f,g,v,b,w,A,M,I){I===void 0&&(I=0);for(let E=I;E<u.length;E++){const S=u[E]=M?cloneIfMounted(u[E]):normalizeVNode(u[E]);$(null,S,f,g,v,b,w,A,M)}},V=(u,f,g,v,b,w,A)=>{const M=f.el=u.el;let{patchFlag:I,dynamicChildren:E,dirs:S}=f;I|=u.patchFlag&16;const C=u.props||EMPTY_OBJ,D=f.props||EMPTY_OBJ;let x;g&&toggleRecurse(g,!1),(x=D.onVnodeBeforeUpdate)&&invokeVNodeHook(x,g,f,u),S&&invokeDirectiveHook(f,u,g,"beforeUpdate"),g&&toggleRecurse(g,!0);const N=b&&f.type!=="foreignObject";if(E?H(u.dynamicChildren,E,M,g,v,N,w):A||U(u,f,M,null,g,v,N,w,!1),I>0){if(I&16)Y(M,f,C,D,g,v,b);else if(I&2&&C.class!==D.class&&i(M,"class",null,D.class,b),I&4&&i(M,"style",C.style,D.style,b),I&8){const j=f.dynamicProps;for(let B=0;B<j.length;B++){const G=j[B],X=C[G],le=D[G];(le!==X||G==="value")&&i(M,G,X,le,b,u.children,g,v,ie)}}I&1&&u.children!==f.children&&d(M,f.children)}else!A&&E==null&&Y(M,f,C,D,g,v,b);((x=D.onVnodeUpdated)||S)&&queuePostRenderEffect(()=>{x&&invokeVNodeHook(x,g,f,u),S&&invokeDirectiveHook(f,u,g,"updated")},v)},H=(u,f,g,v,b,w,A)=>{for(let M=0;M<f.length;M++){const I=u[M],E=f[M],S=I.el&&(I.type===Fragment||!isSameVNodeType(I,E)||I.shapeFlag&70)?m(I.el):g;$(I,E,S,null,v,b,w,A,!0)}},Y=(u,f,g,v,b,w,A)=>{if(g!==v){if(g!==EMPTY_OBJ)for(const M in g)!isReservedProp(M)&&!(M in v)&&i(u,M,g[M],null,A,f.children,b,w,ie);for(const M in v){if(isReservedProp(M))continue;const I=v[M],E=g[M];I!==E&&M!=="value"&&i(u,M,E,I,A,f.children,b,w,ie)}"value"in v&&i(u,"value",g.value,v.value)}},O=(u,f,g,v,b,w,A,M,I)=>{const E=f.el=u?u.el:a(""),S=f.anchor=u?u.anchor:a("");let{patchFlag:C,dynamicChildren:D,slotScopeIds:x}=f;x&&(M=M?M.concat(x):x),u==null?(r(E,g,v),r(S,g,v),R(f.children,g,S,b,w,A,M,I)):C>0&&C&64&&D&&u.dynamicChildren?(H(u.dynamicChildren,D,g,b,w,A,M),(f.key!=null||b&&f===b.subTree)&&traverseStaticChildren(u,f,!0)):U(u,f,g,S,b,w,A,M,I)},W=(u,f,g,v,b,w,A,M,I)=>{f.slotScopeIds=M,u==null?f.shapeFlag&512?b.ctx.activate(f,g,v,A,I):Q(f,g,v,b,w,A,I):ce(u,f,I)},Q=(u,f,g,v,b,w,A)=>{const M=u.component=createComponentInstance(u,v,b);if(isKeepAlive(u)&&(M.ctx.renderer=ae),setupComponent(M),M.asyncDep){if(b&&b.registerDep(M,J),!u.el){const I=M.subTree=createVNode(Comment);P(null,I,f,g)}return}J(M,u,f,g,b,w,A)},ce=(u,f,g)=>{const v=f.component=u.component;if(shouldUpdateComponent(u,f,g))if(v.asyncDep&&!v.asyncResolved){z(v,f,g);return}else v.next=f,invalidateJob(v.update),v.update();else f.el=u.el,v.vnode=f},J=(u,f,g,v,b,w,A)=>{const M=()=>{if(u.isMounted){let{next:S,bu:C,u:D,parent:x,vnode:N}=u,j=S,B;toggleRecurse(u,!1),S?(S.el=N.el,z(u,S,A)):S=N,C&&invokeArrayFns$1(C),(B=S.props&&S.props.onVnodeBeforeUpdate)&&invokeVNodeHook(B,x,S,N),toggleRecurse(u,!0);const G=renderComponentRoot(u),X=u.subTree;u.subTree=G,$(X,G,m(X.el),fe(X),u,b,w),S.el=G.el,j===null&&updateHOCHostEl(u,G.el),D&&queuePostRenderEffect(D,b),(B=S.props&&S.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(B,x,S,N),b)}else{let S;const{el:C,props:D}=f,{bm:x,m:N,parent:j}=u,B=isAsyncWrapper(f);if(toggleRecurse(u,!1),x&&invokeArrayFns$1(x),!B&&(S=D&&D.onVnodeBeforeMount)&&invokeVNodeHook(S,j,f),toggleRecurse(u,!0),C&&he){const G=()=>{u.subTree=renderComponentRoot(u),he(C,u.subTree,u,b,null)};B?f.type.__asyncLoader().then(()=>!u.isUnmounted&&G()):G()}else{const G=u.subTree=renderComponentRoot(u);$(null,G,g,v,u,b,w),f.el=G.el}if(N&&queuePostRenderEffect(N,b),!B&&(S=D&&D.onVnodeMounted)){const G=f;queuePostRenderEffect(()=>invokeVNodeHook(S,j,G),b)}(f.shapeFlag&256||j&&isAsyncWrapper(j.vnode)&&j.vnode.shapeFlag&256)&&u.a&&queuePostRenderEffect(u.a,b),u.isMounted=!0,f=g=v=null}},I=u.effect=new ReactiveEffect(M,()=>queueJob(E),u.scope),E=u.update=()=>I.run();E.id=u.uid,toggleRecurse(u,!0),E()},z=(u,f,g)=>{f.component=u;const v=u.vnode.props;u.vnode=f,u.next=null,updateProps(u,f.props,v,g),updateSlots(u,f.children,g),pauseTracking(),flushPreFlushCbs(),resetTracking()},U=function(u,f,g,v,b,w,A,M,I){I===void 0&&(I=!1);const E=u&&u.children,S=u?u.shapeFlag:0,C=f.children,{patchFlag:D,shapeFlag:x}=f;if(D>0){if(D&128){de(E,C,g,v,b,w,A,M,I);return}else if(D&256){se(E,C,g,v,b,w,A,M,I);return}}x&8?(S&16&&ie(E,b,w),C!==E&&d(g,C)):S&16?x&16?de(E,C,g,v,b,w,A,M,I):ie(E,b,w,!0):(S&8&&d(g,""),x&16&&R(C,g,v,b,w,A,M,I))},se=(u,f,g,v,b,w,A,M,I)=>{u=u||EMPTY_ARR,f=f||EMPTY_ARR;const E=u.length,S=f.length,C=Math.min(E,S);let D;for(D=0;D<C;D++){const x=f[D]=I?cloneIfMounted(f[D]):normalizeVNode(f[D]);$(u[D],x,g,null,b,w,A,M,I)}E>S?ie(u,b,w,!0,!1,C):R(f,g,v,b,w,A,M,I,C)},de=(u,f,g,v,b,w,A,M,I)=>{let E=0;const S=f.length;let C=u.length-1,D=S-1;for(;E<=C&&E<=D;){const x=u[E],N=f[E]=I?cloneIfMounted(f[E]):normalizeVNode(f[E]);if(isSameVNodeType(x,N))$(x,N,g,null,b,w,A,M,I);else break;E++}for(;E<=C&&E<=D;){const x=u[C],N=f[D]=I?cloneIfMounted(f[D]):normalizeVNode(f[D]);if(isSameVNodeType(x,N))$(x,N,g,null,b,w,A,M,I);else break;C--,D--}if(E>C){if(E<=D){const x=D+1,N=x<S?f[x].el:v;for(;E<=D;)$(null,f[E]=I?cloneIfMounted(f[E]):normalizeVNode(f[E]),g,N,b,w,A,M,I),E++}}else if(E>D)for(;E<=C;)ne(u[E],b,w,!0),E++;else{const x=E,N=E,j=new Map;for(E=N;E<=D;E++){const Z=f[E]=I?cloneIfMounted(f[E]):normalizeVNode(f[E]);Z.key!=null&&j.set(Z.key,E)}let B,G=0;const X=D-N+1;let le=!1,ve=0;const ue=new Array(X);for(E=0;E<X;E++)ue[E]=0;for(E=x;E<=C;E++){const Z=u[E];if(G>=X){ne(Z,b,w,!0);continue}let re;if(Z.key!=null)re=j.get(Z.key);else for(B=N;B<=D;B++)if(ue[B-N]===0&&isSameVNodeType(Z,f[B])){re=B;break}re===void 0?ne(Z,b,w,!0):(ue[re-N]=E+1,re>=ve?ve=re:le=!0,$(Z,f[re],g,null,b,w,A,M,I),G++)}const _e=le?getSequence(ue):EMPTY_ARR;for(B=_e.length-1,E=X-1;E>=0;E--){const Z=N+E,re=f[Z],be=Z+1<S?f[Z+1].el:v;ue[E]===0?$(null,re,g,be,b,w,A,M,I):le&&(B<0||E!==_e[B]?oe(re,g,be,2):B--)}}},oe=function(u,f,g,v,b){b===void 0&&(b=null);const{el:w,type:A,transition:M,children:I,shapeFlag:E}=u;if(E&6){oe(u.component.subTree,f,g,v);return}if(E&128){u.suspense.move(f,g,v);return}if(E&64){A.move(u,f,g,ae);return}if(A===Fragment){r(w,f,g);for(let C=0;C<I.length;C++)oe(I[C],f,g,v);r(u.anchor,f,g);return}if(A===Static){K(u,f,g);return}if(v!==2&&E&1&&M)if(v===0)M.beforeEnter(w),r(w,f,g),queuePostRenderEffect(()=>M.enter(w),b);else{const{leave:C,delayLeave:D,afterLeave:x}=M,N=()=>r(w,f,g),j=()=>{C(w,()=>{N(),x&&x()})};D?D(w,N,j):j()}else r(w,f,g)},ne=function(u,f,g,v,b){v===void 0&&(v=!1),b===void 0&&(b=!1);const{type:w,props:A,ref:M,children:I,dynamicChildren:E,shapeFlag:S,patchFlag:C,dirs:D}=u;if(M!=null&&setRef(M,null,g,u,!0),S&256){f.ctx.deactivate(u);return}const x=S&1&&D,N=!isAsyncWrapper(u);let j;if(N&&(j=A&&A.onVnodeBeforeUnmount)&&invokeVNodeHook(j,f,u),S&6)ye(u.component,g,v);else{if(S&128){u.suspense.unmount(g,v);return}x&&invokeDirectiveHook(u,null,f,"beforeUnmount"),S&64?u.type.remove(u,f,g,b,ae,v):E&&(w!==Fragment||C>0&&C&64)?ie(E,f,g,!1,!0):(w===Fragment&&C&384||!b&&S&16)&&ie(I,f,g),v&&pe(u)}(N&&(j=A&&A.onVnodeUnmounted)||x)&&queuePostRenderEffect(()=>{j&&invokeVNodeHook(j,f,u),x&&invokeDirectiveHook(u,null,f,"unmounted")},g)},pe=u=>{const{type:f,el:g,anchor:v,transition:b}=u;if(f===Fragment){Ee(g,v);return}if(f===Static){L(u);return}const w=()=>{s(g),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(u.shapeFlag&1&&b&&!b.persisted){const{leave:A,delayLeave:M}=b,I=()=>A(g,w);M?M(u.el,w,I):I()}else w()},Ee=(u,f)=>{let g;for(;u!==f;)g=_(u),s(u),u=g;s(f)},ye=(u,f,g)=>{const{bum:v,scope:b,update:w,subTree:A,um:M}=u;v&&invokeArrayFns$1(v),b.stop(),w&&(w.active=!1,ne(A,u,f,g)),M&&queuePostRenderEffect(M,f),queuePostRenderEffect(()=>{u.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ie=function(u,f,g,v,b,w){v===void 0&&(v=!1),b===void 0&&(b=!1),w===void 0&&(w=0);for(let A=w;A<u.length;A++)ne(u[A],f,g,v,b)},fe=u=>u.shapeFlag&6?fe(u.component.subTree):u.shapeFlag&128?u.suspense.next():_(u.anchor||u.el),ge=(u,f,g)=>{u==null?f._vnode&&ne(f._vnode,null,null,!0):$(f._vnode||null,u,f,null,null,null,g),flushPreFlushCbs(),flushPostFlushCbs(),f._vnode=u},ae={p:$,um:ne,m:oe,r:pe,mt:Q,mc:R,pc:U,pbc:H,n:fe,o:e};let me,he;return t&&([me,he]=t(ae)),{render:ge,hydrate:me,createApp:createAppAPI(ge,me)}}function toggleRecurse(e,t){let{effect:n,update:r}=e;n.allowRecurse=r.allowRecurse=t}function traverseStaticChildren(e,t,n){n===void 0&&(n=!1);const r=e.children,s=t.children;if(isArray$1(r)&&isArray$1(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=cloneIfMounted(s[i]),a.el=o.el),n||traverseStaticChildren(o,a)),a.type===Text&&(a.el=o.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e){e===void 0&&(e=!1),blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,s,i){return setupBlock(createBaseVNode(e,t,n,r,s,i,!0))}function createBlock(e,t,n,r,s){return setupBlock(createVNode(e,t,n,r,s,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=e=>{let{key:t}=e;return t??null},normalizeRef=e=>{let{ref:t,ref_key:n,ref_for:r}=e;return t!=null?isString$1(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:n,f:!!r}:t:null};function createBaseVNode(e,t,n,r,s,i,o,a){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=0),s===void 0&&(s=null),i===void 0&&(i=e===Fragment?0:1),o===void 0&&(o=!1),a===void 0&&(a=!1);const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return a?(normalizeChildren(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t,n,r,s,i){if(t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=0),s===void 0&&(s=null),i===void 0&&(i=!1),(!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const a=cloneVNode(e,t,!0);return n&&normalizeChildren(a,n),isBlockTreeEnabled>0&&!i&&currentBlock&&(a.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=a:currentBlock.push(a)),a.patchFlag|=-2,a}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:a,style:l}=t;a&&!isString$1(a)&&(t.class=normalizeClass(a)),isObject$2(l)&&(isProxy(l)&&!isArray$1(l)&&(l=extend$1({},l)),t.style=normalizeStyle(l))}const o=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,n,r,s,o,i,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$1({},e):e:null}function cloneVNode(e,t,n){n===void 0&&(n=!1);const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?mergeProps(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&normalizeKey(a),ref:t&&t.ref?n&&s?isArray$1(s)?s.concat(normalizeRef(t)):[s,normalizeRef(t)]:normalizeRef(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function createTextVNode(e,t){return e===void 0&&(e=" "),t===void 0&&(t=0),createVNode(Text,null,e,t)}function createCommentVNode(e,t){return e===void 0&&(e=""),t===void 0&&(t=!1),t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(){const e={};for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(r==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn$1(r)){const s=e[r],i=n[r];i&&s!==i&&!(isArray$1(s)&&s.includes(i))&&(e[r]=s?[].concat(s,i):i)}else r!==""&&(e[r]=n[r])}return e}function invokeVNodeHook(e,t,n,r){r===void 0&&(r=null),callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,i={uid:uid$1++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,s),emitsOptions:normalizeEmitsOptions(r,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=emit$1.bind(null,i),e.ce&&e.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t){t===void 0&&(t=!1),isInSSRComponentSetup=t;const{props:n,children:r}=e.vnode,s=isStatefulComponent(e);initProps(e,n,s,t),initSlots(e,r);const i=s?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,i}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const i=callWithErrorHandling(r,e,0,[e.props,s]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(i)){if(i.then(unsetCurrentInstance,unsetCurrentInstance),t)return i.then(o=>{handleSetupResult(e,o,t)}).catch(o=>{handleError$1(o,e,0)});e.asyncDep=i}else handleSetupResult(e,i,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,t,n){const r=e.type;if(!e.render){if(!t&&compile&&!r.render){const s=r.template||resolveMergedOptions(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=extend$1(extend$1({isCustomElement:i,delimiters:a},o),l);r.render=compile(s,c)}}e.render=r.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}})}function createSetupContext(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}function getComponentName(e,t){return t===void 0&&(t=!0),isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const r=arguments.length;return r===2?isObject$2(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45";function makeMap(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,isArray=Array.isArray,isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isObject$1=e=>e!==null&&typeof e=="object",cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${e}</svg>`:e;const a=templateContainer.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,n){const r=e.style,s=isString(n);if(n&&!s){for(const i in n)setStyle(r,i,n[i]);if(t&&!isString(t))for(const i in t)n[i]==null&&setStyle(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let s=0;s<prefixes.length;s++){const i=prefixes[s]+r;if(i in e)return prefixCache[t]=i}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const i=isSpecialBooleanAttr(t);n==null||i&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function patchDOMProp(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=includeBooleanAttr(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}function patchEvent(e,t,n,r,s){s===void 0&&(s=null);const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=parseName(t);if(r){const c=i[t]=createInvoker(r,s);addEventListener(e,a,c,l)}else o&&(removeEventListener(e,a,o,l),i[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=function(e,t,n,r,s,i,o,a,l){s===void 0&&(s=!1),t==="class"?patchClass(e,r,s):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,s))?patchDOMProp(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,s))};function shouldSetAsProp(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(n)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,t)=>{let{slots:n}=t;return h(BaseTransition,resolveTransitionProps(e),n)};Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=function(e,t){t===void 0&&(t=[]),isArray(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const O in e)O in DOMTransitionPropsValidators||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:d=a,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,T=normalizeDuration(s),$=T&&T[0],F=T&&T[1],{onBeforeEnter:P,onEnter:k,onEnterCancelled:K,onLeave:L,onLeaveCancelled:q,onBeforeAppear:ee=P,onAppear:te=k,onAppearCancelled:R=K}=t,V=(O,W,Q)=>{removeTransitionClass(O,W?d:a),removeTransitionClass(O,W?c:o),Q&&Q()},H=(O,W)=>{O._isLeaving=!1,removeTransitionClass(O,m),removeTransitionClass(O,y),removeTransitionClass(O,_),W&&W()},Y=O=>(W,Q)=>{const ce=O?te:k,J=()=>V(W,O,Q);callHook(ce,[W,J]),nextFrame(()=>{removeTransitionClass(W,O?l:i),addTransitionClass(W,O?d:a),hasExplicitCallback(ce)||whenTransitionEnds(W,r,$,J)})};return extend(t,{onBeforeEnter(O){callHook(P,[O]),addTransitionClass(O,i),addTransitionClass(O,o)},onBeforeAppear(O){callHook(ee,[O]),addTransitionClass(O,l),addTransitionClass(O,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(O,W){O._isLeaving=!0;const Q=()=>H(O,W);addTransitionClass(O,m),forceReflow(),addTransitionClass(O,_),nextFrame(()=>{O._isLeaving&&(removeTransitionClass(O,m),addTransitionClass(O,y),hasExplicitCallback(L)||whenTransitionEnds(O,r,F,Q))}),callHook(L,[O,Q])},onEnterCancelled(O){V(O,!1),callHook(K,[O])},onAppearCancelled(O){V(O,!0),callHook(R,[O])},onLeaveCancelled(O){H(O),callHook(q,[O])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$1(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,r){const s=e._endId=++endId,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=getTransitionInfo(e,t);if(!o)return r();const c=o+"end";let d=0;const m=()=>{e.removeEventListener(c,_),i()},_=y=>{y.target===e&&++d>=l&&m()};setTimeout(()=>{d<l&&m()},a+1),e.addEventListener(c,_)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),r=T=>(n[T]||"").split(", "),s=r(`${TRANSITION}Delay`),i=r(`${TRANSITION}Duration`),o=getTimeout(s,i),a=r(`${ANIMATION}Delay`),l=r(`${ANIMATION}Duration`),c=getTimeout(a,l);let d=null,m=0,_=0;t===TRANSITION?o>0&&(d=TRANSITION,m=o,_=i.length):t===ANIMATION?c>0&&(d=ANIMATION,m=c,_=l.length):(m=Math.max(o,c),d=m>0?o>c?TRANSITION:ANIMATION:null,_=d?d===TRANSITION?i.length:l.length:0);const y=d===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:d,timeout:m,propCount:_,hasTransform:y}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>toMs(n)+toMs(e[r])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,t,n){let{modifiers:{lazy:r,trim:s,number:i}}=t;e._assign=getModelAssigner(n);const o=i||n.props&&n.props.type==="number";addEventListener(e,r?"change":"input",a=>{if(a.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=toNumber(l)),e._assign(l)}),s&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),r||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,t){let{value:n}=t;e.value=n??""},beforeUpdate(e,t,n){let{value:r,modifiers:{lazy:s,trim:i,number:o}}=t;if(e._assign=getModelAssigner(n),e.composing||document.activeElement===e&&e.type!=="range"&&(s||i&&e.value.trim()===r||(o||e.type==="number")&&toNumber(e.value)===r))return;const a=r??"";e.value!==a&&(e.value=a)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>function(n){for(let o=0;o<t.length;o++){const a=modifierGuards[t[o]];if(a&&a(n,t))return}for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return e(n,...s)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>n=>{if(!("key"in n))return;const r=hyphenate(n.key);if(t.some(s=>s===r||keyNames[s]===r))return e(n)},vShow={beforeMount(e,t,n){let{value:r}=t,{transition:s}=n;e._vod=e.style.display==="none"?"":e.style.display,s&&r?s.beforeEnter(e):setDisplay(e,r)},mounted(e,t,n){let{value:r}=t,{transition:s}=n;s&&r&&s.enter(e)},updated(e,t,n){let{value:r,oldValue:s}=t,{transition:i}=n;!r!=!s&&(i?r?(i.beforeEnter(e),setDisplay(e,!0),i.enter(e)):i.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,r))},beforeUnmount(e,t){let{value:n}=t;setDisplay(e,n)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=function(){const e=ensureRenderer().createApp(...arguments),{mount:t}=e;return e.mount=n=>{const r=normalizeContainer(n);if(!r)return;const s=e._component;!isFunction(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const i=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const SET_IS_LOADING="SET_IS_LOADING",SELECT_DIRECTORY="SELECT_DIRECTORY",SELECT_BROWSER_ITEM="SELECT_BROWSER_ITEM",SELECT_BROWSER_ITEMS="SELECT_BROWSER_ITEMS",UNSELECT_BROWSER_ITEM="UNSELECT_BROWSER_ITEM",UNSELECT_ALL_BROWSER_ITEMS="UNSELECT_ALL_BROWSER_ITEMS",INCREASE_GRID_SIZE="INCREASE_GRID_SIZE",DECREASE_GRID_SIZE="DECREASE_GRID_SIZE",LOAD_CONTENTS_SUCCESS="LOAD_CONTENTS_SUCCESS",LOAD_FULL_CONTENTS_SUCCESS="LOAD_FULL_CONTENTS_SUCCESS",CREATE_DIRECTORY_SUCCESS="CREATE_DIRECTORY_SUCCESS",UPLOAD_SUCCESS="UPLOAD_SUCCESS",SHOW_CREATE_FOLDER_MODAL="SHOW_CREATE_FOLDER_MODAL",HIDE_CREATE_FOLDER_MODAL="HIDE_CREATE_FOLDER_MODAL",SHOW_CONFIRM_DELETE_MODAL="SHOW_CONFIRM_DELETE_MODAL",HIDE_CONFIRM_DELETE_MODAL="HIDE_CONFIRM_DELETE_MODAL",SHOW_INFOBAR="SHOW_INFOBAR",HIDE_INFOBAR="HIDE_INFOBAR",DELETE_SUCCESS="DELETE_SUCCESS",CHANGE_LIST_VIEW="CHANGE_LIST_VIEW",SHOW_PREVIEW_MODAL="SHOW_PREVIEW_MODAL",HIDE_PREVIEW_MODAL="HIDE_PREVIEW_MODAL",SHOW_RENAME_MODAL="SHOW_RENAME_MODAL",HIDE_RENAME_MODAL="HIDE_RENAME_MODAL",RENAME_SUCCESS="RENAME_SUCCESS",SHOW_SHARE_MODAL="SHOW_SHARE_MODAL",HIDE_SHARE_MODAL="HIDE_SHARE_MODAL",SET_SEARCH_QUERY="SET_SEARCH_QUERY",UPDATE_ITEM_PROPERTIES="UPDATE_ITEM_PROPERTIES",UPDATE_SORT_BY="UPDATE_SORT_BY",UPDATE_SORT_DIRECTION="UPDATE_SORT_DIRECTION";function notify(e,t){let n;t.type==="message"&&(n=3e3),Joomla.renderMessages({[t.type]:[Joomla.Text._(e)]},void 0,!0,n)}const notifications={success:(e,t)=>{notify(e,{type:"message",dismiss:!0,...t})},error:(e,t)=>{notify(e,{type:"error",dismiss:!0,...t})},ask:e=>window.confirm(e)};var navigable={methods:{navigateTo(e){this.$store.dispatch("getContents",e,!1,!1)}}},script$v={name:"MediaBrowserItemRow",mixins:[navigable],props:{item:{type:Object,default:()=>{}}},computed:{dimension(){return this.item.width?`${this.item.width}px * ${this.item.height}px`:""},isDir(){return this.item.type==="dir"},size(){return this.item.size?`${(this.item.size/1024).toFixed(2)}`:""},selected(){return!!this.isSelected()}},methods:{onDblClick(){if(this.isDir){this.navigateTo(this.item.path);return}const e=["jpg","jpeg","png","gif","webp","mp4","mp3","pdf"];this.item.extension&&e.includes(this.item.extension.toLowerCase())&&(this.$store.commit(SHOW_PREVIEW_MODAL),this.$store.dispatch("getFullContents",this.item))},isSelected(){return this.$store.state.selectedItems.some(e=>e.path===this.item.path)},onClick(e){const n={path:!1,thumb:!1,fileType:this.item.mime_type?this.item.mime_type:!1,extension:this.item.extension?this.item.extension:!1};if(this.item.type==="file"&&(n.path=this.item.path,n.thumb=this.item.thumb?this.item.thumb:!1,n.width=this.item.width?this.item.width:0,n.height=this.item.height?this.item.height:0,window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:n}))),!this.isSelected()){e.shiftKey||e.keyCode===13||this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS),this.$store.commit(SELECT_BROWSER_ITEM,this.item);return}this.$store.state.selectedItems.length>1&&(this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS),this.$store.commit(SELECT_BROWSER_ITEM,this.item))}}};const _hoisted_1$v=["data-type"],_hoisted_2$t={scope:"row",class:"name"},_hoisted_3$j={class:"size"},_hoisted_4$b={key:0},_hoisted_5$a={class:"dimension"},_hoisted_6$8={class:"created"},_hoisted_7$6={class:"modified"};function render$v(e,t,n,r,s,i){return openBlock(),createElementBlock("tr",{class:normalizeClass(["media-browser-item",{selected:i.selected}]),onDblclick:t[0]||(t[0]=withModifiers(o=>i.onDblClick(),["stop","prevent"])),onClick:t[1]||(t[1]=(...o)=>i.onClick&&i.onClick(...o))},[createBaseVNode("td",{class:"type","data-type":n.item.extension},null,8,_hoisted_1$v),createBaseVNode("th",_hoisted_2$t,toDisplayString(n.item.name),1),createBaseVNode("td",_hoisted_3$j,[createTextVNode(toDisplayString(i.size),1),i.size!==""?(openBlock(),createElementBlock("span",_hoisted_4$b,"KB")):createCommentVNode("v-if",!0)]),createBaseVNode("td",_hoisted_5$a,toDisplayString(i.dimension),1),createBaseVNode("td",_hoisted_6$8,toDisplayString(n.item.create_date_formatted),1),createBaseVNode("td",_hoisted_7$6,toDisplayString(n.item.modified_date_formatted),1)],34)}script$v.render=render$v,script$v.__file="administrator/components/com_media/resources/scripts/components/browser/table/row.vue";var script$u={name:"MediaBrowserTable",components:{MediaBrowserItemRow:script$v},props:{localItems:{type:Object,default:()=>{}},currentDirectory:{type:String,default:""}},methods:{changeOrder(e){this.$store.commit(UPDATE_SORT_BY,e),this.$store.commit(UPDATE_SORT_DIRECTION,this.$store.state.sortDirection==="asc"?"desc":"asc")}}};const _hoisted_1$u={class:"table media-browser-table"},_hoisted_2$s={class:"visually-hidden"},_hoisted_3$i={class:"media-browser-table-head"},_hoisted_4$a=createBaseVNode("th",{class:"type",scope:"col"},null,-1),_hoisted_5$9={class:"name",scope:"col"},_hoisted_6$7={class:"size",scope:"col"},_hoisted_7$5={class:"dimension",scope:"col"},_hoisted_8$5={class:"created",scope:"col"},_hoisted_9$5={class:"modified",scope:"col"};function render$u(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserItemRow");return openBlock(),createElementBlock("table",_hoisted_1$u,[createBaseVNode("caption",_hoisted_2$s,toDisplayString(e.sprintf("COM_MEDIA_BROWSER_TABLE_CAPTION",n.currentDirectory)),1),createBaseVNode("thead",_hoisted_3$i,[createBaseVNode("tr",null,[_hoisted_4$a,createBaseVNode("th",_hoisted_5$9,[createBaseVNode("button",{class:"btn btn-link",onClick:t[0]||(t[0]=a=>i.changeOrder("name"))},[createTextVNode(toDisplayString(e.translate("COM_MEDIA_MEDIA_NAME"))+" ",1),createBaseVNode("span",{class:normalizeClass(["ms-1",{"icon-sort":e.$store.state.sortBy!=="name","icon-caret-up":e.$store.state.sortBy==="name"&&e.$store.state.sortDirection==="asc","icon-caret-down":e.$store.state.sortBy==="name"&&e.$store.state.sortDirection==="desc"}]),"aria-hidden":"true"},null,2)])]),createBaseVNode("th",_hoisted_6$7,[createBaseVNode("button",{class:"btn btn-link",onClick:t[1]||(t[1]=a=>i.changeOrder("size"))},[createTextVNode(toDisplayString(e.translate("COM_MEDIA_MEDIA_SIZE"))+" ",1),createBaseVNode("span",{class:normalizeClass(["ms-1",{"icon-sort":e.$store.state.sortBy!=="size","icon-caret-up":e.$store.state.sortBy==="size"&&e.$store.state.sortDirection==="asc","icon-caret-down":e.$store.state.sortBy==="size"&&e.$store.state.sortDirection==="desc"}]),"aria-hidden":"true"},null,2)])]),createBaseVNode("th",_hoisted_7$5,[createBaseVNode("button",{class:"btn btn-link",onClick:t[2]||(t[2]=a=>i.changeOrder("dimension"))},[createTextVNode(toDisplayString(e.translate("COM_MEDIA_MEDIA_DIMENSION"))+" ",1),createBaseVNode("span",{class:normalizeClass(["ms-1",{"icon-sort":e.$store.state.sortBy!=="dimension","icon-caret-up":e.$store.state.sortBy==="dimension"&&e.$store.state.sortDirection==="asc","icon-caret-down":e.$store.state.sortBy==="dimension"&&e.$store.state.sortDirection==="desc"}]),"aria-hidden":"true"},null,2)])]),createBaseVNode("th",_hoisted_8$5,[createBaseVNode("button",{class:"btn btn-link",onClick:t[3]||(t[3]=a=>i.changeOrder("date_created"))},[createTextVNode(toDisplayString(e.translate("COM_MEDIA_MEDIA_DATE_CREATED"))+" ",1),createBaseVNode("span",{class:normalizeClass(["ms-1",{"icon-sort":e.$store.state.sortBy!=="date_created","icon-caret-up":e.$store.state.sortBy==="date_created"&&e.$store.state.sortDirection==="asc","icon-caret-down":e.$store.state.sortBy==="date_created"&&e.$store.state.sortDirection==="desc"}]),"aria-hidden":"true"},null,2)])]),createBaseVNode("th",_hoisted_9$5,[createBaseVNode("button",{class:"btn btn-link",onClick:t[4]||(t[4]=a=>i.changeOrder("date_modified"))},[createTextVNode(toDisplayString(e.translate("COM_MEDIA_MEDIA_DATE_MODIFIED"))+" ",1),createBaseVNode("span",{class:normalizeClass(["ms-1",{"icon-sort":e.$store.state.sortBy!=="date_modified","icon-caret-up":e.$store.state.sortBy==="date_modified"&&e.$store.state.sortDirection==="asc","icon-caret-down":e.$store.state.sortBy==="date_modified"&&e.$store.state.sortDirection==="desc"}]),"aria-hidden":"true"},null,2)])])])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.localItems,a=>(openBlock(),createBlock(o,{key:a.path,item:a},null,8,["item"]))),128))])])}script$u.render=render$u,script$u.__file="administrator/components/com_media/resources/scripts/components/browser/table/table.vue";const dirname=e=>{if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e));if(e.length===0)return".";let t=e.charCodeAt(0);const n=t===47;let r=-1,s=!0;for(let i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),t===47){if(!s){r=i;break}}else s=!1;return r===-1?n?"/":".":n&&r===1?"//":e.slice(0,r)};function normalizeItem(e){return e.type==="dir"&&(e.directories=[],e.files=[]),e.directory=dirname(e.path),e.directory.indexOf(":",e.directory.length-1)!==-1&&(e.directory+="/"),e}function normalizeArray(e){const t=e.filter(r=>r.type==="dir").map(r=>normalizeItem(r)),n=e.filter(r=>r.type==="file").map(r=>normalizeItem(r));return{directories:t,files:n}}function handleError(e){const t=JSON.parse(e.response);if(t.message)notifications.error(t.message);else switch(e.status){case 409:break;case 404:notifications.error("COM_MEDIA_ERROR_NOT_FOUND");break;case 401:notifications.error("COM_MEDIA_ERROR_NOT_AUTHENTICATED");break;case 403:notifications.error("COM_MEDIA_ERROR_NOT_AUTHORIZED");break;case 500:notifications.error("COM_MEDIA_SERVER_ERROR");break;default:notifications.error("COM_MEDIA_ERROR")}throw e}class Api{constructor(){const t=Joomla.getOptions("com_media",{});if(t.apiBaseUrl===void 0)throw new TypeError("Media api baseUrl is not defined");if(t.csrfToken===void 0)throw new TypeError("Media api csrf token is not defined");this.baseUrl=t.apiBaseUrl,this.csrfToken=Joomla.getOptions("csrf.token"),this.imagesExtensions=t.imagesExtensions,this.audioExtensions=t.audioExtensions,this.videoExtensions=t.videoExtensions,this.documentExtensions=t.documentExtensions,this.mediaVersion=new Date().getTime().toString(),this.canCreate=t.canCreate||!1,this.canEdit=t.canEdit||!1,this.canDelete=t.canDelete||!1}getContents(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),new Promise((s,i)=>{const o=new URL(`${this.baseUrl}&task=api.files&path=${encodeURIComponent(t)}`);n&&o.searchParams.append("url",n),r&&o.searchParams.append("content",r),Joomla.request({url:o.toString(),method:"GET",headers:{"Content-Type":"application/json"},onSuccess:a=>{s(normalizeArray(JSON.parse(a).data))},onError:a=>{i(a)}})}).catch(handleError)}createDirectory(t,n){return new Promise((r,s)=>{const i=new URL(`${this.baseUrl}&task=api.files&path=${encodeURIComponent(n)}`),o={[this.csrfToken]:"1",name:t};Joomla.request({url:i.toString(),method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"application/json"},onSuccess:a=>{notifications.success("COM_MEDIA_CREATE_NEW_FOLDER_SUCCESS"),r(normalizeItem(JSON.parse(a).data))},onError:a=>{notifications.error("COM_MEDIA_CREATE_NEW_FOLDER_ERROR"),s(a)}})}).catch(handleError)}upload(t,n,r,s){return new Promise((i,o)=>{const a=new URL(`${this.baseUrl}&task=api.files&path=${encodeURIComponent(n)}`),l={[this.csrfToken]:"1",name:t,content:r};s===!0&&(l.override=!0),Joomla.request({url:a.toString(),method:"POST",data:JSON.stringify(l),headers:{"Content-Type":"application/json"},onSuccess:c=>{notifications.success("COM_MEDIA_UPLOAD_SUCCESS"),i(normalizeItem(JSON.parse(c).data))},onError:c=>{o(c)}})}).catch(handleError)}rename(t,n){return new Promise((r,s)=>{const i=new URL(`${this.baseUrl}&task=api.files&path=${encodeURIComponent(t)}`),o={[this.csrfToken]:"1",newPath:n};Joomla.request({url:i.toString(),method:"PUT",data:JSON.stringify(o),headers:{"Content-Type":"application/json"},onSuccess:a=>{notifications.success("COM_MEDIA_RENAME_SUCCESS"),r(normalizeItem(JSON.parse(a).data))},onError:a=>{notifications.error("COM_MEDIA_RENAME_ERROR"),s(a)}})}).catch(handleError)}delete(t){return new Promise((n,r)=>{const s=new URL(`${this.baseUrl}&task=api.files&path=${encodeURIComponent(t)}`),i={[this.csrfToken]:"1"};Joomla.request({url:s.toString(),method:"DELETE",data:JSON.stringify(i),headers:{"Content-Type":"application/json"},onSuccess:()=>{notifications.success("COM_MEDIA_DELETE_SUCCESS"),n()},onError:o=>{notifications.error("COM_MEDIA_DELETE_ERROR"),r(o)}})}).catch(handleError)}}const api=new Api;var script$t={name:"MediaBrowserActionItemEdit",props:{onFocused:{type:Function,default:()=>{}},mainAction:{type:Function,default:()=>{}},closingAction:{type:Function,default:()=>{}}},methods:{openRenameModal(){this.mainAction()},hideActions(){this.closingAction()},focused(e){this.onFocused(e)},editItem(){this.mainAction()}}};const _hoisted_1$t=createBaseVNode("span",{class:"image-browser-action icon-pencil-alt","aria-hidden":"true"},null,-1),_hoisted_2$r={class:"action-text"};function render$t(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{type:"button",class:"action-edit",onKeyup:[t[0]||(t[0]=withKeys(o=>i.editItem(),["enter"])),t[1]||(t[1]=withKeys(o=>i.editItem(),["space"])),t[5]||(t[5]=withKeys(o=>i.hideActions(),["esc"]))],onClick:t[2]||(t[2]=withModifiers(o=>i.editItem(),["stop"])),onFocus:t[3]||(t[3]=o=>i.focused(!0)),onBlur:t[4]||(t[4]=o=>i.focused(!1))},[_hoisted_1$t,createBaseVNode("span",_hoisted_2$r,toDisplayString(e.translate("COM_MEDIA_ACTION_EDIT")),1)],32)}script$t.render=render$t,script$t.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/edit.vue";var script$s={name:"MediaBrowserActionItemDelete",props:{onFocused:{type:Function,default:()=>{}},mainAction:{type:Function,default:()=>{}},closingAction:{type:Function,default:()=>{}}},methods:{openConfirmDeleteModal(){this.mainAction()},hideActions(){this.hideActions()},focused(e){this.onFocused(e)}}};const _hoisted_1$s=createBaseVNode("span",{class:"image-browser-action icon-trash","aria-hidden":"true"},null,-1),_hoisted_2$q={class:"action-text"};function render$s(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{type:"button",class:"action-delete",onKeyup:[t[0]||(t[0]=withKeys(o=>i.openConfirmDeleteModal(),["enter"])),t[1]||(t[1]=withKeys(o=>i.openConfirmDeleteModal(),["space"])),t[4]||(t[4]=withKeys(o=>i.hideActions(),["esc"]))],onFocus:t[2]||(t[2]=o=>i.focused(!0)),onBlur:t[3]||(t[3]=o=>i.focused(!1)),onClick:t[5]||(t[5]=withModifiers(o=>i.openConfirmDeleteModal(),["stop"]))},[_hoisted_1$s,createBaseVNode("span",_hoisted_2$q,toDisplayString(e.translate("COM_MEDIA_ACTION_DELETE")),1)],32)}script$s.render=render$s,script$s.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/delete.vue";var script$r={name:"MediaBrowserActionItemDownload",props:{onFocused:{type:Function,default:()=>{}},mainAction:{type:Function,default:()=>{}},closingAction:{type:Function,default:()=>{}}},methods:{download(){this.mainAction()},hideActions(){this.closingAction()},focused(e){this.onFocused(e)}}};const _hoisted_1$r=createBaseVNode("span",{class:"image-browser-action icon-download","aria-hidden":"true"},null,-1),_hoisted_2$p={class:"action-text"};function render$r(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{type:"button",class:"action-download",onKeyup:[t[0]||(t[0]=withKeys(o=>i.download(),["enter"])),t[1]||(t[1]=withKeys(o=>i.download(),["space"])),t[5]||(t[5]=withKeys(o=>i.hideActions(),["esc"]))],onClick:t[2]||(t[2]=withModifiers(o=>i.download(),["stop"])),onFocus:t[3]||(t[3]=o=>i.focused(!0)),onBlur:t[4]||(t[4]=o=>i.focused(!1))},[_hoisted_1$r,createBaseVNode("span",_hoisted_2$p,toDisplayString(e.translate("COM_MEDIA_ACTION_DOWNLOAD")),1)],32)}script$r.render=render$r,script$r.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/download.vue";var script$q={name:"MediaBrowserActionItemPreview",props:{onFocused:{type:Function,default:()=>{}},mainAction:{type:Function,default:()=>{}},closingAction:{type:Function,default:()=>{}}},methods:{openPreview(){this.mainAction()},hideActions(){this.closingAction()},focused(e){this.onFocused(e)}}};const _hoisted_1$q=createBaseVNode("span",{class:"image-browser-action icon-search-plus","aria-hidden":"true"},null,-1),_hoisted_2$o={class:"action-text"};function render$q(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{type:"button",class:"action-preview",onClick:t[0]||(t[0]=withModifiers(o=>i.openPreview(),["stop"])),onKeyup:[t[1]||(t[1]=withKeys(o=>i.openPreview(),["enter"])),t[2]||(t[2]=withKeys(o=>i.openPreview(),["space"])),t[5]||(t[5]=withKeys(o=>i.hideActions(),["esc"]))],onFocus:t[3]||(t[3]=o=>i.focused(!0)),onBlur:t[4]||(t[4]=o=>i.focused(!1))},[_hoisted_1$q,createBaseVNode("span",_hoisted_2$o,toDisplayString(e.translate("COM_MEDIA_ACTION_PREVIEW")),1)],32)}script$q.render=render$q,script$q.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/preview.vue";var script$p={name:"MediaBrowserActionItemRename",props:{onFocused:{type:Function,default:()=>{}},mainAction:{type:Function,default:()=>{}},closingAction:{type:Function,default:()=>{}}},methods:{openRenameModal(){this.mainAction()},hideActions(){this.closingAction()},focused(e){this.onFocused(e)}}};const _hoisted_1$p=createBaseVNode("span",{class:"image-browser-action fa fa-i-cursor","aria-hidden":"true"},null,-1),_hoisted_2$n={class:"action-text"};function render$p(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{ref:"actionRenameButton",type:"button",class:"action-rename",onClick:t[0]||(t[0]=withModifiers(o=>i.openRenameModal(),["stop"])),onKeyup:[t[1]||(t[1]=withKeys(o=>i.openRenameModal(),["enter"])),t[2]||(t[2]=withKeys(o=>i.openRenameModal(),["space"])),t[5]||(t[5]=withKeys(o=>i.hideActions(),["esc"]))],onFocus:t[3]||(t[3]=o=>i.focused(!0)),onBlur:t[4]||(t[4]=o=>i.focused(!1))},[_hoisted_1$p,createBaseVNode("span",_hoisted_2$n,toDisplayString(e.translate("COM_MEDIA_ACTION_RENAME")),1)],544)}script$p.render=render$p,script$p.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/rename.vue";var script$o={name:"MediaBrowserActionItemShare",props:{onFocused:{type:Function,default:()=>{}},mainAction:{type:Function,default:()=>{}},closingAction:{type:Function,default:()=>{}}},methods:{openShareUrlModal(){this.mainAction()},hideActions(){this.closingAction()},focused(e){this.onFocused(e)}}};const _hoisted_1$o=createBaseVNode("span",{class:"image-browser-action icon-link","aria-hidden":"true"},null,-1),_hoisted_2$m={class:"action-text"};function render$o(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{type:"button",class:"action-url",onClick:t[0]||(t[0]=withModifiers(o=>i.openShareUrlModal(),["stop"])),onKeyup:[t[1]||(t[1]=withKeys(o=>i.openShareUrlModal(),["enter"])),t[2]||(t[2]=withKeys(o=>i.openShareUrlModal(),["space"])),t[5]||(t[5]=withKeys(o=>i.hideActions(),["esc"]))],onFocus:t[3]||(t[3]=o=>i.focused(!0)),onBlur:t[4]||(t[4]=o=>i.focused(!1))},[_hoisted_1$o,createBaseVNode("span",_hoisted_2$m,toDisplayString(e.translate("COM_MEDIA_ACTION_SHARE")),1)],32)}script$o.render=render$o,script$o.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/share.vue";var script$n={name:"MediaBrowserActionItemToggle",props:{mainAction:{type:Function,default:()=>{}}},emits:["on-focused"],methods:{openActions(){this.mainAction()},focused(e){this.$emit("on-focused",e)}}};const _hoisted_1$n=["aria-label","title"];function render$n(e,t,n,r,s,i){return openBlock(),createElementBlock("button",{type:"button",class:"action-toggle","aria-label":e.sprintf("COM_MEDIA_MANAGE_ITEM",e.$parent.$props.item.name),title:e.sprintf("COM_MEDIA_MANAGE_ITEM",e.$parent.$props.item.name),onKeyup:[t[1]||(t[1]=withKeys(o=>i.openActions(),["enter"])),t[4]||(t[4]=withKeys(o=>i.openActions(),["space"]))],onFocus:t[2]||(t[2]=o=>i.focused(!0)),onBlur:t[3]||(t[3]=o=>i.focused(!1))},[createBaseVNode("span",{class:"image-browser-action icon-ellipsis-h","aria-hidden":"true",onClick:t[0]||(t[0]=withModifiers(o=>i.openActions(),["stop"]))})],40,_hoisted_1$n)}script$n.render=render$n,script$n.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/toggle.vue";var script$m={name:"MediaBrowserActionItemsContainer",components:{MediaBrowserActionItemEdit:script$t,MediaBrowserActionItemDelete:script$s,MediaBrowserActionItemDownload:script$r,MediaBrowserActionItemPreview:script$q,MediaBrowserActionItemRename:script$p,MediaBrowserActionItemShare:script$o,MediaBrowserActionItemToggle:script$n},props:{item:{type:Object,default:()=>{}},edit:{type:Function,default:()=>{}},previewable:{type:Boolean,default:!1},downloadable:{type:Boolean,default:!1},shareable:{type:Boolean,default:!1}},emits:["toggle-settings"],data(){return{showActions:!1}},computed:{canEdit(){return api.canEdit&&(typeof this.item.canEdit<"u"?this.item.canEdit:!0)},canDelete(){return api.canDelete&&(typeof this.item.canDelete<"u"?this.item.canDelete:!0)},canOpenEditView(){return["jpg","jpeg","png"].includes(this.item.extension.toLowerCase())}},watch:{"$store.state.showRenameModal":function(e){!e&&this.$refs.actionToggle&&this.$store.state.selectedItems.find(t=>t.name===this.item.name)!==void 0&&this.$refs.actionToggle.$el.focus()}},methods:{hideActions(){this.showActions=!1,this.$parent.$parent.$data.actionsActive=!1},openPreview(){this.$store.commit(SHOW_PREVIEW_MODAL),this.$store.dispatch("getFullContents",this.item)},download(){this.$store.dispatch("download",this.item)},openConfirmDeleteModal(){this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS),this.$store.commit(SELECT_BROWSER_ITEM,this.item),this.$store.commit(SHOW_CONFIRM_DELETE_MODAL)},openRenameModal(){this.hideActions(),this.$store.commit(SELECT_BROWSER_ITEM,this.item),this.$store.commit(SHOW_RENAME_MODAL)},openShareUrlModal(){this.$store.commit(SELECT_BROWSER_ITEM,this.item),this.$store.commit(SHOW_SHARE_MODAL)},openActions(){this.showActions=!0,this.$parent.$parent.$data.actionsActive=!0;const e=[...this.$el.parentElement.querySelectorAll(".media-browser-actions-list button")];e.length&&(e.forEach((t,n)=>{n===0?t.tabIndex=0:t.tabIndex=-1}),e[0].focus())},openLastActions(){this.showActions=!0,this.$parent.$parent.$data.actionsActive=!0;const e=[...this.$el.parentElement.querySelectorAll(".media-browser-actions-list button")];e.length&&(e.forEach((t,n)=>{n===e.length?t.tabIndex=0:t.tabIndex=-1}),this.$nextTick(()=>e[e.length-1].focus()))},focusNext(e){const t=e.target,n=[...t.parentElement.querySelectorAll("button")],r=n[n.length-1];t.tabIndex=-1,t===r?(n[0].focus(),n[0].tabIndex=0):(t.nextElementSibling.focus(),t.nextElementSibling.tabIndex=0)},focusPrev(e){const t=e.target,n=[...t.parentElement.querySelectorAll("button")],r=n[0];t.tabIndex=-1,t===r?(n[n.length-1].focus(),n[n.length-1].tabIndex=0):(t.previousElementSibling.focus(),t.previousElementSibling.tabIndex=0)},focusFirst(e){const n=[...e.target.parentElement.querySelectorAll("button")];n[0].focus(),n.forEach((r,s)=>{s===0?r.tabIndex=0:r.tabIndex=-1})},focusLast(e){const n=[...e.target.parentElement.querySelectorAll("button")];n[n.length-1].focus(),n.forEach((r,s)=>{s===n.length?r.tabIndex=0:r.tabIndex=-1})},editItem(){this.edit()},focused(e){this.$emit("toggle-settings",e)}}};const _hoisted_1$m=["aria-label","title"],_hoisted_2$l=["aria-label"],_hoisted_3$h={"aria-hidden":"true",class:"media-browser-actions-item-name"};function render$m(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemToggle"),a=resolveComponent("MediaBrowserActionItemPreview"),l=resolveComponent("MediaBrowserActionItemDownload"),c=resolveComponent("MediaBrowserActionItemRename"),d=resolveComponent("MediaBrowserActionItemEdit"),m=resolveComponent("MediaBrowserActionItemShare"),_=resolveComponent("MediaBrowserActionItemDelete");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("span",{class:"media-browser-select","aria-label":e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM"),title:e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM"),tabindex:"0",onFocusin:t[0]||(t[0]=y=>i.focused(!0)),onFocusout:t[1]||(t[1]=y=>i.focused(!1))},null,40,_hoisted_1$m),createBaseVNode("div",{class:normalizeClass(["media-browser-actions",{active:s.showActions}])},[createVNode(o,{ref:"actionToggle","main-action":i.openActions,onOnFocused:i.focused,onKeyup:[t[2]||(t[2]=withKeys(y=>i.openLastActions(),["up"])),t[3]||(t[3]=withKeys(y=>i.openActions(),["down"])),t[4]||(t[4]=withKeys(y=>i.openLastActions(),["end"])),t[5]||(t[5]=withKeys(y=>i.openActions(),["home"]))],onKeydown:[t[6]||(t[6]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[7]||(t[7]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),t[8]||(t[8]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[9]||(t[9]=withKeys(withModifiers(()=>{},["prevent"]),["end"]))]},null,8,["main-action","onOnFocused"]),s.showActions?(openBlock(),createElementBlock("div",{key:0,ref:"actionList",class:"media-browser-actions-list",role:"toolbar","aria-orientation":"vertical","aria-label":e.sprintf("COM_MEDIA_ACTIONS_TOOLBAR_LABEL",e.$parent.$props.item.name)},[createBaseVNode("span",_hoisted_3$h,[createBaseVNode("strong",null,toDisplayString(e.$parent.$props.item.name),1)]),n.previewable?(openBlock(),createBlock(a,{key:0,ref:"actionPreview","on-focused":i.focused,"main-action":i.openPreview,"closing-action":i.hideActions,onKeydown:[t[10]||(t[10]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[11]||(t[11]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),t[12]||(t[12]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[13]||(t[13]=withKeys(withModifiers(()=>{},["prevent"]),["end"])),withKeys(i.hideActions,["tab"])],onKeyup:[withKeys(i.focusPrev,["up"]),withKeys(i.focusNext,["down"]),withKeys(i.focusLast,["end"]),withKeys(i.focusFirst,["home"]),withKeys(i.hideActions,["esc"])]},null,8,["on-focused","main-action","closing-action","onKeyup","onKeydown"])):createCommentVNode("v-if",!0),n.downloadable?(openBlock(),createBlock(l,{key:1,ref:"actionDownload","on-focused":i.focused,"main-action":i.download,"closing-action":i.hideActions,onKeydown:[t[14]||(t[14]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[15]||(t[15]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),withKeys(i.hideActions,["tab"]),t[16]||(t[16]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[17]||(t[17]=withKeys(withModifiers(()=>{},["prevent"]),["end"]))],onKeyup:[withKeys(i.focusPrev,["up"]),withKeys(i.focusNext,["down"]),withKeys(i.hideActions,["esc"]),withKeys(i.focusLast,["end"]),withKeys(i.focusFirst,["home"])]},null,8,["on-focused","main-action","closing-action","onKeyup","onKeydown"])):createCommentVNode("v-if",!0),i.canEdit?(openBlock(),createBlock(c,{key:2,ref:"actionRename","on-focused":i.focused,"main-action":i.openRenameModal,"closing-action":i.hideActions,onKeydown:[t[18]||(t[18]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[19]||(t[19]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),withKeys(i.hideActions,["tab"]),t[20]||(t[20]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[21]||(t[21]=withKeys(withModifiers(()=>{},["prevent"]),["end"]))],onKeyup:[withKeys(i.focusPrev,["up"]),withKeys(i.focusNext,["down"]),withKeys(i.hideActions,["esc"]),withKeys(i.focusLast,["end"]),withKeys(i.focusFirst,["home"])]},null,8,["on-focused","main-action","closing-action","onKeyup","onKeydown"])):createCommentVNode("v-if",!0),i.canEdit&&i.canOpenEditView?(openBlock(),createBlock(d,{key:3,ref:"actionEdit","on-focused":i.focused,"main-action":i.editItem,"closing-action":i.hideActions,onKeydown:[t[22]||(t[22]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[23]||(t[23]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),withKeys(i.hideActions,["tab"]),t[24]||(t[24]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[25]||(t[25]=withKeys(withModifiers(()=>{},["prevent"]),["end"]))],onKeyup:[withKeys(i.focusPrev,["up"]),withKeys(i.focusNext,["down"]),withKeys(i.hideActions,["esc"]),withKeys(i.focusLast,["end"]),withKeys(i.focusFirst,["home"])]},null,8,["on-focused","main-action","closing-action","onKeyup","onKeydown"])):createCommentVNode("v-if",!0),n.shareable?(openBlock(),createBlock(m,{key:4,ref:"actionShare","on-focused":i.focused,"main-action":i.openShareUrlModal,"closing-action":i.hideActions,onKeydown:[t[26]||(t[26]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[27]||(t[27]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),withKeys(i.hideActions,["tab"]),t[28]||(t[28]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[29]||(t[29]=withKeys(withModifiers(()=>{},["prevent"]),["end"]))],onKeyup:[withKeys(i.focusPrev,["up"]),withKeys(i.focusNext,["down"]),withKeys(i.hideActions,["esc"]),withKeys(i.focusLast,["end"]),withKeys(i.focusFirst,["home"])]},null,8,["on-focused","main-action","closing-action","onKeyup","onKeydown"])):createCommentVNode("v-if",!0),i.canDelete?(openBlock(),createBlock(_,{key:5,ref:"actionDelete","on-focused":i.focused,"main-action":i.openConfirmDeleteModal,"hide-actions":i.hideActions,onKeydown:[t[30]||(t[30]=withKeys(withModifiers(()=>{},["prevent"]),["up"])),t[31]||(t[31]=withKeys(withModifiers(()=>{},["prevent"]),["down"])),withKeys(i.hideActions,["tab"]),t[32]||(t[32]=withKeys(withModifiers(()=>{},["prevent"]),["home"])),t[33]||(t[33]=withKeys(withModifiers(()=>{},["prevent"]),["end"]))],onKeyup:[withKeys(i.focusPrev,["up"]),withKeys(i.focusNext,["down"]),withKeys(i.hideActions,["esc"]),withKeys(i.focusLast,["end"]),withKeys(i.focusFirst,["home"])]},null,8,["on-focused","main-action","hide-actions","onKeyup","onKeydown"])):createCommentVNode("v-if",!0)],8,_hoisted_2$l)):createCommentVNode("v-if",!0)],2)],64)}script$m.render=render$m,script$m.__file="administrator/components/com_media/resources/scripts/components/browser/actionItems/actionItemsContainer.vue";var script$l={name:"MediaBrowserItemDirectory",components:{MediaBrowserActionItemsContainer:script$m},mixins:[navigable],props:{item:{type:Object,default:()=>{}}},emits:["toggle-settings"],data(){return{showActions:!1}},methods:{onPreviewDblClick(){this.navigateTo(this.item.path)},hideActions(){this.$refs.container&&this.$refs.container.hideActions()},toggleSettings(e){this.$emit("toggle-settings",e)}}};const _hoisted_1$l=createBaseVNode("div",{class:"file-background"},[createBaseVNode("div",{class:"folder-icon"},[createBaseVNode("span",{class:"icon-folder"})])],-1),_hoisted_2$k=[_hoisted_1$l],_hoisted_3$g={class:"media-browser-item-info"};function render$l(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemsContainer");return openBlock(),createElementBlock("div",{class:"media-browser-item-directory",onMouseleave:t[2]||(t[2]=a=>i.hideActions())},[createBaseVNode("div",{class:"media-browser-item-preview",tabindex:"0",onDblclick:t[0]||(t[0]=withModifiers(a=>i.onPreviewDblClick(),["stop","prevent"])),onKeyup:t[1]||(t[1]=withKeys(a=>i.onPreviewDblClick(),["enter"]))},_hoisted_2$k,32),createBaseVNode("div",_hoisted_3$g,toDisplayString(n.item.name),1),createVNode(o,{ref:"container",item:n.item,onToggleSettings:i.toggleSettings},null,8,["item","onToggleSettings"])],32)}script$l.render=render$l,script$l.__file="administrator/components/com_media/resources/scripts/components/browser/items/directory.vue";var script$k={name:"MediaBrowserItemFile",components:{MediaBrowserActionItemsContainer:script$m},props:{item:{type:Object,default:()=>{}},focused:{type:Boolean,default:!1}},emits:["toggle-settings"],data(){return{showActions:!1}},methods:{hideActions(){this.$refs.container&&this.$refs.container.hideActions()},openPreview(){this.$refs.container.openPreview()},toggleSettings(e){this.$emit("toggle-settings",e)}}};const _hoisted_1$k=createBaseVNode("div",{class:"media-browser-item-preview"},[createBaseVNode("div",{class:"file-background"},[createBaseVNode("div",{class:"file-icon"},[createBaseVNode("span",{class:"icon-file-alt"})])])],-1),_hoisted_2$j={class:"media-browser-item-info"},_hoisted_3$f=["aria-label","title"];function render$k(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemsContainer");return openBlock(),createElementBlock("div",{class:"media-browser-item-file",onMouseleave:t[0]||(t[0]=a=>i.hideActions())},[_hoisted_1$k,createBaseVNode("div",_hoisted_2$j,toDisplayString(n.item.name)+" "+toDisplayString(n.item.filetype),1),createBaseVNode("span",{class:"media-browser-select","aria-label":e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM"),title:e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM")},null,8,_hoisted_3$f),createVNode(o,{ref:"container",item:n.item,previewable:!0,downloadable:!0,shareable:!0,onToggleSettings:i.toggleSettings},null,8,["item","onToggleSettings"])],32)}script$k.render=render$k,script$k.__file="administrator/components/com_media/resources/scripts/components/browser/items/file.vue";var script$j={name:"MediaBrowserItemImage",components:{MediaBrowserActionItemsContainer:script$m},props:{item:{type:Object,required:!0},focused:{type:Boolean,required:!0,default:!1}},emits:["toggle-settings"],data(){return{showActions:{type:Boolean,default:!1}}},computed:{getURL(){return this.item.thumb_path?this.item.thumb_path.split(Joomla.getOptions("system.paths").rootFull).length>1?`${this.item.thumb_path}?${this.item.modified_date?new Date(this.item.modified_date).valueOf():api.mediaVersion}`:`${this.item.thumb_path}`:""},width(){return this.item.width>0?this.item.width:null},height(){return this.item.height>0?this.item.height:null},loading(){return this.item.width>0?"lazy":null},altTag(){return this.item.name}},methods:{canEdit(){return["jpg","jpeg","png"].includes(this.item.extension.toLowerCase())},hideActions(){this.$refs.container&&this.$refs.container.hideActions()},openPreview(){this.$refs.container.openPreview()},editItem(){const e=`${Joomla.getOptions("com_media").editViewUrl}&path=`;window.location.href=e+this.item.path},toggleSettings(e){this.$emit("toggle-settings",e)},setSize(e){if(this.item.mime_type==="image/svg+xml"){const t=e.target;this.$store.dispatch("updateItemProperties",{item:this.item,width:t.naturalWidth?t.naturalWidth:300,height:t.naturalHeight?t.naturalHeight:150})}}}};const _hoisted_1$j=["title"],_hoisted_2$i={class:"image-background"},_hoisted_3$e=["src","alt","loading","width","height"],_hoisted_4$9={key:1,class:"icon-eye-slash image-placeholder","aria-hidden":"true"},_hoisted_5$8=["title"],_hoisted_6$6=["aria-label","title"];function render$j(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemsContainer");return openBlock(),createElementBlock("div",{class:"media-browser-image",tabindex:"0",onDblclick:t[1]||(t[1]=a=>i.openPreview()),onMouseleave:t[2]||(t[2]=a=>i.hideActions()),onKeyup:t[3]||(t[3]=withKeys(a=>i.openPreview(),["enter"]))},[createBaseVNode("div",{class:"media-browser-item-preview",title:n.item.name},[createBaseVNode("div",_hoisted_2$i,[i.getURL?(openBlock(),createElementBlock("img",{key:0,class:"image-cropped",src:i.getURL,alt:i.altTag,loading:i.loading,width:i.width,height:i.height,onLoad:t[0]||(t[0]=(...a)=>i.setSize&&i.setSize(...a))},null,40,_hoisted_3$e)):createCommentVNode("v-if",!0),i.getURL?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_4$9))])],8,_hoisted_1$j),createBaseVNode("div",{class:"media-browser-item-info",title:n.item.name},toDisplayString(n.item.name)+" "+toDisplayString(n.item.filetype),9,_hoisted_5$8),createBaseVNode("span",{class:"media-browser-select","aria-label":e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM"),title:e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM")},null,8,_hoisted_6$6),createVNode(o,{ref:"container",item:n.item,edit:i.editItem,previewable:!0,downloadable:!0,shareable:!0,onToggleSettings:i.toggleSettings},null,8,["item","edit","onToggleSettings"])],32)}script$j.render=render$j,script$j.__file="administrator/components/com_media/resources/scripts/components/browser/items/image.vue";var script$i={name:"MediaBrowserItemVideo",components:{MediaBrowserActionItemsContainer:script$m},props:{item:{type:Object,default:()=>{}},focused:{type:Boolean,default:!1}},emits:["toggle-settings"],data(){return{showActions:!1}},methods:{hideActions(){this.$refs.container&&this.$refs.container.hideActions()},openPreview(){this.$refs.container.openPreview()},toggleSettings(e){this.$emit("toggle-settings",e)}}};const _hoisted_1$i=createBaseVNode("div",{class:"media-browser-item-preview"},[createBaseVNode("div",{class:"file-background"},[createBaseVNode("div",{class:"file-icon"},[createBaseVNode("span",{class:"fas fa-file-video"})])])],-1),_hoisted_2$h={class:"media-browser-item-info"};function render$i(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemsContainer");return openBlock(),createElementBlock("div",{class:"media-browser-image",onDblclick:t[0]||(t[0]=a=>i.openPreview()),onMouseleave:t[1]||(t[1]=a=>i.hideActions())},[_hoisted_1$i,createBaseVNode("div",_hoisted_2$h,toDisplayString(n.item.name)+" "+toDisplayString(n.item.filetype),1),createVNode(o,{ref:"container",item:n.item,previewable:!0,downloadable:!0,shareable:!0,onToggleSettings:i.toggleSettings},null,8,["item","onToggleSettings"])],32)}script$i.render=render$i,script$i.__file="administrator/components/com_media/resources/scripts/components/browser/items/video.vue";var script$h={name:"MediaBrowserItemAudio",components:{MediaBrowserActionItemsContainer:script$m},props:{item:{type:Object,default:()=>{}},focused:{type:Boolean,default:!1}},emits:["toggle-settings"],data(){return{showActions:!1}},methods:{hideActions(){this.$refs.container&&this.$refs.container.hideActions()},openPreview(){this.$refs.container.openPreview()},toggleSettings(e){this.$emit("toggle-settings",e)}}};const _hoisted_1$h=createBaseVNode("div",{class:"media-browser-item-preview"},[createBaseVNode("div",{class:"file-background"},[createBaseVNode("div",{class:"file-icon"},[createBaseVNode("span",{class:"fas fa-file-audio"})])])],-1),_hoisted_2$g={class:"media-browser-item-info"};function render$h(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemsContainer");return openBlock(),createElementBlock("div",{class:"media-browser-audio",tabindex:"0",onDblclick:t[0]||(t[0]=a=>i.openPreview()),onMouseleave:t[1]||(t[1]=a=>i.hideActions()),onKeyup:t[2]||(t[2]=withKeys(a=>i.openPreview(),["enter"]))},[_hoisted_1$h,createBaseVNode("div",_hoisted_2$g,toDisplayString(n.item.name)+" "+toDisplayString(n.item.filetype),1),createVNode(o,{ref:"container",item:n.item,previewable:!0,downloadable:!0,shareable:!0,onToggleSettings:i.toggleSettings},null,8,["item","onToggleSettings"])],32)}script$h.render=render$h,script$h.__file="administrator/components/com_media/resources/scripts/components/browser/items/audio.vue";var script$g={name:"MediaBrowserItemDocument",components:{MediaBrowserActionItemsContainer:script$m},props:{item:{type:Object,default:()=>{}},focused:{type:Boolean,default:!1}},emits:["toggle-settings"],data(){return{showActions:!1}},methods:{hideActions(){this.$refs.container&&this.$refs.container.hideActions()},openPreview(){this.$refs.container.openPreview()},toggleSettings(e){this.$emit("toggle-settings",e)}}};const _hoisted_1$g=createBaseVNode("div",{class:"media-browser-item-preview"},[createBaseVNode("div",{class:"file-background"},[createBaseVNode("div",{class:"file-icon"},[createBaseVNode("span",{class:"fas fa-file-pdf"})])])],-1),_hoisted_2$f={class:"media-browser-item-info"},_hoisted_3$d=["aria-label","title"];function render$g(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserActionItemsContainer");return openBlock(),createElementBlock("div",{class:"media-browser-doc",onDblclick:t[0]||(t[0]=a=>i.openPreview()),onMouseleave:t[1]||(t[1]=a=>i.hideActions())},[_hoisted_1$g,createBaseVNode("div",_hoisted_2$f,toDisplayString(n.item.name)+" "+toDisplayString(n.item.filetype),1),createBaseVNode("span",{class:"media-browser-select","aria-label":e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM"),title:e.translate("COM_MEDIA_TOGGLE_SELECT_ITEM")},null,8,_hoisted_3$d),createVNode(o,{ref:"container",item:n.item,previewable:!0,downloadable:!0,shareable:!0,onToggleSettings:i.toggleSettings},null,8,["item","onToggleSettings"])],32)}script$g.render=render$g,script$g.__file="administrator/components/com_media/resources/scripts/components/browser/items/document.vue";var MediaBrowserItem={props:{item:{type:Object,default:()=>{}}},data(){return{hoverActive:!1,actionsActive:!1}},methods:{itemType(){return this.item.type==="dir"?script$l:this.item.extension&&api.imagesExtensions.includes(this.item.extension.toLowerCase())?script$j:this.item.extension&&api.videoExtensions.includes(this.item.extension.toLowerCase())?script$i:this.item.extension&&api.audioExtensions.includes(this.item.extension.toLowerCase())?script$h:this.item.extension&&api.documentExtensions.includes(this.item.extension.toLowerCase())?script$g:script$k},styles(){return{width:`calc(${this.$store.state.gridSize}% - 20px)`}},isSelected(){return this.$store.state.selectedItems.some(e=>e.path===this.item.path)},isHoverActive(){return this.hoverActive},hasActions(){return this.actionsActive},mouseover(){this.hoverActive=!0},mouseleave(){this.hoverActive=!1},handleClick(e){if(this.item.path&&this.item.type==="file"&&window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{path:this.item.path,thumb:this.item.thumb,fileType:this.item.mime_type?this.item.mime_type:!1,extension:this.item.extension?this.item.extension:!1,width:this.item.width?this.item.width:0,height:this.item.height?this.item.height:0}})),this.item.type==="dir"&&window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{}})),!this.isSelected()){e.shiftKey||e.keyCode===13||this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS),this.$store.commit(SELECT_BROWSER_ITEM,this.item);return}this.$store.dispatch("toggleBrowserItemSelect",this.item),window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{}})),this.$store.state.selectedItems.length>1&&(this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS),this.$store.commit(SELECT_BROWSER_ITEM,this.item))},toggleSettings(e){this[`mouse${e?"over":"leave"}`]()}},render(){return h("div",{class:{"media-browser-item":!0,selected:this.isSelected(),active:this.isHoverActive(),actions:this.hasActions()},onClick:this.handleClick,onMouseover:this.mouseover,onMouseleave:this.mouseleave},[h(this.itemType(),{item:this.item,onToggleSettings:this.toggleSettings,focused:!1})])}},script$f={name:"MediaInfobar",computed:{item(){const{selectedItems:e}=this.$store.state;return e.length===1?e[0]:e.length>1?e.slice(-1)[0]:this.$store.getters.getSelectedDirectory},showInfoBar(){return this.$store.state.showInfoBar}},methods:{hideInfoBar(){this.$store.commit(HIDE_INFOBAR)}}};const _hoisted_1$f={key:0,class:"media-infobar"},_hoisted_2$e={key:0,class:"text-center"},_hoisted_3$c=createBaseVNode("span",{class:"icon-file placeholder-icon"},null,-1),_hoisted_4$8={key:1},_hoisted_5$7={key:0},_hoisted_6$5={key:1},_hoisted_7$4={key:2},_hoisted_8$4={key:3},_hoisted_9$4={key:4},_hoisted_10$1={key:5},_hoisted_11$1={key:6};function render$f(e,t,n,r,s,i){return openBlock(),createBlock(Transition,{name:"infobar"},{default:withCtx(()=>[i.showInfoBar&&i.item?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("span",{class:"infobar-close",onClick:t[0]||(t[0]=o=>i.hideInfoBar())},"\xD7"),createBaseVNode("h2",null,toDisplayString(i.item.name),1),i.item.path==="/"?(openBlock(),createElementBlock("div",_hoisted_2$e,[_hoisted_3$c,createTextVNode(" Select file or folder to view its details. ")])):(openBlock(),createElementBlock("dl",_hoisted_4$8,[createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_FOLDER")),1),createBaseVNode("dd",null,toDisplayString(i.item.directory),1),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_TYPE")),1),i.item.type==="file"?(openBlock(),createElementBlock("dd",_hoisted_5$7,toDisplayString(e.translate("COM_MEDIA_FILE")),1)):i.item.type==="dir"?(openBlock(),createElementBlock("dd",_hoisted_6$5,toDisplayString(e.translate("COM_MEDIA_FOLDER")),1)):(openBlock(),createElementBlock("dd",_hoisted_7$4," - ")),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_DATE_CREATED")),1),createBaseVNode("dd",null,toDisplayString(i.item.create_date_formatted),1),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_DATE_MODIFIED")),1),createBaseVNode("dd",null,toDisplayString(i.item.modified_date_formatted),1),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_DIMENSION")),1),i.item.width||i.item.height?(openBlock(),createElementBlock("dd",_hoisted_8$4,toDisplayString(i.item.width)+"px * "+toDisplayString(i.item.height)+"px ",1)):(openBlock(),createElementBlock("dd",_hoisted_9$4," - ")),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_SIZE")),1),i.item.size?(openBlock(),createElementBlock("dd",_hoisted_10$1,toDisplayString((i.item.size/1024).toFixed(2))+" KB ",1)):(openBlock(),createElementBlock("dd",_hoisted_11$1," - ")),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_MIME_TYPE")),1),createBaseVNode("dd",null,toDisplayString(i.item.mime_type),1),createBaseVNode("dt",null,toDisplayString(e.translate("COM_MEDIA_MEDIA_EXTENSION")),1),createBaseVNode("dd",null,toDisplayString(i.item.extension||"-"),1)]))])):createCommentVNode("v-if",!0)]),_:1})}script$f.render=render$f,script$f.__file="administrator/components/com_media/resources/scripts/components/infobar/infobar.vue";function sortArray(e,t,n){return e.sort((r,s)=>t==="name"?n==="asc"?r.name.toUpperCase().localeCompare(s.name.toUpperCase(),"en",{sensitivity:"base"}):s.name.toUpperCase().localeCompare(r.name.toUpperCase(),"en",{sensitivity:"base"}):t==="size"?n==="asc"?parseInt(r.size,10)-parseInt(s.size,10):parseInt(s.size,10)-parseInt(r.size,10):t==="dimension"?n==="asc"?parseInt(r.width,10)*parseInt(r.height,10)-parseInt(s.width,10)*parseInt(s.height,10):parseInt(s.width,10)*parseInt(s.height,10)-parseInt(r.width,10)*parseInt(r.height,10):t==="date_created"?n==="asc"?new Date(r.create_date)-new Date(s.create_date):new Date(s.create_date)-new Date(r.create_date):t==="date_modified"?n==="asc"?new Date(r.modified_date)-new Date(s.modified_date):new Date(s.modified_date)-new Date(r.modified_date):e)}var script$e={name:"MediaBrowser",components:{MediaBrowserTable:script$u,MediaInfobar:script$f,MediaBrowserItem},computed:{localItems(){const e=sortArray(this.$store.getters.getSelectedDirectoryDirectories.slice(0),this.$store.state.sortBy,this.$store.state.sortDirection),t=sortArray(this.$store.getters.getSelectedDirectoryFiles.slice(0),this.$store.state.sortBy,this.$store.state.sortDirection);return[...e.filter(n=>n.name.toLowerCase().includes(this.$store.state.search.toLowerCase())),...t.filter(n=>n.name.toLowerCase().includes(this.$store.state.search.toLowerCase()))]},getHeight(){return{height:this.$store.state.listView==="table"&&!this.isEmpty?"unset":"100%"}},mediaBrowserStyles(){return{width:this.$store.state.showInfoBar?"75%":"100%",height:this.$store.state.listView==="table"&&!this.isEmpty?"unset":"100%"}},isEmptySearch(){return this.$store.state.search!==""&&this.localItems.length===0},isEmpty(){return![...this.$store.getters.getSelectedDirectoryDirectories,...this.$store.getters.getSelectedDirectoryFiles].length&&!this.$store.state.isLoading},listView(){return this.$store.state.listView},mediaBrowserGridItemsClass(){return{[`media-browser-items-${this.$store.state.gridSize}`]:!0}},isModal(){return Joomla.getOptions("com_media",{}).isModal},currentDirectory(){const e=this.$store.state.selectedDirectory.split("/").filter(n=>n.length!==0);if(e.length!==1)return e[e.length-1];let t="";return this.$store.state.disks.forEach(n=>{n.drives.forEach(r=>{r.root===`${e[0]}/`&&(t=r.displayName)})}),t}},created(){document.body.addEventListener("click",this.unselectAllBrowserItems,!1)},beforeUnmount(){document.body.removeEventListener("click",this.unselectAllBrowserItems,!1)},methods:{unselectAllBrowserItems(e){const t=e.target.id!==void 0&&e.target.id==="mediaDelete",n=this.$refs.browserItems&&!this.$refs.browserItems.contains(e.target)||e.target===this.$refs.browserItems,r=this.$refs.infobar!==void 0&&!this.$refs.infobar.$el.contains(e.target);n&&r&&!t&&(this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS),window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{path:"",thumb:!1,fileType:!1,extension:!1}})))},onDragEnter(e){return e.stopPropagation(),!1},onDragOver(e){return e.preventDefault(),document.querySelector(".media-dragoutline").classList.add("active"),!1},upload(e){const t=new FileReader;t.onload=n=>{const{result:r}=n.target,s=r.indexOf("base64")+7,i=r.slice(s,r.length);this.$store.dispatch("uploadFile",{name:e.name,parent:this.$store.state.selectedDirectory,content:i})},t.readAsDataURL(e)},onDrop(e){e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length>0&&Array.from(e.dataTransfer.files).forEach(t=>{document.querySelector(".media-dragoutline").classList.remove("active"),this.upload(t)}),document.querySelector(".media-dragoutline").classList.remove("active")},onDragLeave(e){return e.stopPropagation(),e.preventDefault(),document.querySelector(".media-dragoutline").classList.remove("active"),!1}}};const _hoisted_1$e={key:0,class:"pt-1"},_hoisted_2$d={class:"alert alert-info m-3"},_hoisted_3$b=createBaseVNode("span",{class:"icon-info-circle","aria-hidden":"true"},null,-1),_hoisted_4$7={class:"visually-hidden"},_hoisted_5$6={key:1,class:"text-center",style:{display:"grid","justify-content":"center","align-content":"center","margin-top":"-1rem",color:"var(--gray-200)",height:"100%"}},_hoisted_6$4=createBaseVNode("span",{class:"fa-8x icon-cloud-upload upload-icon","aria-hidden":"true"},null,-1),_hoisted_7$3={class:"media-dragoutline"},_hoisted_8$3=createBaseVNode("span",{class:"icon-cloud-upload upload-icon","aria-hidden":"true"},null,-1),_hoisted_9$3={key:3,class:"media-browser-grid"};function render$e(e,t,n,r,s,i){const o=resolveComponent("MediaBrowserTable"),a=resolveComponent("MediaBrowserItem"),l=resolveComponent("MediaInfobar");return openBlock(),createElementBlock("div",{ref:"browserItems",class:"media-browser",style:normalizeStyle(i.getHeight),onDragenter:t[0]||(t[0]=(...c)=>i.onDragEnter&&i.onDragEnter(...c)),onDrop:t[1]||(t[1]=(...c)=>i.onDrop&&i.onDrop(...c)),onDragover:t[2]||(t[2]=(...c)=>i.onDragOver&&i.onDragOver(...c)),onDragleave:t[3]||(t[3]=(...c)=>i.onDragLeave&&i.onDragLeave(...c))},[i.isEmptySearch?(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$d,[_hoisted_3$b,createBaseVNode("span",_hoisted_4$7,toDisplayString(e.translate("NOTICE")),1),createTextVNode(" "+toDisplayString(e.translate("JGLOBAL_NO_MATCHING_RESULTS")),1)])])):createCommentVNode("v-if",!0),i.isEmpty?(openBlock(),createElementBlock("div",_hoisted_5$6,[_hoisted_6$4,createBaseVNode("p",null,toDisplayString(e.translate("COM_MEDIA_DROP_FILE")),1)])):createCommentVNode("v-if",!0),createBaseVNode("div",_hoisted_7$3,[_hoisted_8$3,createBaseVNode("p",null,toDisplayString(e.translate("COM_MEDIA_DROP_FILE")),1)]),i.listView==="table"&&!i.isEmpty&&!i.isEmptySearch?(openBlock(),createBlock(o,{key:2,"local-items":i.localItems,"current-directory":i.currentDirectory,style:normalizeStyle(i.mediaBrowserStyles)},null,8,["local-items","current-directory","style"])):createCommentVNode("v-if",!0),i.listView==="grid"&&!i.isEmpty?(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",{class:normalizeClass(["media-browser-items",i.mediaBrowserGridItemsClass]),style:normalizeStyle(i.mediaBrowserStyles)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.localItems,c=>(openBlock(),createBlock(a,{key:c.path,item:c},null,8,["item"]))),128))],6)])):createCommentVNode("v-if",!0),createVNode(l,{ref:"infobar"},null,512)],36)}script$e.render=render$e,script$e.__file="administrator/components/com_media/resources/scripts/components/browser/browser.vue";var script$d={name:"MediaTree",mixins:[navigable],props:{root:{type:String,required:!0},level:{type:Number,required:!0},parentIndex:{type:Number,required:!0}},emits:["move-focus-to-parent"],computed:{directories(){return this.$store.state.directories.filter(e=>e.directory===this.root).sort((e,t)=>e.name.toUpperCase()<t.name.toUpperCase()?-1:1)}},methods:{isActive(e){return e.path===this.$store.state.selectedDirectory},getTabindex(e){return this.isActive(e)?0:-1},onItemClick(e){this.navigateTo(e.path),window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{}}))},hasChildren(e){return e.directories.length>0},isOpen(e){return this.$store.state.selectedDirectory.includes(e.path)},iconClass(e){return{fas:!1,"icon-folder":!this.isOpen(e),"icon-folder-open":this.isOpen(e)}},setFocusToFirstChild(){this.$refs[`${this.root}0`][0].focus()},moveFocusToNextElement(e){e+1!==this.directories.length&&this.$refs[this.root+(e+1)][0].focus()},moveFocusToPreviousElement(e){e!==0&&this.$refs[this.root+(e-1)][0].focus()},moveFocusToChildElement(e){this.hasChildren(e)&&this.$refs[e.path][0].setFocusToFirstChild()},moveFocusToParentElement(){this.$emit("move-focus-to-parent",this.parentIndex)},restoreFocus(e){this.$refs[this.root+e][0].focus()}}};const _hoisted_1$d={class:"media-tree",role:"group"},_hoisted_2$c=["aria-level","aria-setsize","aria-posinset","tabindex","onClick","onKeyup"],_hoisted_3$a={class:"item-icon"},_hoisted_4$6={class:"item-name"};function render$d(e,t,n,r,s,i){const o=resolveComponent("MediaTree");return openBlock(),createElementBlock("ul",_hoisted_1$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.directories,(a,l)=>(openBlock(),createElementBlock("li",{key:a.path,class:normalizeClass(["media-tree-item",{active:i.isActive(a)}]),role:"none"},[createBaseVNode("a",{ref_for:!0,ref:n.root+l,role:"treeitem","aria-level":n.level,"aria-setsize":i.directories.length,"aria-posinset":l,tabindex:i.getTabindex(a),onClick:withModifiers(c=>i.onItemClick(a),["stop","prevent"]),onKeyup:[withKeys(c=>i.moveFocusToPreviousElement(l),["up"]),withKeys(c=>i.moveFocusToNextElement(l),["down"]),withKeys(c=>i.onItemClick(a),["enter"]),withKeys(c=>i.moveFocusToChildElement(a),["right"]),t[0]||(t[0]=withKeys(c=>i.moveFocusToParentElement(),["left"]))]},[createBaseVNode("span",_hoisted_3$a,[createBaseVNode("span",{class:normalizeClass(i.iconClass(a))},null,2)]),createBaseVNode("span",_hoisted_4$6,toDisplayString(a.name),1)],40,_hoisted_2$c),createVNode(Transition,{name:"slide-fade"},{default:withCtx(()=>[i.hasChildren(a)?withDirectives((openBlock(),createBlock(o,{key:0,ref_for:!0,ref:a.path,"aria-expanded":i.isOpen(a)?"true":"false",root:a.path,level:n.level+1,"parent-index":l,onMoveFocusToParent:i.restoreFocus},null,8,["aria-expanded","root","level","parent-index","onMoveFocusToParent"])),[[vShow,i.isOpen(a)]]):createCommentVNode("v-if",!0)]),_:2},1024)],2))),128))])}script$d.render=render$d,script$d.__file="administrator/components/com_media/resources/scripts/components/tree/tree.vue";var script$c={name:"MediaDrive",components:{MediaTree:script$d},mixins:[navigable],props:{drive:{type:Object,default:()=>{}},total:{type:Number,default:0},diskId:{type:String,default:""},counter:{type:Number,default:0}},computed:{isActive(){return this.$store.state.selectedDirectory===this.drive.root},getTabindex(){return this.isActive?0:-1}},methods:{onDriveClick(){this.navigateTo(this.drive.root)},moveFocusToChildElement(e){this.$refs[e].setFocusToFirstChild()},restoreFocus(){this.$refs["drive-root"].focus()}}};const _hoisted_1$c=["aria-labelledby"],_hoisted_2$b=["aria-setsize","tabindex"],_hoisted_3$9={class:"item-name"};function render$c(e,t,n,r,s,i){const o=resolveComponent("MediaTree");return openBlock(),createElementBlock("div",{class:"media-drive",onClick:t[2]||(t[2]=withModifiers(a=>i.onDriveClick(),["stop","prevent"]))},[createBaseVNode("ul",{class:"media-tree",role:"tree","aria-labelledby":n.diskId},[createBaseVNode("li",{class:normalizeClass({active:i.isActive,"media-tree-item":!0,"media-drive-name":!0}),role:"none"},[createBaseVNode("a",{ref:"drive-root",role:"treeitem","aria-level":"1","aria-setsize":n.counter,"aria-posinset":1,tabindex:i.getTabindex,onKeyup:[t[0]||(t[0]=withKeys(a=>i.moveFocusToChildElement(n.drive.root),["right"])),t[1]||(t[1]=withKeys((...a)=>i.onDriveClick&&i.onDriveClick(...a),["enter"]))]},[createBaseVNode("span",_hoisted_3$9,toDisplayString(n.drive.displayName),1)],40,_hoisted_2$b),createVNode(o,{ref:n.drive.root,root:n.drive.root,level:2,"parent-index":0,onMoveFocusToParent:i.restoreFocus},null,8,["root","onMoveFocusToParent"])],2)],8,_hoisted_1$c)])}script$c.render=render$c,script$c.__file="administrator/components/com_media/resources/scripts/components/tree/drive.vue";var script$b={name:"MediaDisk",components:{MediaDrive:script$c},props:{disk:{type:Object,default:()=>{}},uid:{type:String,default:""}},computed:{diskId(){return`disk-${this.uid+1}`}}};const _hoisted_1$b={class:"media-disk"},_hoisted_2$a=["id"];function render$b(e,t,n,r,s,i){const o=resolveComponent("MediaDrive");return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("h2",{id:i.diskId,class:"media-disk-name"},toDisplayString(n.disk.displayName),9,_hoisted_2$a),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.disk.drives,(a,l)=>(openBlock(),createBlock(o,{key:l,"disk-id":i.diskId,counter:l,drive:a,total:n.disk.drives.length},null,8,["disk-id","counter","drive","total"]))),128))])}script$b.render=render$b,script$b.__file="administrator/components/com_media/resources/scripts/components/tree/disk.vue";var script$a={name:"MediaBreadcrumb",mixins:[navigable],computed:{crumbs(){const e=[],t=this.$store.state.selectedDirectory.split(":/");if(t.length){const n=this.findDrive(t[0]);if(!n)return[];e.push(n);let r=`${t[0]}:`;t[1].split("/").filter(s=>s.length!==0).forEach((s,i)=>{r=`${r}/${s}`,e.push({name:s,index:i+1,path:r})})}return e},isLast(e){return this.crumbs.indexOf(e)===this.crumbs.length-1}},methods:{onCrumbClick(e){const t=this.crumbs.find(n=>n.index===e);t&&(this.navigateTo(t.path),window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{}})))},findDrive(e){let t=null;return this.$store.state.disks.forEach(n=>{n.drives.forEach(r=>{r.root.startsWith(e)&&(t={name:r.displayName,path:r.root,index:0})})}),t}}};const _hoisted_1$a=["aria-label"],_hoisted_2$9=["aria-current","onClick"];function render$a(e,t,n,r,s,i){return openBlock(),createElementBlock("nav",{class:"media-breadcrumb","aria-label":e.translate("COM_MEDIA_BREADCRUMB_LABEL")},[createBaseVNode("ol",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.crumbs,(o,a)=>(openBlock(),createElementBlock("li",{key:a,class:"media-breadcrumb-item"},[createBaseVNode("a",{href:"#","aria-current":a===Object.keys(i.crumbs).length-1?"page":void 0,onClick:withModifiers(l=>i.onCrumbClick(a),["stop","prevent"])},toDisplayString(o.name),9,_hoisted_2$9)]))),128))])],8,_hoisted_1$a)}script$a.render=render$a,script$a.__file="administrator/components/com_media/resources/scripts/components/breadcrumb/breadcrumb.vue";var script$9={name:"MediaToolbar",components:{MediaBreadcrumb:script$a},data(){return{sortingOptions:!1}},computed:{toggleListViewBtnIcon(){return this.isGridView?"icon-list":"icon-th"},isLoading(){return this.$store.state.isLoading},atLeastOneItemSelected(){return this.$store.state.selectedItems.length>0},isGridView(){return this.$store.state.listView==="grid"},allItemsSelected(){return this.$store.getters.getSelectedDirectoryContents.length===this.$store.state.selectedItems.length},search(){return this.$store.state.search}},watch:{"$store.state.selectedItems":function(){this.allItemsSelected||(this.$refs.mediaToolbarSelectAll.checked=!1)}},methods:{toggleInfoBar(){this.$store.state.showInfoBar?this.$store.commit(HIDE_INFOBAR):this.$store.commit(SHOW_INFOBAR)},decreaseGridSize(){this.isGridSize("sm")||this.$store.commit(DECREASE_GRID_SIZE)},increaseGridSize(){this.isGridSize("xl")||this.$store.commit(INCREASE_GRID_SIZE)},changeListView(){this.$store.state.listView==="grid"?this.$store.commit(CHANGE_LIST_VIEW,"table"):this.$store.commit(CHANGE_LIST_VIEW,"grid")},toggleSelectAll(){this.allItemsSelected?this.$store.commit(UNSELECT_ALL_BROWSER_ITEMS):(this.$store.commit(SELECT_BROWSER_ITEMS,this.$store.getters.getSelectedDirectoryContents),window.parent.document.dispatchEvent(new CustomEvent("onMediaFileSelected",{bubbles:!0,cancelable:!1,detail:{}})))},isGridSize(e){return this.$store.state.gridSize===e},changeSearch(e){this.$store.commit(SET_SEARCH_QUERY,e.target.value)},showSortOptions(){this.sortingOptions=!this.sortingOptions},changeOrderDirection(){this.$store.commit(UPDATE_SORT_DIRECTION,this.$refs.orderdirection.value)},changeOrderBy(){this.$store.commit(UPDATE_SORT_BY,this.$refs.orderby.value)}}};const _hoisted_1$9=["aria-label"],_hoisted_2$8={key:0,class:"media-loader"},_hoisted_3$8={class:"media-view-icons"},_hoisted_4$5=["aria-label"],_hoisted_5$5={class:"media-view-search-input",role:"search"},_hoisted_6$3={for:"media_search",class:"visually-hidden"},_hoisted_7$2=["placeholder","value"],_hoisted_8$2={class:"media-view-icons"},_hoisted_9$2=["aria-label"],_hoisted_10=createBaseVNode("span",{class:"fas fa-sort-amount-down-alt","aria-hidden":"true"},null,-1),_hoisted_11=[_hoisted_10],_hoisted_12=["aria-label"],_hoisted_13=createBaseVNode("span",{class:"icon-search-minus","aria-hidden":"true"},null,-1),_hoisted_14=[_hoisted_13],_hoisted_15=["aria-label"],_hoisted_16=createBaseVNode("span",{class:"icon-search-plus","aria-hidden":"true"},null,-1),_hoisted_17=[_hoisted_16],_hoisted_18=["aria-label"],_hoisted_19=["aria-label"],_hoisted_20=createBaseVNode("span",{class:"icon-info","aria-hidden":"true"},null,-1),_hoisted_21=[_hoisted_20],_hoisted_22={key:0,class:"row g-3 pt-2 pb-2 pe-3 justify-content-end",style:{"border-inline-start":"1px solid var(--template-bg-dark-7)","margin-left":"0"}},_hoisted_23={class:"col-3"},_hoisted_24=["aria-label","value"],_hoisted_25={value:"name"},_hoisted_26={value:"size"},_hoisted_27={value:"dimension"},_hoisted_28={value:"date_created"},_hoisted_29={value:"date_modified"},_hoisted_30={class:"col-3"},_hoisted_31=["aria-label","value"],_hoisted_32={value:"asc"},_hoisted_33={value:"desc"};function render$9(e,t,n,r,s,i){const o=resolveComponent("MediaBreadcrumb");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:"media-toolbar",role:"toolbar","aria-label":e.translate("COM_MEDIA_TOOLBAR_LABEL")},[i.isLoading?(openBlock(),createElementBlock("div",_hoisted_2$8)):createCommentVNode("v-if",!0),createBaseVNode("div",_hoisted_3$8,[createBaseVNode("input",{ref:"mediaToolbarSelectAll",type:"checkbox",class:"media-toolbar-icon media-toolbar-select-all","aria-label":e.translate("COM_MEDIA_SELECT_ALL"),onClick:t[0]||(t[0]=withModifiers((...a)=>i.toggleSelectAll&&i.toggleSelectAll(...a),["stop"]))},null,8,_hoisted_4$5)]),createVNode(o),createBaseVNode("div",_hoisted_5$5,[createBaseVNode("label",_hoisted_6$3,toDisplayString(e.translate("COM_MEDIA_SEARCH")),1),createBaseVNode("input",{id:"media_search",class:"form-control",type:"text",placeholder:e.translate("COM_MEDIA_SEARCH"),value:i.search,onInput:t[1]||(t[1]=(...a)=>i.changeSearch&&i.changeSearch(...a))},null,40,_hoisted_7$2)]),createBaseVNode("div",_hoisted_8$2,[i.isGridView?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(["media-toolbar-icon",{active:s.sortingOptions}]),"aria-label":e.translate("COM_MEDIA_CHANGE_ORDERING"),onClick:t[2]||(t[2]=a=>i.showSortOptions())},_hoisted_11,10,_hoisted_9$2)):createCommentVNode("v-if",!0),i.isGridView?(openBlock(),createElementBlock("button",{key:1,type:"button",class:normalizeClass(["media-toolbar-icon media-toolbar-decrease-grid-size",{disabled:i.isGridSize("sm")}]),"aria-label":e.translate("COM_MEDIA_DECREASE_GRID"),onClick:t[3]||(t[3]=withModifiers(a=>i.decreaseGridSize(),["stop","prevent"]))},_hoisted_14,10,_hoisted_12)):createCommentVNode("v-if",!0),i.isGridView?(openBlock(),createElementBlock("button",{key:2,type:"button",class:normalizeClass(["media-toolbar-icon media-toolbar-increase-grid-size",{disabled:i.isGridSize("xl")}]),"aria-label":e.translate("COM_MEDIA_INCREASE_GRID"),onClick:t[4]||(t[4]=withModifiers(a=>i.increaseGridSize(),["stop","prevent"]))},_hoisted_17,10,_hoisted_15)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:"media-toolbar-icon media-toolbar-list-view","aria-label":e.translate("COM_MEDIA_TOGGLE_LIST_VIEW"),onClick:t[5]||(t[5]=withModifiers(a=>i.changeListView(),["stop","prevent"]))},[createBaseVNode("span",{class:normalizeClass(i.toggleListViewBtnIcon),"aria-hidden":"true"},null,2)],8,_hoisted_18),createBaseVNode("button",{type:"button",class:"media-toolbar-icon media-toolbar-info","aria-label":e.translate("COM_MEDIA_TOGGLE_INFO"),onClick:t[6]||(t[6]=withModifiers((...a)=>i.toggleInfoBar&&i.toggleInfoBar(...a),["stop","prevent"]))},_hoisted_21,8,_hoisted_19)])],8,_hoisted_1$9),i.isGridView&&s.sortingOptions?(openBlock(),createElementBlock("div",_hoisted_22,[createBaseVNode("div",_hoisted_23,[createBaseVNode("select",{ref:"orderby",class:"form-select","aria-label":e.translate("COM_MEDIA_ORDER_BY"),value:e.$store.state.sortBy,onChange:t[7]||(t[7]=a=>i.changeOrderBy())},[createBaseVNode("option",_hoisted_25,toDisplayString(e.translate("COM_MEDIA_MEDIA_NAME")),1),createBaseVNode("option",_hoisted_26,toDisplayString(e.translate("COM_MEDIA_MEDIA_SIZE")),1),createBaseVNode("option",_hoisted_27,toDisplayString(e.translate("COM_MEDIA_MEDIA_DIMENSION")),1),createBaseVNode("option",_hoisted_28,toDisplayString(e.translate("COM_MEDIA_MEDIA_DATE_CREATED")),1),createBaseVNode("option",_hoisted_29,toDisplayString(e.translate("COM_MEDIA_MEDIA_DATE_MODIFIED")),1)],40,_hoisted_24)]),createBaseVNode("div",_hoisted_30,[createBaseVNode("select",{ref:"orderdirection",class:"form-select","aria-label":e.translate("COM_MEDIA_ORDER_DIRECTION"),value:e.$store.state.sortDirection,onChange:t[8]||(t[8]=a=>i.changeOrderDirection())},[createBaseVNode("option",_hoisted_32,toDisplayString(e.translate("COM_MEDIA_ORDER_ASC")),1),createBaseVNode("option",_hoisted_33,toDisplayString(e.translate("COM_MEDIA_ORDER_DESC")),1)],40,_hoisted_31)])])):createCommentVNode("v-if",!0)],64)}script$9.render=render$9,script$9.__file="administrator/components/com_media/resources/scripts/components/toolbar/toolbar.vue";var script$8={name:"MediaUpload",props:{accept:{type:String,default:""},extensions:{type:Function,default:()=>[]},name:{type:String,default:"file"},multiple:{type:Boolean,default:!0}},created(){MediaManager.Event.listen("onClickUpload",()=>this.chooseFiles())},methods:{chooseFiles(){this.$refs.fileInput.click()},upload(e){e.preventDefault();const{files:t}=e.target;Array.from(t).forEach(n=>{const r=new FileReader;r.onload=s=>{const{result:i}=s.target,o=i.indexOf("base64")+7,a=i.slice(o,i.length);this.$store.dispatch("uploadFile",{name:n.name,parent:this.$store.state.selectedDirectory,content:a})},r.readAsDataURL(n)})}}};const _hoisted_1$8=["name","multiple","accept"];function render$8(e,t,n,r,s,i){return openBlock(),createElementBlock("input",{ref:"fileInput",type:"file",class:"hidden",name:n.name,multiple:n.multiple,accept:n.accept,onChange:t[0]||(t[0]=(...o)=>i.upload&&i.upload(...o))},null,40,_hoisted_1$8)}script$8.render=render$8,script$8.__file="administrator/components/com_media/resources/scripts/components/upload/upload.vue";var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus",toArray=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},asArray=function(e){return Array.isArray(e)?e:[e]},getFirst=function(e){return Array.isArray(e)?e[0]:e},isElementHidden=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},getParentNode=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},isTopNode=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(e,t){return!e||isTopNode(e)||!isElementHidden(e)&&t(getParentNode(e))},isVisibleCached=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=isVisibleUncached(t,isVisibleCached.bind(void 0,e));return e.set(t,r),r},isAutoFocusAllowedUncached=function(e,t){return e&&!isTopNode(e)?isAutoFocusAllowed(e)?t(getParentNode(e)):!1:!0},isAutoFocusAllowedCached=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=isAutoFocusAllowedUncached(t,isAutoFocusAllowedCached.bind(void 0,e));return e.set(t,r),r},getDataset=function(e){return e.dataset},isHTMLButtonElement=function(e){return e.tagName==="BUTTON"},isHTMLInputElement=function(e){return e.tagName==="INPUT"},isRadioElement=function(e){return isHTMLInputElement(e)&&e.type==="radio"},notHiddenInput=function(e){return!((isHTMLInputElement(e)||isHTMLButtonElement(e))&&(e.type==="hidden"||e.disabled))},isAutoFocusAllowed=function(e){var t=e.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(t)},isGuard=function(e){var t;return!!(e&&(!((t=getDataset(e))===null||t===void 0)&&t.focusGuard))},isNotAGuard=function(e){return!isGuard(e)},isDefined=function(e){return!!e},tabSort=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},orderByTabIndex=function(e,t,n){return toArray(e).map(function(r,s){return{node:r,index:s,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(e,t){return toArray((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?queryGuardTabbables:queryTabbables)?[r]:[],getFocusablesWithShadowDom(r))},[])},getFocusablesWithIFrame=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?getFocusables([e.contentDocument.body],t):[e]},getFocusables=function(e,t){return e.reduce(function(n,r){var s,i=getFocusablesWithShadowDom(r,t),o=(s=[]).concat.apply(s,i.map(function(a){return getFocusablesWithIFrame(a,t)}));return n.concat(o,r.parentNode?toArray(r.parentNode.querySelectorAll(queryTabbables)).filter(function(a){return a===r}):[])},[])},getParentAutofocusables=function(e){var t=e.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(t).map(function(n){return getFocusables([n])}).reduce(function(n,r){return n.concat(r)},[])},filterFocusable=function(e,t){return toArray(e).filter(function(n){return isVisibleCached(t,n)}).filter(function(n){return notHiddenInput(n)})},filterAutoFocusable=function(e,t){return t===void 0&&(t=new Map),toArray(e).filter(function(n){return isAutoFocusAllowedCached(t,n)})},getTabbableNodes=function(e,t,n){return orderByTabIndex(filterFocusable(getFocusables(e,n),t),!0,n)},getAllTabbableNodes=function(e,t){return orderByTabIndex(filterFocusable(getFocusables(e),t),!1)},parentAutofocusables=function(e,t){return filterFocusable(getParentAutofocusables(e),t)},contains=function(e,t){return e.shadowRoot?contains(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:toArray(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var s=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return s?contains(s,t):!1}return contains(n,t)})},filterNested=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var s=r+1;s<n;s+=1){var i=e[r].compareDocumentPosition(e[s]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(s),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(o,a){return!t.has(a)})},getTopParent=function(e){return e.parentNode?getTopParent(e.parentNode):e},getAllAffectedNodes=function(e){var t=asArray(e);return t.filter(Boolean).reduce(function(n,r){var s=r.getAttribute(FOCUS_GROUP);return n.push.apply(n,s?filterNested(toArray(getTopParent(r).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(s,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[r]),n},[])},safeProbe=function(e){try{return e()}catch{return}},getActiveElement=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?getActiveElement(t.shadowRoot):t instanceof HTMLIFrameElement&&safeProbe(function(){return t.contentWindow.document})?getActiveElement(t.contentWindow.document):t}},focusInFrame=function(e,t){return e===t},focusInsideIframe=function(e,t){return!!toArray(e.querySelectorAll("iframe")).some(function(n){return focusInFrame(n,t)})},focusInside=function(e,t){return t===void 0&&(t=getActiveElement(getFirst(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:getAllAffectedNodes(e).some(function(n){return contains(n,t)||focusInsideIframe(n,t)})},focusIsHidden=function(e){e===void 0&&(e=document);var t=getActiveElement(e);return t?toArray(e.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(n){return contains(n,t)}):!1},findSelectedRadio=function(e,t){return t.filter(isRadioElement).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},correctNode=function(e,t){return isRadioElement(e)&&e.name?findSelectedRadio(e,t):e},correctNodes=function(e){var t=new Set;return e.forEach(function(n){return t.add(correctNode(n,e))}),e.filter(function(n){return t.has(n)})},pickFirstFocus=function(e){return e[0]&&e.length>1?correctNode(e[0],e):e[0]},pickFocusable=function(e,t){return e.length>1?e.indexOf(correctNode(e[t],e)):t},NEW_FOCUS="NEW_FOCUS",newFocus=function(e,t,n,r){var s=e.length,i=e[0],o=e[s-1],a=isGuard(n);if(!(n&&e.indexOf(n)>=0)){var l=n!==void 0?t.indexOf(n):-1,c=r?t.indexOf(r):l,d=r?e.indexOf(r):-1,m=l-c,_=t.indexOf(i),y=t.indexOf(o),T=correctNodes(t),$=n!==void 0?T.indexOf(n):-1,F=$-(r?T.indexOf(r):l),P=pickFocusable(e,0),k=pickFocusable(e,s-1);if(l===-1||d===-1)return NEW_FOCUS;if(!m&&d>=0)return d;if(l<=_&&a&&Math.abs(m)>1)return k;if(l>=y&&a&&Math.abs(m)>1)return P;if(m&&Math.abs(F)>1)return d;if(l<=_)return k;if(l>y)return P;if(m)return Math.abs(m)>1?d:(s+d+m)%s}},findAutoFocused=function(e){return function(t){var n,r=(n=getDataset(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},pickAutofocus=function(e,t,n){var r=e.map(function(i){var o=i.node;return o}),s=filterAutoFocusable(r.filter(findAutoFocused(n)));return s&&s.length?pickFirstFocus(s):pickFirstFocus(filterAutoFocusable(t))},getParents=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&getParents(e.parentNode.host||e.parentNode,t),t},getCommonParent=function(e,t){for(var n=getParents(e),r=getParents(t),s=0;s<n.length;s+=1){var i=n[s];if(r.indexOf(i)>=0)return i}return!1},getTopCommonParent=function(e,t,n){var r=asArray(e),s=asArray(t),i=r[0],o=!1;return s.filter(Boolean).forEach(function(a){o=getCommonParent(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=getCommonParent(i,l);c&&(!o||contains(c,o)?o=c:o=getCommonParent(c,o))})}),o},allParentAutofocusables=function(e,t){return e.reduce(function(n,r){return n.concat(parentAutofocusables(r,t))},[])},reorderNodes=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(isDefined)},getFocusMerge=function(e,t){var n=getActiveElement(asArray(e).length>0?document:getFirst(e).ownerDocument),r=getAllAffectedNodes(e).filter(isNotAGuard),s=getTopCommonParent(n||e,e,r),i=new Map,o=getAllTabbableNodes(r,i),a=getTabbableNodes(r,i).filter(function(y){var T=y.node;return isNotAGuard(T)});if(!(!a[0]&&(a=o,!a[0]))){var l=getAllTabbableNodes([s],i).map(function(y){var T=y.node;return T}),c=reorderNodes(l,a),d=c.map(function(y){var T=y.node;return T}),m=newFocus(d,l,n,t);if(m===NEW_FOCUS){var _=pickAutofocus(o,d,allParentAutofocusables(r,i));if(_)return{node:_};console.warn("focus-lock: cannot find any node to move focus into");return}return m===void 0?m:c[m]}},focusOn=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},guardCount=0,lockDisabled=!1,setFocus=function(e,t,n){n===void 0&&(n={});var r=getFocusMerge(e,t);if(!lockDisabled&&r){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(r.node,n.focusOptions),guardCount--}},moveFocusInside=setFocus;function deferAction(e){const t=window.setImmediate;typeof t<"u"?t(e):setTimeout(e,1)}let lastActiveTrap=0,lastActiveFocus=null,focusWasOutsideWindow=!1;const focusOnBody=()=>document&&document.activeElement===document.body,isFreeFocus=()=>focusOnBody()||focusIsHidden(),activateTrap=()=>{let e=!1;if(lastActiveTrap){const{observed:t,onActivation:n}=lastActiveTrap;(focusWasOutsideWindow||!isFreeFocus()||!lastActiveFocus)&&(t&&!focusInside(t)&&(n(),e=moveFocusInside(t,lastActiveFocus)),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement)}return e},reducePropsToState=e=>e.filter(({disabled:t})=>!t).slice(-1)[0],handleStateChangeOnClient=e=>{lastActiveTrap!==e&&(lastActiveTrap=null),lastActiveTrap=e,e&&(activateTrap(),deferAction(activateTrap))};let instances=[];const emitChange=()=>{handleStateChangeOnClient(reducePropsToState(instances))},onTrap=e=>{activateTrap()&&e&&(e.stopPropagation(),e.preventDefault())},onBlur=()=>{deferAction(activateTrap)},onWindowBlur=()=>{focusWasOutsideWindow=!0},attachHandler=()=>{document.addEventListener("focusin",onTrap,!0),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=()=>{document.removeEventListener("focusin",onTrap,!0),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};var script$7={name:"Lock",props:{returnFocus:{type:Boolean},disabled:{type:Boolean},noFocusGuards:{type:[Boolean,String],default:!1},group:{type:String}},setup(e){const{returnFocus:t,disabled:n,noFocusGuards:r,group:s}=toRefs(e),i=ref(null),o=ref({}),a=ref(""),l=computed(()=>({[FOCUS_GROUP]:s.value})),c=computed(()=>r.value!==!0),d=computed(()=>c.value&&r.value!=="tail");watch(n,()=>{o.value.disabled=n.value,emitChange()});let m;return onMounted(()=>{const _=getCurrentInstance();_&&(o.value.instance=_.proxy,o.value.observed=i.value.querySelector("[data-lock]"),o.value.disabled=n.value,o.value.onActivation=()=>{m=m||document&&document.activeElement},instances.length||attachHandler(),instances.push(o.value),emitChange())}),onUnmounted(()=>{const _=getCurrentInstance();_&&(instances=instances.filter(({instance:y})=>y!==_.proxy),instances.length||detachHandler(),t.value&&m&&m.focus&&m.focus(),emitChange())}),{groupAttr:l,hasLeadingGuards:c,hasTailingGuards:d,hidden:a,onBlur:()=>deferAction(emitChange),rootEl:i}}};const _hoisted_1$7={ref:"rootEl"},_hoisted_2$7=["tabIndex"],_hoisted_3$7=["tabIndex"];function render$7(e,t,n,r,s,i){return openBlock(),createElementBlock("div",_hoisted_1$7,[r.hasLeadingGuards?(openBlock(),createElementBlock("div",{key:0,tabIndex:n.disabled?-1:0,style:normalizeStyle(r.hidden),"aria-hidden":"true"},null,12,_hoisted_2$7)):createCommentVNode("v-if",!0),createBaseVNode("div",mergeProps({onFocusout:t[0]||(t[0]=(...o)=>r.onBlur&&r.onBlur(...o))},r.groupAttr,{"data-lock":""}),[renderSlot(e.$slots,"default")],16),r.hasTailingGuards?(openBlock(),createElementBlock("div",{key:1,tabIndex:n.disabled?-1:0,style:normalizeStyle(r.hidden),"aria-hidden":"true"},null,12,_hoisted_3$7)):createCommentVNode("v-if",!0)],512)}script$7.render=render$7,script$7.__file="node_modules/vue-focus-lock/src/Lock.vue";var script$6={name:"MediaModal",components:{Lock:script$7},props:{showClose:{type:Boolean,default:!0},size:{type:String,default:""},labelElement:{type:String,required:!0}},emits:["close"],computed:{modalClass(){return{"modal-sm":this.size==="sm"}}},mounted(){document.addEventListener("keydown",this.onKeyDown)},beforeUnmount(){document.removeEventListener("keydown",this.onKeyDown)},methods:{close(){this.$emit("close")},onKeyDown(e){e.keyCode===27&&this.close()}}};const _hoisted_1$6=["aria-labelledby"],_hoisted_2$6={class:"modal-content"},_hoisted_3$6={class:"modal-header"},_hoisted_4$4={class:"modal-body"},_hoisted_5$4={class:"modal-footer"};function render$6(e,t,n,r,s,i){const o=resolveComponent("Lock");return openBlock(),createElementBlock("div",{class:"media-modal-backdrop",onClick:t[2]||(t[2]=a=>i.close())},[createBaseVNode("div",{class:"modal",style:{display:"flex"},onClick:t[1]||(t[1]=withModifiers(()=>{},["stop"]))},[createVNode(o,null,{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["modal-dialog",i.modalClass]),role:"dialog","aria-labelledby":n.labelElement},[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[renderSlot(e.$slots,"header"),renderSlot(e.$slots,"backdrop-close"),n.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=a=>i.close())})):createCommentVNode("v-if",!0)]),createBaseVNode("div",_hoisted_4$4,[renderSlot(e.$slots,"body")]),createBaseVNode("div",_hoisted_5$4,[renderSlot(e.$slots,"footer")])])],10,_hoisted_1$6)]),_:3})])])}script$6.render=render$6,script$6.__file="administrator/components/com_media/resources/scripts/components/modals/modal.vue";var script$5={name:"MediaCreateFolderModal",components:{MediaModal:script$6},data(){return{folder:""}},watch:{"$store.state.showCreateFolderModal":function(e){this.$nextTick(()=>{e&&this.$refs.input&&this.$refs.input.focus()})}},methods:{isValid(){return this.folder},close(){this.reset(),this.$store.commit(HIDE_CREATE_FOLDER_MODAL)},save(){this.isValid()&&(this.$store.dispatch("createDirectory",{name:this.folder,parent:this.$store.state.selectedDirectory}),this.reset())},reset(){this.folder=""}}};const _hoisted_1$5={id:"createFolderTitle",class:"modal-title"},_hoisted_2$5={class:"p-3"},_hoisted_3$5={class:"form-group"},_hoisted_4$3={for:"folder"},_hoisted_5$3=["disabled"];function render$5(e,t,n,r,s,i){const o=resolveComponent("MediaModal");return e.$store.state.showCreateFolderModal?(openBlock(),createBlock(o,{key:0,size:"md","label-element":"createFolderTitle",onClose:t[5]||(t[5]=a=>i.close())},{header:withCtx(()=>[createBaseVNode("h3",_hoisted_1$5,toDisplayString(e.translate("COM_MEDIA_CREATE_NEW_FOLDER")),1)]),body:withCtx(()=>[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("form",{class:"form",novalidate:"",onSubmit:t[2]||(t[2]=withModifiers((...a)=>i.save&&i.save(...a),["prevent"]))},[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("label",_hoisted_4$3,toDisplayString(e.translate("COM_MEDIA_FOLDER_NAME")),1),withDirectives(createBaseVNode("input",{id:"folder",ref:"input","onUpdate:modelValue":t[0]||(t[0]=a=>s.folder=a),class:"form-control",type:"text",required:"",autocomplete:"off",onInput:t[1]||(t[1]=a=>s.folder=a.target.value)},null,544),[[vModelText,s.folder,void 0,{trim:!0}]])])],32)])]),footer:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("button",{class:"btn btn-secondary",onClick:t[3]||(t[3]=a=>i.close())},toDisplayString(e.translate("JCANCEL")),1),createBaseVNode("button",{class:"btn btn-success",disabled:!i.isValid(),onClick:t[4]||(t[4]=a=>i.save())},toDisplayString(e.translate("JACTION_CREATE")),9,_hoisted_5$3)])]),_:1})):createCommentVNode("v-if",!0)}script$5.render=render$5,script$5.__file="administrator/components/com_media/resources/scripts/components/modals/create-folder-modal.vue";var script$4={name:"MediaPreviewModal",components:{MediaModal:script$6},computed:{item(){return this.$store.state.selectedItem?this.$store.state.selectedItem:this.$store.state.previewItem},getHashedURL(){return this.item.adapter.startsWith("local-")?`${this.item.url}?${api.mediaVersion}`:this.item.url},style(){return this.item.mime_type!=="image/svg+xml"?null:"width: clamp(300px, 1000px, 75vw)"}},methods:{close(){this.$store.commit(HIDE_PREVIEW_MODAL)},isImage(){return this.item.mime_type.indexOf("image/")===0},isVideo(){return this.item.mime_type.indexOf("video/")===0},isAudio(){return this.item.mime_type.indexOf("audio/")===0},isDoc(){return this.item.mime_type.indexOf("application/")===0}}};const _hoisted_1$4={id:"previewTitle",class:"modal-title text-light"},_hoisted_2$4={class:"image-background"},_hoisted_3$4=["src"],_hoisted_4$2={key:1,controls:""},_hoisted_5$2=["src","type"],_hoisted_6$2=["type","data"],_hoisted_7$1=["src","type"],_hoisted_8$1=createBaseVNode("span",{class:"icon-times"},null,-1),_hoisted_9$1=[_hoisted_8$1];function render$4(e,t,n,r,s,i){const o=resolveComponent("MediaModal");return e.$store.state.showPreviewModal&&i.item?(openBlock(),createBlock(o,{key:0,size:"md",class:"media-preview-modal","label-element":"previewTitle","show-close":!1,onClose:t[1]||(t[1]=a=>i.close())},{header:withCtx(()=>[createBaseVNode("h3",_hoisted_1$4,toDisplayString(i.item.name),1)]),body:withCtx(()=>[createBaseVNode("div",_hoisted_2$4,[i.isAudio()?(openBlock(),createElementBlock("audio",{key:0,controls:"",src:i.item.url},null,8,_hoisted_3$4)):createCommentVNode("v-if",!0),i.isVideo()?(openBlock(),createElementBlock("video",_hoisted_4$2,[createBaseVNode("source",{src:i.item.url,type:i.item.mime_type},null,8,_hoisted_5$2)])):createCommentVNode("v-if",!0),i.isDoc()?(openBlock(),createElementBlock("object",{key:2,type:i.item.mime_type,data:i.item.url,width:"800",height:"600"},null,8,_hoisted_6$2)):createCommentVNode("v-if",!0),i.isImage()?(openBlock(),createElementBlock("img",{key:3,src:i.getHashedURL,type:i.item.mime_type,style:normalizeStyle(i.style)},null,12,_hoisted_7$1)):createCommentVNode("v-if",!0)])]),"backdrop-close":withCtx(()=>[createBaseVNode("button",{type:"button",class:"media-preview-close",onClick:t[0]||(t[0]=a=>i.close())},_hoisted_9$1)]),_:1})):createCommentVNode("v-if",!0)}script$4.render=render$4,script$4.__file="administrator/components/com_media/resources/scripts/components/modals/preview-modal.vue";var script$3={name:"MediaRenameModal",components:{MediaModal:script$6},computed:{item(){return this.$store.state.selectedItems[this.$store.state.selectedItems.length-1]},name(){return this.item.name.replace(`.${this.item.extension}`,"")},extension(){return this.item.extension}},updated(){this.$nextTick(()=>this.$refs.nameField?this.$refs.nameField.focus():null)},methods:{isValid(){return this.item.name.length>0},close(){this.$store.commit(HIDE_RENAME_MODAL)},save(){if(!this.isValid())return;let e=this.$refs.nameField.value;this.extension.length&&(e+=`.${this.item.extension}`);let t=this.item.directory;t.substr(-1)!=="/"&&(t+="/"),this.$store.dispatch("renameItem",{item:this.item,newPath:t+e,newName:e})}}};const _hoisted_1$3={id:"renameTitle",class:"modal-title"},_hoisted_2$3={class:"form-group p-3"},_hoisted_3$3={for:"name"},_hoisted_4$1=["placeholder","value"],_hoisted_5$1={key:0,class:"input-group-text"},_hoisted_6$1=["disabled"];function render$3(e,t,n,r,s,i){const o=resolveComponent("MediaModal");return e.$store.state.showRenameModal?(openBlock(),createBlock(o,{key:0,size:"sm","show-close":!1,"label-element":"renameTitle",onClose:t[5]||(t[5]=a=>i.close())},{header:withCtx(()=>[createBaseVNode("h3",_hoisted_1$3,toDisplayString(e.translate("COM_MEDIA_RENAME")),1)]),body:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("form",{class:"form",novalidate:"",onSubmit:t[0]||(t[0]=withModifiers((...a)=>i.save&&i.save(...a),["prevent"]))},[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("label",_hoisted_3$3,toDisplayString(e.translate("COM_MEDIA_NAME")),1),createBaseVNode("div",{class:normalizeClass({"input-group":i.extension.length})},[createBaseVNode("input",{id:"name",ref:"nameField",class:"form-control",type:"text",placeholder:e.translate("COM_MEDIA_NAME"),value:i.name,required:"",autocomplete:"off"},null,8,_hoisted_4$1),i.extension.length?(openBlock(),createElementBlock("span",_hoisted_5$1,toDisplayString(i.extension),1)):createCommentVNode("v-if",!0)],2)])],32)])]),footer:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=a=>i.close()),onKeyup:t[2]||(t[2]=withKeys(a=>i.close(),["enter"]))},toDisplayString(e.translate("JCANCEL")),33),createBaseVNode("button",{type:"button",class:"btn btn-success",disabled:!i.isValid(),onClick:t[3]||(t[3]=a=>i.save()),onKeyup:t[4]||(t[4]=withKeys(a=>i.save(),["enter"]))},toDisplayString(e.translate("JAPPLY")),41,_hoisted_6$1)])]),_:1})):createCommentVNode("v-if",!0)}script$3.render=render$3,script$3.__file="administrator/components/com_media/resources/scripts/components/modals/rename-modal.vue";const Translate={translate:e=>Joomla.Text._(e,e),sprintf:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=Translate.translate(e);let i=0;return s.replace(/%((%)|s|d)/g,o=>{let a=n[i];return o==="%d"&&(a=parseFloat(a),Number.isNaN(a)&&(a=0)),i+=1,a})},install:e=>e.mixin({methods:{translate(t){return Translate.translate(t)},sprintf(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Translate.sprintf(t,r)}}})};var script$2={name:"MediaShareModal",components:{MediaModal:script$6},computed:{item(){return this.$store.state.selectedItems[this.$store.state.selectedItems.length-1]},url(){return this.$store.state.previewItem&&Object.prototype.hasOwnProperty.call(this.$store.state.previewItem,"url")?this.$store.state.previewItem.url:null}},methods:{close(){this.$store.commit(HIDE_SHARE_MODAL),this.$store.commit(LOAD_FULL_CONTENTS_SUCCESS,null)},generateUrl(){this.$store.dispatch("getFullContents",this.item)},copyToClipboard(){this.$refs.urlText.focus(),this.$refs.urlText.select();try{document.execCommand("copy")}catch{window.alert(Translate("COM_MEDIA_SHARE_COPY_FAILED_ERROR"))}}}};const _hoisted_1$2={id:"shareTitle",class:"modal-title"},_hoisted_2$2={class:"p-3"},_hoisted_3$2={class:"desc"},_hoisted_4={key:0,class:"control"},_hoisted_5={key:1,class:"control"},_hoisted_6={class:"input-group"},_hoisted_7=["title"],_hoisted_8=createBaseVNode("span",{class:"icon-clipboard","aria-hidden":"true"},null,-1),_hoisted_9=[_hoisted_8];function render$2(e,t,n,r,s,i){const o=resolveComponent("MediaModal");return e.$store.state.showShareModal?(openBlock(),createBlock(o,{key:0,size:"md","show-close":!1,"label-element":"shareTitle",onClose:t[4]||(t[4]=a=>i.close())},{header:withCtx(()=>[createBaseVNode("h3",_hoisted_1$2,toDisplayString(e.translate("COM_MEDIA_SHARE")),1)]),body:withCtx(()=>[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createTextVNode(toDisplayString(e.translate("COM_MEDIA_SHARE_DESC"))+" ",1),i.url?(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("span",_hoisted_6,[withDirectives(createBaseVNode("input",{id:"url",ref:"urlText","onUpdate:modelValue":t[1]||(t[1]=a=>i.url=a),readonly:"",type:"url",class:"form-control input-xxlarge",placeholder:"URL",autocomplete:"off"},null,512),[[vModelText,i.url]]),createBaseVNode("button",{class:"btn btn-secondary",type:"button",title:e.translate("COM_MEDIA_SHARE_COPY"),onClick:t[2]||(t[2]=(...a)=>i.copyToClipboard&&i.copyToClipboard(...a))},_hoisted_9,8,_hoisted_7)])])):(openBlock(),createElementBlock("div",_hoisted_4,[createBaseVNode("button",{class:"btn btn-success w-100",type:"button",onClick:t[0]||(t[0]=(...a)=>i.generateUrl&&i.generateUrl(...a))},toDisplayString(e.translate("COM_MEDIA_ACTION_SHARE")),1)]))])])]),footer:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("button",{class:"btn btn-secondary",onClick:t[3]||(t[3]=a=>i.close())},toDisplayString(e.translate("JCANCEL")),1)])]),_:1})):createCommentVNode("v-if",!0)}script$2.render=render$2,script$2.__file="administrator/components/com_media/resources/scripts/components/modals/share-modal.vue";var script$1={name:"MediaShareModal",components:{MediaModal:script$6},computed:{item(){return this.$store.state.selectedItems[this.$store.state.selectedItems.length-1]}},methods:{deleteItem(){this.$store.dispatch("deleteSelectedItems"),this.$store.commit(HIDE_CONFIRM_DELETE_MODAL)},close(){this.$store.commit(HIDE_CONFIRM_DELETE_MODAL)}}};const _hoisted_1$1={id:"confirmDeleteTitle",class:"modal-title"},_hoisted_2$1={class:"p-3"},_hoisted_3$1={class:"desc"};function render$1(e,t,n,r,s,i){const o=resolveComponent("MediaModal");return e.$store.state.showConfirmDeleteModal?(openBlock(),createBlock(o,{key:0,size:"md","show-close":!1,"label-element":"confirmDeleteTitle",onClose:t[2]||(t[2]=a=>i.close())},{header:withCtx(()=>[createBaseVNode("h3",_hoisted_1$1,toDisplayString(e.translate("COM_MEDIA_CONFIRM_DELETE_MODAL_HEADING")),1)]),body:withCtx(()=>[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,toDisplayString(e.translate("JGLOBAL_CONFIRM_DELETE")),1)])]),footer:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("button",{class:"btn btn-success",onClick:t[0]||(t[0]=a=>i.close())},toDisplayString(e.translate("JCANCEL")),1),createBaseVNode("button",{id:"media-delete-item",class:"btn btn-danger",onClick:t[1]||(t[1]=a=>i.deleteItem())},toDisplayString(e.translate("COM_MEDIA_CONFIRM_DELETE_MODAL")),1)])]),_:1})):createCommentVNode("v-if",!0)}script$1.render=render$1,script$1.__file="administrator/components/com_media/resources/scripts/components/modals/confirm-delete-modal.vue";var script={name:"MediaApp",components:{MediaBrowser:script$e,MediaDisk:script$b,MediaToolbar:script$9,MediaUpload:script$8,MediaCreateFolderModal:script$5,MediaPreviewModal:script$4,MediaRenameModal:script$3,MediaShareModal:script$2,MediaConfirmDeleteModal:script$1},data(){return{fullHeight:""}},computed:{disks(){return this.$store.state.disks}},created(){MediaManager.Event.listen("onClickCreateFolder",()=>this.$store.commit(SHOW_CREATE_FOLDER_MODAL)),MediaManager.Event.listen("onClickDelete",()=>{this.$store.state.selectedItems.length>0?this.$store.commit(SHOW_CONFIRM_DELETE_MODAL):notifications.error("COM_MEDIA_PLEASE_SELECT_ITEM")})},mounted(){this.$nextTick(()=>{this.setFullHeight(),window.addEventListener("resize",this.setFullHeight)}),this.$store.dispatch("getContents",this.$store.state.selectedDirectory,!1,!1)},beforeUnmount(){window.removeEventListener("resize",this.setFullHeight)},methods:{setFullHeight(){this.fullHeight=`${window.innerHeight-this.$el.getBoundingClientRect().top}px`}}};const _hoisted_1={class:"media-container"},_hoisted_2={class:"media-sidebar"},_hoisted_3={class:"media-main"};function render(e,t,n,r,s,i){const o=resolveComponent("MediaDisk"),a=resolveComponent("MediaToolbar"),l=resolveComponent("MediaBrowser"),c=resolveComponent("MediaUpload"),d=resolveComponent("MediaCreateFolderModal"),m=resolveComponent("MediaPreviewModal"),_=resolveComponent("MediaRenameModal"),y=resolveComponent("MediaShareModal"),T=resolveComponent("MediaConfirmDeleteModal");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.disks,($,F)=>(openBlock(),createBlock(o,{key:F.toString(),uid:F.toString(),disk:$},null,8,["uid","disk"]))),128))]),createBaseVNode("div",_hoisted_3,[createVNode(a),createVNode(l)]),createVNode(c),createVNode(d),createVNode(m),createVNode(_),createVNode(y),createVNode(T)])}script.render=render,script.__file="administrator/components/com_media/resources/scripts/components/app.vue";class Event$1{constructor(){this.events={}}fire(t,n){n===void 0&&(n=null),this.events[t]&&this.events[t].forEach(r=>r(n))}listen(t,n){this.events[t]=this.events[t]||[],this.events[t].push(n)}}function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var e;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(t,n){var r=this;this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const a in t.settings){const l=t.settings[a];s[a]=l.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},s);try{const a=localStorage.getItem(i),l=JSON.parse(a);Object.assign(o,l)}catch{}this.fallbacks={getSettings(){return o},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}o=a},now(){return now()}},n&&n.on(HOOK_PLUGIN_SETTINGS_SET,(a,l)=>{a===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(a,l)=>this.target?this.target.on[l]:function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];r.onQueue.push({method:l,args:d})}}),this.proxiedTarget=new Proxy({},{get:(a,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];return r.targetQueue.push({method:l,args:d,resolve:()=>{}}),r.fallbacks[l](...d)}:function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];return new Promise(_=>{r.targetQueue.push({method:l,args:d,resolve:_})})}})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function setupDevtoolsPlugin(e,t){const n=e,r=getTarget(),s=getDevtoolsGlobalHook(),i=isProxyAvailable&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(HOOK_SETUP,e,t);else{const o=i?new ApiProxy(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var storeKey="store";function forEachValue(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function isObject(e){return e!==null&&typeof e=="object"}function isPromise(e){return e&&typeof e.then=="function"}function partial(e,t){return function(){return e(t)}}function genericSubscribe(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function resetStore(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;installModule(e,n,[],e._modules.root,!0),resetStoreState(e,n,t)}function resetStoreState(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={},a={},l=effectScope(!0);l.run(function(){forEachValue(i,function(c,d){o[d]=partial(c,e),a[d]=computed(function(){return o[d]()}),Object.defineProperty(e.getters,d,{get:function(){return a[d].value},enumerable:!0})})}),e._state=reactive({data:t}),e._scope=l,e.strict&&enableStrictMode(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function installModule(e,t,n,r,s){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!s){var a=getNestedState(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var c=r.context=makeLocalContext(e,o,n);r.forEachMutation(function(d,m){var _=o+m;registerMutation(e,_,d,c)}),r.forEachAction(function(d,m){var _=d.root?m:o+m,y=d.handler||d;registerAction(e,_,y,c)}),r.forEachGetter(function(d,m){var _=o+m;registerGetter(e,_,d,c)}),r.forEachChild(function(d,m){installModule(e,t,n.concat(m),d,s)})}function makeLocalContext(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(i,o,a){var l=unifyObjectStyle(i,o,a),c=l.payload,d=l.options,m=l.type;return(!d||!d.root)&&(m=t+m),e.dispatch(m,c)},commit:r?e.commit:function(i,o,a){var l=unifyObjectStyle(i,o,a),c=l.payload,d=l.options,m=l.type;(!d||!d.root)&&(m=t+m),e.commit(m,c,d)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return makeLocalGetters(e,t)}},state:{get:function(){return getNestedState(e.state,n)}}}),s}function makeLocalGetters(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function registerMutation(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,r.state,o)})}function registerAction(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return isPromise(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function registerGetter(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function enableStrictMode(e){watch(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function getNestedState(e,t){return t.reduce(function(n,r){return n[r]},e)}function unifyObjectStyle(e,t,n){return isObject(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var LABEL_VUEX_BINDINGS="vuex bindings",MUTATIONS_LAYER_ID="vuex:mutations",ACTIONS_LAYER_ID="vuex:actions",INSPECTOR_ID="vuex",actionId=0;function addDevtools(e,t){setupDevtoolsPlugin({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[LABEL_VUEX_BINDINGS]},function(n){n.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Vuex Mutations",color:COLOR_LIME_500}),n.addTimelineLayer({id:ACTIONS_LAYER_ID,label:"Vuex Actions",color:COLOR_LIME_500}),n.addInspector({id:INSPECTOR_ID,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===INSPECTOR_ID)if(r.filter){var s=[];flattenStoreForInspectorTree(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[formatStoreForInspectorTree(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===INSPECTOR_ID){var s=r.nodeId;makeLocalGetters(t,s),r.state=formatStoreForInspectorState(getStoreModule(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===INSPECTOR_ID){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(INSPECTOR_ID),n.sendInspectorState(INSPECTOR_ID),n.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=actionId++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var COLOR_LIME_500=8702998,COLOR_DARK=6710886,COLOR_WHITE=16777215,TAG_NAMESPACED={label:"namespaced",textColor:COLOR_WHITE,backgroundColor:COLOR_DARK};function extractNameFromPath(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function formatStoreForInspectorTree(e,t){return{id:t||"root",label:extractNameFromPath(t),tags:e.namespaced?[TAG_NAMESPACED]:[],children:Object.keys(e._children).map(function(n){return formatStoreForInspectorTree(e._children[n],t+n+"/")})}}function flattenStoreForInspectorTree(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[TAG_NAMESPACED]:[]}),Object.keys(t._children).forEach(function(s){flattenStoreForInspectorTree(e,t._children[s],n,r+s+"/")})}function formatStoreForInspectorState(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=transformPathsToObjectTree(t);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?extractNameFromPath(o):o,editable:!1,value:canThrow(function(){return i[o]})}})}return s}function transformPathsToObjectTree(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=canThrow(function(){return e[n]})}else t[n]=canThrow(function(){return e[n]})}),t}function getStoreModule(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function canThrow(e){try{return e()}catch(t){return t}}var Module=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},prototypeAccessors$1={namespaced:{configurable:!0}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced},Module.prototype.addChild=function(t,n){this._children[t]=n},Module.prototype.removeChild=function(t){delete this._children[t]},Module.prototype.getChild=function(t){return this._children[t]},Module.prototype.hasChild=function(t){return t in this._children},Module.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Module.prototype.forEachChild=function(t){forEachValue(this._children,t)},Module.prototype.forEachGetter=function(t){this._rawModule.getters&&forEachValue(this._rawModule.getters,t)},Module.prototype.forEachAction=function(t){this._rawModule.actions&&forEachValue(this._rawModule.actions,t)},Module.prototype.forEachMutation=function(t){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,t)},Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function(t){this.register([],t,!1)};ModuleCollection.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)},ModuleCollection.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")},ModuleCollection.prototype.update=function(t){update([],this.root,t)},ModuleCollection.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var i=new Module(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&forEachValue(n.modules,function(a,l){s.register(t.concat(l),a,r)})},ModuleCollection.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)},ModuleCollection.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function update(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;update(e.concat(r),t.getChild(r),n.modules[r])}}function createStore(e){return new Store(e)}var Store=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(_,y){return l.call(o,_,y)},this.commit=function(_,y,T){return c.call(o,_,y,T)},this.strict=s;var d=this._modules.root.state;installModule(this,d,[],this._modules.root),resetStoreState(this,d),r.forEach(function(m){return m(n)})},prototypeAccessors={state:{configurable:!0}};Store.prototype.install=function(t,n){t.provide(n||storeKey,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&addDevtools(t,this)},prototypeAccessors.state.get=function(){return this._state.data},prototypeAccessors.state.set=function(e){},Store.prototype.commit=function(t,n,r){var s=this,i=unifyObjectStyle(t,n,r),o=i.type,a=i.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(m){m(a)})}),this._subscribers.slice().forEach(function(d){return d(l,s.state)}))},Store.prototype.dispatch=function(t,n){var r=this,s=unifyObjectStyle(t,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(a,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(d){return d(o)})):l[0](o);return new Promise(function(d,m){c.then(function(_){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(a,r.state)})}catch{}d(_)},function(_){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(a,r.state,_)})}catch{}m(_)})})}},Store.prototype.subscribe=function(t,n){return genericSubscribe(t,this._subscribers,n)},Store.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return genericSubscribe(r,this._actionSubscribers,n)},Store.prototype.watch=function(t,n,r){var s=this;return watch(function(){return t(s.state,s.getters)},n,Object.assign({},r))},Store.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})},Store.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),installModule(this,this.state,t,this._modules.get(t),r.preserveState),resetStoreState(this,this.state)},Store.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=getNestedState(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),resetStore(this)},Store.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)},Store.prototype.hotUpdate=function(t){this._modules.update(t),resetStore(this,!0)},Store.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n},Object.defineProperties(Store.prototype,prototypeAccessors);var isMergeableObject=function(t){return isNonNullObject(t)&&!isSpecial(t)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,t){return t.clone!==!1&&t.isMergeableObject(e)?deepmerge(emptyTarget(e),e,t):e}function defaultArrayMerge(e,t,n){return e.concat(t).map(function(r){return cloneUnlessOtherwiseSpecified(r,n)})}function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var n=t.customMerge(e);return typeof n=="function"?n:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,t){try{return t in e}catch{return!1}}function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function mergeObject(e,t,n){var r={};return n.isMergeableObject(e)&&getKeys(e).forEach(function(s){r[s]=cloneUnlessOtherwiseSpecified(e[s],n)}),getKeys(t).forEach(function(s){propertyIsUnsafe(e,s)||(propertyIsOnObject(e,s)&&n.isMergeableObject(t[s])?r[s]=getMergeFunction(s,n)(e[s],t[s],n):r[s]=cloneUnlessOtherwiseSpecified(t[s],n))}),r}function deepmerge(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||isMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var r=Array.isArray(t),s=Array.isArray(e),i=r===s;return i?r?n.arrayMerge(e,t,n):mergeObject(e,t,n):cloneUnlessOtherwiseSpecified(t,n)}deepmerge.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,s){return deepmerge(r,s,n)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;let MockStorage;MockStorage=class{get length(){return Object.keys(this).length}key(e){return Object.keys(this)[e]}setItem(e,t){this[e]=t.toString()}getItem(e){return this[e]}removeItem(e){delete this[e]}clear(){for(let e of Object.keys(this))delete this[e]}};class SimplePromiseQueue{constructor(){this._queue=[],this._flushing=!1}enqueue(t){return this._queue.push(t),this._flushing?Promise.resolve():this.flushQueue()}flushQueue(){this._flushing=!0;const t=()=>{const n=this._queue.shift();if(n)return n.then(t);this._flushing=!1};return Promise.resolve(t())}}const options$1={replaceArrays:{arrayMerge:(e,t,n)=>t},concatArrays:{arrayMerge:(e,t,n)=>e.concat(...t)}};function merge(e,t,n){return cjs(e,t,options$1[n])}let FlattedJSON=JSON;class VuexPersistence{constructor(t){this._mutex=new SimplePromiseQueue,this.subscriber=r=>s=>r.subscribe(s),typeof t>"u"&&(t={}),this.key=t.key!=null?t.key:"vuex",this.subscribed=!1,this.supportCircular=t.supportCircular||!1,this.supportCircular&&(FlattedJSON=require("flatted")),this.mergeOption=t.mergeOption||"replaceArrays";let n=!0;try{window.localStorage.getItem("")}catch{n=!1}if(t.storage)this.storage=t.storage;else if(n)this.storage=window.localStorage;else if(MockStorage)this.storage=new MockStorage;else throw new Error("Neither 'window' is defined, nor 'MockStorage' is available");this.reducer=t.reducer!=null?t.reducer:t.modules==null?r=>r:r=>t.modules.reduce((s,i)=>merge(s,{[i]:r[i]},this.mergeOption),{}),this.filter=t.filter||(r=>!0),this.strictMode=t.strictMode||!1,this.RESTORE_MUTATION=function(s,i){const o=merge(s,i||{},this.mergeOption);for(const a of Object.keys(o))this._vm.$set(s,a,o[a])},this.asyncStorage=t.asyncStorage||!1,this.asyncStorage?(this.restoreState=t.restoreState!=null?t.restoreState:(r,s)=>s.getItem(r).then(i=>typeof i=="string"?this.supportCircular?FlattedJSON.parse(i||"{}"):JSON.parse(i||"{}"):i||{}),this.saveState=t.saveState!=null?t.saveState:(r,s,i)=>i.setItem(r,this.asyncStorage?merge({},s||{},this.mergeOption):this.supportCircular?FlattedJSON.stringify(s):JSON.stringify(s)),this.plugin=r=>{r.restored=this.restoreState(this.key,this.storage).then(s=>{this.strictMode?r.commit("RESTORE_MUTATION",s):r.replaceState(merge(r.state,s||{},this.mergeOption)),this.subscriber(r)((i,o)=>{this.filter(i)&&this._mutex.enqueue(this.saveState(this.key,this.reducer(o),this.storage))}),this.subscribed=!0})}):(this.restoreState=t.restoreState!=null?t.restoreState:(r,s)=>{const i=s.getItem(r);return typeof i=="string"?this.supportCircular?FlattedJSON.parse(i||"{}"):JSON.parse(i||"{}"):i||{}},this.saveState=t.saveState!=null?t.saveState:(r,s,i)=>i.setItem(r,this.supportCircular?FlattedJSON.stringify(s):JSON.stringify(s)),this.plugin=r=>{const s=this.restoreState(this.key,this.storage);this.strictMode?r.commit("RESTORE_MUTATION",s):r.replaceState(merge(r.state,s||{},this.mergeOption)),this.subscriber(r)((i,o)=>{this.filter(i)&&this.saveState(this.key,this.reducer(o),this.storage)}),this.subscribed=!0})}}var VuexPersistence$1=VuexPersistence;const persistedStateOptions={storage:window.sessionStorage,key:"joomla.mediamanager",reducer:e=>({selectedDirectory:e.selectedDirectory,showInfoBar:e.showInfoBar,listView:e.listView,gridSize:e.gridSize,search:e.search,sortBy:e.sortBy,sortDirection:e.sortDirection})},options=Joomla.getOptions("com_media",{});if(options.providers===void 0||options.providers.length===0)throw new TypeError("Media providers are not defined.");const getDrives=(e,t)=>e.map(n=>({root:`${t}-${n}:/`,displayName:n})),loadedDisks=options.providers.map(e=>({displayName:e.displayName,drives:getDrives(e.adapterNames,e.name)})),defaultDisk=loadedDisks.find(e=>e.drives.length>0&&e.drives[0]!==void 0);if(!defaultDisk)throw new TypeError("No default media drive was found");const storedState=JSON.parse(persistedStateOptions.storage.getItem(persistedStateOptions.key));function setSession(e){persistedStateOptions.storage.setItem(persistedStateOptions.key,JSON.stringify({...storedState,selectedDirectory:e}))}function getCurrentPath(){let e=options.currentPath;if(!e&&storedState&&storedState.selectedDirectory&&(e=storedState.selectedDirectory),!e)return setSession(defaultDisk.drives[0].root),defaultDisk.drives[0].root;const t=e.split(":/");return!t.length||!Object.values(loadedDisks).map(r=>r.drives).flat().find(r=>r.root.startsWith(t[0]))?(setSession(defaultDisk.drives[0].root),defaultDisk.drives[0].root):(setSession(e),e)}var state={isLoading:!1,disks:loadedDisks,directories:loadedDisks.map(()=>({path:defaultDisk.drives[0].root,name:defaultDisk.displayName,directories:[],files:[],directory:null})),files:[],selectedDirectory:getCurrentPath(),selectedItems:[],showInfoBar:!1,listView:"grid",gridSize:"md",showConfirmDeleteModal:!1,showCreateFolderModal:!1,showPreviewModal:!1,showShareModal:!1,showRenameModal:!1,previewItem:null,search:"",sortBy:storedState&&storedState.sortBy?storedState.sortBy:"name",sortDirection:storedState&&storedState.sortDirection?storedState.sortDirection:"asc"};const getSelectedDirectory=e=>e.directories.find(t=>t.path===e.selectedDirectory),getSelectedDirectoryDirectories=e=>e.directories.filter(t=>t.directory===e.selectedDirectory),getSelectedDirectoryFiles=e=>e.files.filter(t=>t.directory===e.selectedDirectory),getSelectedDirectoryContents=(e,t)=>[...t.getSelectedDirectoryDirectories,...t.getSelectedDirectoryFiles];var getters=Object.freeze({__proto__:null,getSelectedDirectory,getSelectedDirectoryDirectories,getSelectedDirectoryFiles,getSelectedDirectoryContents});const updateUrlPath=e=>{const t=e===null?"":e,n=new URL(window.location.href);n.searchParams.has("path")?window.history.pushState(null,"",n.href.replace(/\b(path=).*?(&|$)/,`$1${t}$2`)):window.history.pushState(null,"",`${n.href+(n.href.indexOf("?")>0?"&":"?")}path=${t}`)},getContents=(e,t)=>{updateUrlPath(t),e.commit(SET_IS_LOADING,!0),api.getContents(t,!1,!1).then(n=>{e.commit(LOAD_CONTENTS_SUCCESS,n),e.commit(UNSELECT_ALL_BROWSER_ITEMS),e.commit(SELECT_DIRECTORY,t),e.commit(SET_IS_LOADING,!1)}).catch(n=>{throw e.commit(SET_IS_LOADING,!1),new Error(n)})},getFullContents=(e,t)=>{e.commit(SET_IS_LOADING,!0),api.getContents(t.path,!0,!0).then(n=>{e.commit(LOAD_FULL_CONTENTS_SUCCESS,n.files[0]),e.commit(SET_IS_LOADING,!1)}).catch(n=>{throw e.commit(SET_IS_LOADING,!1),new Error(n)})},download=(e,t)=>{api.getContents(t.path,!1,!0).then(n=>{const r=n.files[0],s=document.createElement("a");s.href=`data:${r.mime_type};base64,${r.content}`,s.download=r.name,document.body.appendChild(s),s.click(),document.body.removeChild(s)}).catch(n=>{throw new Error(n)})},toggleBrowserItemSelect=(e,t)=>{const n=t;e.state.selectedItems.some(s=>s.path===n.path)?e.commit(UNSELECT_BROWSER_ITEM,n):e.commit(SELECT_BROWSER_ITEM,n)},createDirectory=(e,t)=>{api.canCreate&&(e.commit(SET_IS_LOADING,!0),api.createDirectory(t.name,t.parent).then(n=>{e.commit(CREATE_DIRECTORY_SUCCESS,n),e.commit(HIDE_CREATE_FOLDER_MODAL),e.commit(SET_IS_LOADING,!1)}).catch(n=>{throw e.commit(SET_IS_LOADING,!1),new Error(n)}))},uploadFile=(e,t)=>{api.canCreate&&(e.commit(SET_IS_LOADING,!0),api.upload(t.name,t.parent,t.content,t.override||!1).then(n=>{e.commit(UPLOAD_SUCCESS,n),e.commit(SET_IS_LOADING,!1)}).catch(n=>{e.commit(SET_IS_LOADING,!1),n.status===409&&notifications.ask(Translate.sprintf("COM_MEDIA_FILE_EXISTS_AND_OVERRIDE",t.name),{})&&(t.override=!0,uploadFile(e,t))}))},renameItem=(e,t)=>{api.canEdit&&(typeof t.item.canEdit<"u"&&t.item.canEdit===!1||(e.commit(SET_IS_LOADING,!0),api.rename(t.item.path,t.newPath).then(n=>{e.commit(RENAME_SUCCESS,{item:n,oldPath:t.item.path,newName:t.newName}),e.commit(HIDE_RENAME_MODAL),e.commit(SET_IS_LOADING,!1)}).catch(n=>{throw e.commit(SET_IS_LOADING,!1),new Error(n)})))},deleteSelectedItems=e=>{if(!api.canDelete)return;e.commit(SET_IS_LOADING,!0);const{selectedItems:t,search:n}=e.state;t.length>0&&t.forEach(r=>{typeof r.canDelete<"u"&&r.canDelete===!1||n&&!r.name.toLowerCase().includes(n.toLowerCase())||api.delete(r.path).then(()=>{e.commit(DELETE_SUCCESS,r),e.commit(UNSELECT_ALL_BROWSER_ITEMS),e.commit(SET_IS_LOADING,!1)}).catch(s=>{throw e.commit(SET_IS_LOADING,!1),new Error(s)})})},updateItemProperties=(e,t)=>e.commit(UPDATE_ITEM_PROPERTIES,t);var actions=Object.freeze({__proto__:null,getContents,getFullContents,download,toggleBrowserItemSelect,createDirectory,uploadFile,renameItem,deleteSelectedItems,updateItemProperties});const gridItemSizes=["sm","md","lg","xl"];var mutations={[SELECT_DIRECTORY]:(e,t)=>{e.selectedDirectory=t,e.search=""},[LOAD_CONTENTS_SUCCESS]:(e,t)=>{function n(o){const a=o.split("/");let l=dirname(o);return l.indexOf(":",l.length-1)!==-1&&(l+="/"),{path:o,name:a[a.length-1],directories:[],files:[],directory:l!=="."?l:null,type:"dir",mime_type:"directory"}}function r(o){if(!e.directories.some(l=>l.path===o)){const l=n(o);l.directories=e.directories.filter(c=>c.directory===l.path).map(c=>c.path),e.directories.push(l),l.directory&&r(l.directory)}}function s(o,a){const l=e.directories.find(m=>m.path===a.directory),c=e.directories.indexOf(l);let d=e.directories.findIndex(m=>m.path===a.path);d===-1&&(d=e.directories.length),e.directories.splice(d,1,a),c!==-1&&e.directories.splice(c,1,{...l,directories:[...l.directories,a.path]})}function i(o,a){const l=e.directories.find(m=>m.path===a.directory),c=e.directories.indexOf(l);let d=e.files.findIndex(m=>m.path===a.path);d===-1&&(d=e.files.length),e.files.splice(d,1,a),c!==-1&&e.directories.splice(c,1,{...l,files:[...l.files,a.path]})}r(e.selectedDirectory),t.directories.forEach(o=>s(null,o)),t.files.forEach(o=>i(null,o))},[UPLOAD_SUCCESS]:(e,t)=>{const n=t;if(!e.files.some(s=>s.path===n.path)){const s=e.directories.find(o=>o.path===n.directory),i=e.directories.indexOf(s);e.files.push(n),e.directories.splice(i,1,{...s,files:[...s.files,n.path]})}},[CREATE_DIRECTORY_SUCCESS]:(e,t)=>{const n=t;if(!e.directories.some(s=>s.path===n.path)){const s=e.directories.find(o=>o.path===n.directory),i=e.directories.indexOf(s);e.directories.push(n),e.directories.splice(i,1,{...s,directories:[...s.directories,n.path]})}},[RENAME_SUCCESS]:(e,t)=>{e.selectedItems[e.selectedItems.length-1].name=t.newName;const{item:n}=t,{oldPath:r}=t;if(n.type==="file"){const s=e.files.findIndex(i=>i.path===r);e.files.splice(s,1,n)}else{const s=e.directories.findIndex(i=>i.path===r);e.directories.splice(s,1,n)}},[DELETE_SUCCESS]:(e,t)=>{const n=t;n.type==="file"&&e.files.splice(e.files.findIndex(r=>r.path===n.path),1),n.type==="dir"&&e.directories.splice(e.directories.findIndex(r=>r.path===n.path),1)},[SELECT_BROWSER_ITEM]:(e,t)=>{e.selectedItems.push(t)},[SELECT_BROWSER_ITEMS]:(e,t)=>{e.selectedItems=t},[UNSELECT_BROWSER_ITEM]:(e,t)=>{const n=t;e.selectedItems.splice(e.selectedItems.findIndex(r=>r.path===n.path),1)},[UNSELECT_ALL_BROWSER_ITEMS]:e=>{e.selectedItems=[]},[SHOW_CREATE_FOLDER_MODAL]:e=>{e.showCreateFolderModal=!0},[HIDE_CREATE_FOLDER_MODAL]:e=>{e.showCreateFolderModal=!1},[SHOW_INFOBAR]:e=>{e.showInfoBar=!0},[HIDE_INFOBAR]:e=>{e.showInfoBar=!1},[CHANGE_LIST_VIEW]:(e,t)=>{e.listView=t},[LOAD_FULL_CONTENTS_SUCCESS]:(e,t)=>{e.previewItem=t},[SHOW_PREVIEW_MODAL]:e=>{e.showPreviewModal=!0},[HIDE_PREVIEW_MODAL]:e=>{e.showPreviewModal=!1},[SET_IS_LOADING]:(e,t)=>{e.isLoading=t},[SHOW_RENAME_MODAL]:e=>{e.showRenameModal=!0},[HIDE_RENAME_MODAL]:e=>{e.showRenameModal=!1},[SHOW_SHARE_MODAL]:e=>{e.showShareModal=!0},[HIDE_SHARE_MODAL]:e=>{e.showShareModal=!1},[INCREASE_GRID_SIZE]:e=>{const t=gridItemSizes.indexOf(e.gridSize);t>=0&&t<gridItemSizes.length-1&&(e.gridSize=gridItemSizes[t+1])},[DECREASE_GRID_SIZE]:e=>{const t=gridItemSizes.indexOf(e.gridSize);t>0&&t<gridItemSizes.length&&(e.gridSize=gridItemSizes[t-1])},[SET_SEARCH_QUERY]:(e,t)=>{e.search=t},[SHOW_CONFIRM_DELETE_MODAL]:e=>{e.showConfirmDeleteModal=!0},[HIDE_CONFIRM_DELETE_MODAL]:e=>{e.showConfirmDeleteModal=!1},[UPDATE_ITEM_PROPERTIES]:(e,t)=>{const{item:n,width:r,height:s}=t,i=e.files.findIndex(o=>o.path===n.path);e.files[i].width=r,e.files[i].height=s},[UPDATE_SORT_BY]:(e,t)=>{e.sortBy=t},[UPDATE_SORT_DIRECTION]:(e,t)=>{e.sortDirection=t==="asc"?"asc":"desc"}},store=createStore({state,getters,actions,mutations,plugins:[new VuexPersistence$1(persistedStateOptions).plugin],strict:!1});window.MediaManager=window.MediaManager||{},window.MediaManager.Event=new Event$1,createApp(script).use(store).use(Translate).mount("#com-media");
