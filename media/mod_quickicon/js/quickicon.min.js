/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */if(!Joomla)throw new Error("Joomla API was not properly initialized");Array.from(document.querySelectorAll(".quickicon")).forEach(t=>{const r=t.querySelector(".quickicon-amount");r&&r.dataset.url&&Joomla.request({url:r.dataset.url,method:"GET",onSuccess:n=>{let e;try{e=JSON.parse(n)}catch{t.classList.add("error")}if(Object.prototype.hasOwnProperty.call(e,"data")){const a=t.querySelector(".quickicon-name"),o=document.createElement("span");t.classList.add(e.data>0?"warning":"success"),e.data.name&&a&&(o.textContent=e.data.name,a.replaceChild(o,a.firstChild)),r.textContent=`\u200E${e.data.amount}`;const s=t.querySelector(".quickicon-sr-desc");e.data.sronly&&s&&(s.textContent=e.data.sronly)}else t.classList.add("error")},onError:()=>{t.classList.add("error")}})});
