(function(){"use strict";/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */(function(a,i){var c=function(){function r(s,t){this.form=s,this.inputSubject=this.form.querySelector("#jform_subject"),this.inputBody=this.form.querySelector("#jform_body"),this.inputHtmlBody=this.form.querySelector("#jform_htmlbody"),this.templateData=t&&t.templateData?t.templateData:{},this.form.EmailTemplateEdit=this}var d=r.prototype;return d.setBodyValue=function(t){i.editors.instances[this.inputBody.id]?i.editors.instances[this.inputBody.id].setValue(t):this.inputBody.value=t},d.setHtmlBodyValue=function(t){i.editors.instances[this.inputHtmlBody.id]?i.editors.instances[this.inputHtmlBody.id].setValue(t):this.inputHtmlBody.value=t},d.insertTag=function(t,l){if(!t)return!1;var e;switch(l){case"body":e=this.inputBody;break;case"htmlbody":e=this.inputHtmlBody;break;default:return!1}return i.editors.instances[e.id]?i.editors.instances[e.id].replaceSelection(t):e.value+=" "+t,!0},d.bindListeners=function(){var t=this;a.querySelector("#btnResetSubject").addEventListener("click",function(n){n.preventDefault(),t.inputSubject.value=t.templateData.subject?t.templateData.subject:""});var l=a.querySelector("#btnResetBody");l&&l.addEventListener("click",function(n){n.preventDefault(),t.setBodyValue(t.templateData.body?t.templateData.body:"")});var e=a.querySelector("#btnResetHtmlBody");e&&e.addEventListener("click",function(n){n.preventDefault(),t.setHtmlBodyValue(t.templateData.htmlbody?t.templateData.htmlbody:"")}),this.form.querySelectorAll(".edit-action-add-tag").forEach(function(n){n.addEventListener("click",function(o){o.preventDefault();var u=o.target;t.insertTag(u.dataset.tag,u.dataset.target)})})},r}();a.addEventListener("DOMContentLoaded",function(){var r=new c(a.getElementById("item-form"),i.getOptions("com_mails"));r.bindListeners()})})(document,Joomla)})();
