/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */((a,s)=>{class l{constructor(t,i){this.form=t,this.inputSubject=this.form.querySelector("#jform_subject"),this.inputBody=this.form.querySelector("#jform_body"),this.inputHtmlBody=this.form.querySelector("#jform_htmlbody"),this.templateData=i&&i.templateData?i.templateData:{},this.form.EmailTemplateEdit=this}setBodyValue(t){s.editors.instances[this.inputBody.id]?s.editors.instances[this.inputBody.id].setValue(t):this.inputBody.value=t}setHtmlBodyValue(t){s.editors.instances[this.inputHtmlBody.id]?s.editors.instances[this.inputHtmlBody.id].setValue(t):this.inputHtmlBody.value=t}insertTag(t,i){if(!t)return!1;let e;switch(i){case"body":e=this.inputBody;break;case"htmlbody":e=this.inputHtmlBody;break;default:return!1}return s.editors.instances[e.id]?s.editors.instances[e.id].replaceSelection(t):e.value+=` ${t}`,!0}bindListeners(){a.querySelector("#btnResetSubject").addEventListener("click",e=>{e.preventDefault(),this.inputSubject.value=this.templateData.subject?this.templateData.subject:""});const t=a.querySelector("#btnResetBody");t&&t.addEventListener("click",e=>{e.preventDefault(),this.setBodyValue(this.templateData.body?this.templateData.body:"")});const i=a.querySelector("#btnResetHtmlBody");i&&i.addEventListener("click",e=>{e.preventDefault(),this.setHtmlBodyValue(this.templateData.htmlbody?this.templateData.htmlbody:"")}),this.form.querySelectorAll(".edit-action-add-tag").forEach(e=>{e.addEventListener("click",d=>{d.preventDefault();const r=d.target;this.insertTag(r.dataset.tag,r.dataset.target)})})}}a.addEventListener("DOMContentLoaded",()=>{new l(a.getElementById("item-form"),s.getOptions("com_mails")).bindListeners()})})(document,Joomla);
